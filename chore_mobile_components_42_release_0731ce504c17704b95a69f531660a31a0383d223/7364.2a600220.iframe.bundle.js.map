{"version":3,"file":"7364.2a600220.iframe.bundle.js","mappings":"w4DAiBMA,OAAS,SAATA,OAAMC,MAAA,IAAMC,OAAMD,KAANC,OAAM,OACpBC,EAAAA,YAAAA,KAAA,UAAQC,MAAOF,OAAOG,IAAKC,SAAUJ,OAAOI,SAASC,SACtB,iBAAnBL,OAAOM,QAAuBN,OAAOM,QAAUN,OAAOG,KACzD,EAGPI,MAAQ,SAARA,MAAKC,OAAA,IAAMC,MAAKD,MAALC,MAAOC,QAAOF,MAAPE,QAAO,OAC3BT,EAAAA,YAAAA,KAAA,YAAUQ,MAAOA,MAAMJ,SAClBK,QAAQC,KAAI,SAACX,QAAM,OAChBC,EAAAA,YAAAA,KAACH,OAAM,CAACE,OAAQA,QAAaA,OAAOG,IAAO,KAExC,EAGFS,cAAeC,EAAAA,MAAAA,aACxB,SAAAC,MAAkFC,KAAS,IAAxFC,UAASF,MAATE,UAAWZ,SAAQU,MAARV,SAAUa,SAAQH,MAARG,SAAUf,MAAKY,MAALZ,MAAOgB,KAAIJ,MAAJI,KAAMR,QAAOI,MAAPJ,QAASS,SAAQL,MAARK,SAAaC,WAASC,EAAAA,wBAAAA,GAAAP,MAAAQ,WACpEC,aAAcC,EAAAA,MAAAA,cAAY,SAACC,OAC7BA,MAAMC,iBACV,GAAG,IAEH,OACIzB,EAAAA,YAAAA,KAAA,UAAA0B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACIX,UAAWA,UACXZ,SAAUA,SACVa,SAAUA,SACVC,KAAMA,KACNhB,MAAOA,MACPiB,SAAUA,SACVS,QAASL,YACTR,IAAKA,KACDK,WAAS,IAAAf,SAEZK,QAAQC,KAAI,SAACX,QAAM,OAChB6B,EAAAA,MAAAA,IAAQ7B,SACJ8B,EAAAA,MAAAA,eAACvB,OAAKoB,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAAK3B,QAAM,IAAEG,IAAKH,OAAOS,UAE/BR,EAAAA,YAAAA,KAACH,OAAM,CAACE,OAAQA,QAAaA,OAAOG,IACvC,MAIjB,I,6kBCzDJ,2BAA4B,kBAA5B,0BAA6D,qBAA7D,yBAAgG,oBAAhG,+BAAwI,0BAAxI,0BAAiL,qBAAjL,mBAA8M,cC8BjM4B,YAAalB,EAAAA,MAAAA,aACtB,SAAAd,KAmDIgB,KACE,IAlDEiB,WAAUjC,KAAViC,WACAhB,UAASjB,KAATiB,UACAiB,eAAclC,KAAdkC,eACAC,qBAAoBnC,KAApBmC,qBACAC,gBAAepC,KAAfoC,gBACAC,gBAAerC,KAAfqC,gBACA1B,QAAOX,KAAPW,QAAO2B,kBAAAtC,KACPuC,aAAAA,kBAAY,IAAAD,mBAAQA,kBAAAE,cAAAxC,KACpBkB,SAAAA,cAAQ,IAAAsB,eAAQA,cAAAC,mBAAAzC,KAChB0C,cAAAA,mBAAa,IAAAD,oBAAQA,mBAAAE,cAAA3C,KACrBK,SAAAA,cAAQ,IAAAsC,eAAQA,cAAAC,mBAAA5C,KAChB6C,cAAAA,mBAAa,IAAAD,oBAAI1B,SAAQ0B,mBAAAE,sBAAA9C,KACzB+C,mBAAAA,wBAAkB,IAAAD,uBAAQA,sBAAAE,kBAAAhD,KAC1BiD,aAAAA,kBAAY,IAAAD,mBAAQA,kBAAAE,iBAAAlD,KACpBmD,YAAAA,iBAAW,IAAAD,kBAAQA,iBACbE,SAAQpD,KAAdqD,KAAIC,qBAAAtD,KACJuD,gBAAAA,qBAAe,IAAAD,qBAAG,eAAcA,qBAAAE,iBAAAxD,KAChCyD,YAAAA,iBAAW,IAAAD,kBAAOA,iBAAAE,sBAAA1D,KAClB2D,iBAAAA,sBAAgB,IAAAD,sBAAG,UAASA,sBAC5BvC,KAAInB,KAAJmB,KACAyC,GAAE5D,KAAF4D,GACAC,SAAQ7D,KAAR6D,SAAQC,UAAA9D,KACR+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UAAAE,iBAAAhE,KACViE,YAAAA,iBAAW,IAAAD,iBAAGD,KAAIC,iBAClBE,MAAKlE,KAALkE,MACAC,KAAInE,KAAJmE,KACAC,MAAKpE,KAALoE,MACA1D,MAAKV,KAALU,MACA2D,UAASrE,KAATqE,UACAC,YAAWtE,KAAXsE,YAAWC,gBAAAvE,KACXwE,WAAAA,gBAAU,IAAAD,gBAAG,CAAC,EAACA,gBAAAE,sBAAAzE,KACf0E,iBAAAA,sBAAgB,IAAAD,sBAAG,CAAC,EAACA,sBAAAE,iBAAA3E,KACrB4E,YAAAA,iBAAW,IAAAD,iBAAG,CAAC,EAACA,iBAChBE,cAAa7E,KAAb6E,cACAzD,SAAQpB,KAARoB,SACA0D,OAAM9E,KAAN8E,OACAC,QAAO/E,KAAP+E,QACAC,OAAMhF,KAANgF,OACAC,SAAQjF,KAARiF,SACAC,MAAKlF,KAALkF,MAAKC,WAAAnF,KACLoF,MAAAA,WAAK,IAAAD,WAAG,kBAAM,IAAI,EAAAA,WAAAE,iBAAArF,KAClBsF,YAAAA,iBAAW,IAAAD,iBAAG,kBAAM,IAAI,EAAAA,iBAAAE,cAAAvF,KACxBwF,SAAAA,cAAQ,IAAAD,cAAG,kBAAM,IAAI,EAAAA,cAAAE,YAAAzF,KACrBD,OAAAA,YAAM,IAAA0F,YAAG,kBAAM,IAAI,EAAAA,YACnBC,cAAa1F,KAAb0F,cACAC,cAAa3F,KAAb2F,cAAaC,sBAAA5F,KACb6F,qBAAAA,0BAAoB,IAAAD,uBAAQA,sBAC5BE,eAAc9F,KAAd8F,eAIEC,SAAUC,EAAAA,MAAAA,QAAyB,MACnCC,UAAWD,EAAAA,MAAAA,QAAyB,MACpCE,SAAUF,EAAAA,MAAAA,QAAuB,MACjCG,cAAeH,EAAAA,MAAAA,QAA2B,MAE1CI,aAAe,SAAfA,aAAgBnG,QAAmB,OAAMA,OAASA,OAAOG,IAAM,EAAE,EAEvEiG,UAAyCC,EAAAA,MAAAA,UACrC,kBAAMC,EAAAA,MAAAA,IAAe5F,QAASkD,SAAS,GACvC,CAAClD,QAASkD,WAFN2C,YAAWH,SAAXG,YAAaC,gBAAeJ,SAAfI,gBAKfC,0BAAoE,CACtEN,aAAAA,aACAO,sBAAuB,SAAAA,sBAACC,SACpB,GAAIxF,SAAU,CACV,IAAAyF,sBAA+BD,QAAvBE,cAAAA,oBAAa,IAAAD,sBAAG,GAAEA,sBAE1BzF,SAAS,CACL2F,iBAAkBD,eAClBjD,SAAUiD,eAAcE,OAASF,eAAc,GAAK,KACpDG,UAAWd,aAAae,QACxB/F,KAAAA,OAGJgF,aAAae,QAAU,IAC3B,CACJ,EACAC,aAAc,SAAAA,aAACC,MAAOC,kBAClB,IAAQC,KAAkBD,iBAAlBC,KAAMV,QAAYS,iBAAZT,QAEd,OACKlE,eACD4E,OAASC,cAAAA,GAAAA,iBAAAA,yBAKNX,QAHIQ,KAIf,QAGaI,IAAb3D,WACA6C,0BAA0BI,cAAgBL,iBAG9C,IAAAgB,uBAMIF,EAAAA,cAAAA,IAAqBb,2BALrBI,cAAaW,sBAAbX,cACAY,gBAAeD,sBAAfC,gBACAC,iBAAgBF,sBAAhBE,iBACAC,mBAAkBH,sBAAlBG,mBACAC,iBAAgBJ,sBAAhBI,iBAGJC,cAUIC,EAAAA,cAAAA,IAAyB,CACzBnE,GAAAA,GACAoE,OAAQ5E,SACRL,mBAAAA,mBACAkF,MAAOzB,YACPJ,aAAAA,aACA8B,wBAAkD,IAAzBpB,cAAcE,QAAgB,OAAIQ,EAC3DW,eAAgB,SAAAA,eAACvB,SACT9B,QAOAsD,YAAW,WACPtD,OAAO,CACHzB,KAAMuD,QAAQoB,OACd7G,KAAAA,MAER,GAAG,EAEX,EACAgG,aAAc,SAAAA,aAACC,MAAOC,kBAClB,IAAQC,KAAkBD,iBAAlBC,KAAMV,QAAYS,iBAAZT,QACNyB,aAAiBzB,QAAjByB,aAER,OAAQf,MACJ,KAAKS,cAAAA,GAAAA,iBAAAA,kBACL,KAAKA,cAAAA,GAAAA,iBAAAA,UAGD,GAFA5B,aAAae,QAAUmB,aAEnBA,eAAiBA,aAAahI,SAAU,CACxC,IAAMiI,gBAAkBxB,cAAcyB,SAASF,cACzCG,YACF9F,eAAkBxB,UAAY4F,cAAcE,OAAS,EAErDsB,iBAAmBE,aACnBZ,mBAAmBS,cAGlBC,kBACGpH,SACAwG,gBAAgBW,cAEhBV,iBAAiB,CAACU,eAG9B,CAEA,OAAAzG,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACOgF,SAAO,IACVoB,QAASnF,cAET4F,iBACIrB,MAAMY,SAAWnF,cACXuE,MAAMqB,iBACN7B,QAAQ6B,mBAE1B,QACI,OAAO7B,QAEnB,IAvEQvD,KAAIyE,aAAZE,OACAU,aAAYZ,aAAZY,aACAC,cAAab,aAAba,cACAC,aAAYd,aAAZc,aACAC,iBAAgBf,aAAhBe,iBACAC,cAAahB,aAAbgB,cACAL,iBAAgBX,aAAhBW,iBACAM,WAAUjB,aAAViB,WACAC,SAAQlB,aAARkB,SAkEEC,UAAaP,aACf,CAAE1H,IAAKkF,SACP,CAAEgD,kBAAkB,IAElBC,WAAaR,cAAcd,iBAAiB,CAAE7G,KAAKoI,EAAAA,qBAAAA,GAAU,CAACpI,IAAKiF,cAkDnEoD,0BAA2B5H,EAAAA,MAAAA,cAC7B,SAACC,OACGiG,kBAEI2B,EAAAA,kBAAAA,GAAK5H,MAAM6H,OAAO5I,SAAiB6I,QAC/B,SAACC,IAAKxJ,OAAQyJ,OAAK,OACfzJ,OAAO4D,SAAW4F,IAAIE,OAAOnD,YAAYkD,QAAUD,GAAG,GAC1D,IAGZ,GACA,CAACjD,YAAamB,mBAGZiC,gBAAiBnI,EAAAA,MAAAA,cACnB,SAACxB,OAAqByJ,OAAa,OAAA9H,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAC3BgD,aAAW,IACf3D,UAAWmB,gBACXyH,WAAYjB,aAAa,CACrBc,MAAAA,MACAI,KAAM7J,OACNI,SAAUJ,OAAOI,SACjB0J,YAAa,SAAAA,YAACrI,OAAiB,OAAKA,MAAMsI,gBAAgB,IAE9D9I,SAAAA,SACAwI,MAAAA,MACAzJ,OAAAA,OACA8D,KAAME,YACN5D,SAAUJ,OAAOI,SACjB4J,YAAaP,QAAUjB,iBACvB5E,SAAUiD,cAAcyB,SAAStI,QACjCgC,YAAYiI,EAAAA,cAAAA,GAAcjI,WAAY,WAAS,GAEnD,CACIA,WACA2G,aACAH,iBACAvH,SACAkB,gBACAwC,YACAX,YACA6C,iBAIRqD,EAAAA,MAAAA,YAAU,WACFhH,aAAa6F,UACrB,GAAG,CAAC7F,YAAa6F,YAEjBmB,EAAAA,MAAAA,YAAU,WACF/G,UACA4F,UAGR,GAAG,IAEH,IAAMoB,sBAAuB3I,EAAAA,MAAAA,cAAY,WACrC,GAAIyE,QAAQgB,QAAS,CACjB,IAAMmD,UAAiC,UAArB1G,iBAA+B,QAAU,WAErD2G,oBAAsBvE,QAAQmB,QAC9BnB,QAAQmB,QAAQqD,wBAAwBC,MACxC,EAENtE,QAAQgB,QAAQuD,aAAa,QAAS,IACtCvE,QAAQgB,QAAQwD,MAAML,WAAU,GAAAV,OAAMW,oBAAmB,KAC7D,CACJ,GAAG,CAAC3G,oBAEJwG,EAAAA,MAAAA,YAAU,WACN,IACMQ,SAAW,IADMC,OAAOC,gBAAkBC,gBAAAA,IACZV,sBAMpC,OAJIrE,QAAQmB,SACRyD,SAASI,QAAQhF,QAAQmB,SAGtB,WACHyD,SAASK,YACb,CACJ,GAAG,CAACZ,qBAAsB/G,KAAMM,oBAEhCsH,EAAAA,IAAAA,IAA6Bb,qBAAsB,CAC/C/G,KACAM,iBACAhD,QACAmG,gBAGJ,IAAMoE,aAAczJ,EAAAA,MAAAA,cAChB,kBACIqF,cAAclG,KAAI,SAACX,QAAM,OACrBC,EAAAA,YAAAA,KAAA,SAAOoH,KAAK,SAASnG,KAAMA,KAAMhB,MAAOF,OAAOG,KAAUH,OAAOG,IAAO,GACzE,GACN,CAAC0G,cAAe3F,OAGdgK,oBAAqB1J,EAAAA,MAAAA,cAAY,WACnC,IAAMtB,MAAQe,SACR4F,cAAclG,KAAI,SAACX,QAAM,OAAKA,OAAOG,GAAG,KACvC0G,cAAc,IAAM,CAAC,GAAG1G,IAE/B,OACIF,EAAAA,YAAAA,KAACW,cAAYe,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACLqH,WAAS,IACbhI,UAAWmK,0BACX/K,SAAUA,SACVa,SAAUA,SACVC,KAAMA,KACNhB,MAAOA,MACPiB,SAAUiI,yBACV1I,QAASA,UAGrB,GAAG,CAACO,SAAU4F,cAAezG,SAAUc,KAAMkI,yBAA0B1I,QAASsI,YAE1EoC,sBAAwB7E,YAAYQ,OAAS,GAAKnB,qBAExD,OACIyF,EAAAA,YAAAA,MAAA,OAAA1J,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACQiH,kBAAgBjH,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAC,CACjBZ,IAAK+E,SACD1F,UAAY,CAAE,iBAAiB,IAAQ,CAAF,GACzCY,UAAWsK,qBAAGH,wBAAgBI,EAAAA,eAAAA,GAAA,GAAKJ,mBAAehH,OAASnD,eAC7D,IACFwK,UAAWpL,cAAWmH,EAzJH,SAArBkE,mBAAsBhK,OACxByH,WAAWsC,UAAU/J,QACjBa,cAAiBc,MAA8B,IAArB3B,MAAMtB,IAAI4G,QAA8B,cAAdtF,MAAMtB,KAE1D4I,YAIA,CAAC,IAAK,SAAST,SAAS7G,MAAMtB,MAC7BmC,cACAU,cACyC,UAAzCvB,MAAM6H,OAAuBoC,SACY,WAAzCjK,MAAM6H,OAAuBoC,UAG9BjK,MAAMsI,iBACD3G,OAA8B,IAAtBoF,kBAAyBM,aAE9C,EAwIQ6C,UAAW,EACX,gBAAc1B,EAAAA,cAAAA,GAAcjI,YAAY3B,SAAA,CAEvC2C,cAAgBkI,sBAEjBjL,EAAAA,YAAAA,KAACkF,OAAKxD,EAAAA,cAAAA,GAAA,CACFmF,iBAAkBD,cAClBjD,SAAUiD,cAAc,GACxBa,iBAAkBA,iBAClBoB,WAAYA,WACZ7H,SAAUA,SACVmC,KAAMA,KACNhD,SAAUA,SACV0D,KAAMA,KACNO,YAAaA,YACb5D,MAAOA,QAASR,EAAAA,YAAAA,KAAA,QAAA0B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAAUkH,iBAAe,IAAAxI,SAAGI,SAC5C2D,UAAWA,UACXa,MAAOA,QAAShF,EAAAA,YAAAA,KAACgF,MAAK,CAAC7B,KAAMA,OAC7Ba,MAAOA,MACPC,KAAMA,KACNU,cAAeA,cACf5D,UAAWiB,eACX2H,WAAY,CACR7E,OA7LQ,SAAlB6G,gBAAmBnK,OAA0D,IAADoK,kBACjC,QAAlBA,iBAAG5F,QAAQgB,eAAO,IAAA4E,sBAAA,EAAfA,iBAAiBC,SAC1CrK,MAAMsK,eAAiBC,SAASC,kBAI7BlH,QAAQA,OAAOtD,OAEnByH,WAAWnE,OAAOtD,OAE1B,EAoLgBqD,QAAS1E,cAAWmH,EAtMX,SAAnB2E,iBAAoBzK,OAClBqD,SAASA,QAAQrD,OAEjBa,eAAiBc,MACjB2F,UAER,EAiMgBnH,QAASxB,cAAWmH,EA/JX,SAAnB4E,iBAAoB1K,OACjBa,cAA0D,UAAzCb,MAAM6H,OAAuBoC,QAG/C3C,WAFAD,YAIR,EA0JgB6C,SAAUvL,cAAWmH,EAAYvE,cAAgB,EAAI,EACrDjC,KAAKoI,EAAAA,qBAAAA,GAAU,CAACD,WAAWnI,MAC3B4C,GAAIuF,WAAWvF,GACf,kBAAmBuF,WAAW,mBAC9B,gBAAiBA,WAAW,iBAC5B,oBAAqB5G,aACf4G,WAAW,0BACX3B,GAEVvF,YAAYiI,EAAAA,cAAAA,GAAcjI,WAAY,UACjCuC,aAGRrD,OAAS8B,cAAgBiI,eAExBjI,eACE/C,EAAAA,YAAAA,KAACmM,OAAAA,QAAO,CACJhJ,KAAMA,KACNiJ,gBAAgB,EAChBC,cAAetG,SAASiB,QACxBsF,SAAUjJ,gBACVE,YAAaA,YACbpB,gBAAiBkJ,qBAAGH,0BAAqB/I,iBACzCoK,OAAQ/G,cACRgH,OAAQ/G,cAAcrF,SAErB+K,wBACGC,EAAAA,YAAAA,MAAA,OAAA1J,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACQqH,WAAS,IACbhI,UAAWsK,qBAAGpJ,qBAAsBiJ,0BAAoB9K,SAAA,EAExDJ,EAAAA,YAAAA,KAACoF,aAAW1D,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACH8C,kBAAgB,IACrBf,iBAAkBA,iBAClB6C,YAAaA,YACbiC,iBAAkBA,iBAClBpF,KAAMA,KACNU,KAAMA,KACNpD,QAASA,QACT6E,SAAUA,SACVzF,OAAQA,OACR+G,cAAeA,cACfa,iBAAkBA,iBAClBoB,WAAYA,WACZa,eAAgBA,eAChB9D,eAAgBA,eAChBb,SAAUA,SACVhD,YAAYiI,EAAAA,cAAAA,GAAcjI,WAAY,oBAE1C/B,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,0CAO5C,I,mgRCpcSuB,eAAgB7L,EAAAA,MAAAA,aACzB,SAAAd,KAUIgB,KAAG,IAAA4L,WAAA5M,KARCkF,MAAAA,WAAK,IAAA0H,WAAGC,MAAAA,EAAYD,WAAAzH,WAAAnF,KACpBoF,MAAAA,WAAK,IAAAD,WAAG2H,MAAAA,EAAY3H,WAAAE,iBAAArF,KACpBsF,YAAAA,iBAAW,IAAAD,iBAAG0H,aAAAA,EAAkB1H,iBAAAE,cAAAvF,KAChCwF,SAAAA,cAAQ,IAAAD,cAAGyH,SAAAA,EAAezH,cAAAE,YAAAzF,KAC1BD,OAAAA,YAAM,IAAA0F,YAAGwH,kBAAAA,EAAaxH,YAAAlB,gBAAAvE,KACtBwE,WAAAA,gBAAU,IAAAD,gBAAG,CAAC,EAACA,gBACZlD,WAASC,EAAAA,wBAAAA,GAAAtB,KAAAuB,4BAAA,OAIhBrB,EAAAA,YAAAA,KAAC8B,YAAUJ,EAAAA,cAAAA,GAAA,CACPZ,IAAKA,IACLjB,OAAQA,OACRqF,MAAOA,MACPZ,YAAU5C,EAAAA,cAAAA,GAAA,CACNsL,qBAAsBC,QAAAA,oBAClB3I,YAERgB,SAAUA,SACVF,YAAaA,YACbJ,MAAOA,OACH7D,WACN,I,w7mBCYG+L,cAAetM,EAAAA,mCAAAA,aACxB,SAAAd,KAgCIgB,KACE,IAADsB,kBAAAtC,KA/BGuC,aAAAA,kBAAY,IAAAD,mBAAQA,kBAAAE,cAAAxC,KACpBkB,SAAAA,cAAQ,IAAAsB,eAAQA,cAAAC,mBAAAzC,KAChB0C,cAAAA,mBAAa,IAAAD,oBAAQA,mBAAAE,cAAA3C,KACrBK,SAAAA,cAAQ,IAAAsC,eAAQA,cAAAC,mBAAA5C,KAChB6C,cAAAA,mBAAa,IAAAD,oBAAI1B,SAAQ0B,mBAAAE,sBAAA9C,KACzB+C,mBAAAA,wBAAkB,IAAAD,uBAAQA,sBAAAI,iBAAAlD,KAC1BmD,YAAAA,iBAAW,IAAAD,kBAAQA,iBACbE,SAAQpD,KAAdqD,KAAIS,UAAA9D,KACJ+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UAAAE,iBAAAhE,KACViE,YAAAA,iBAAW,IAAAD,iBAAG,IAAGA,iBAAAO,gBAAAvE,KACjBwE,WAAAA,gBAAU,IAAAD,gBAAG,CAAC,EAACA,gBAAAI,iBAAA3E,KACf4E,YAAAA,iBAAW,IAAAD,iBAAG,CAAC,EAACA,iBAAAF,sBAAAzE,KAChB0E,iBAAAA,sBAAgB,IAAAD,sBAAG,CAAC,EAACA,sBAAAmI,WAAA5M,KACrBkF,MAAAA,WAAK,IAAA0H,WAAGC,+CAAAA,EAAYD,WAAAzH,WAAAnF,KACpBoF,MAAAA,WAAK,IAAAD,WAAG2H,+CAAAA,EAAY3H,WAAAI,cAAAvF,KACpBwF,SAAAA,cAAQ,IAAAD,cAAGyH,kDAAAA,EAAezH,cAAAE,YAAAzF,KAC1BD,OAAAA,YAAM,IAAA0F,YAAGwH,gDAAAA,EAAaxH,YACtB5B,SAAQ7D,KAAR6D,SACAlD,QAAOX,KAAPW,QAAO0E,iBAAArF,KACPsF,YAAAA,iBAAW,IAAAD,iBAAG1E,QAAQqG,OAxBK,GAyBrBqG,8DAAAA,EACAN,sDAAAA,EAAkB1H,iBACxBjE,SAAQpB,KAARoB,SACAkM,iBAAgBtN,KAAhBsN,iBAAgBC,eAAAvN,KAChBwN,UAAAA,eAAS,IAAAD,gBAAOA,eAChBE,cAAazN,KAAbyN,cACAC,wBAAuB1N,KAAvB0N,wBAAuBC,sBAAA3N,KACvB4N,iBAAAA,sBAAgB,IAAAD,sBAAGzM,SAAQyM,sBACxBtM,WAASC,EAAAA,sLAAAA,GAAAtB,KAAAuB,WAIVsM,YAAaC,EAAAA,+DAAAA,GAAmB,CAClCpJ,kBAAgB9C,EAAAA,4KAAAA,IAAAA,EAAAA,4KAAAA,GAAA,GACR8C,kBAAgB,IACpBqJ,OAAAA,mEAAAA,IAEJzI,YAAAA,YACAzB,SAAAA,SACAlD,QAAAA,QACAS,SAAAA,SACAoM,UAAAA,UACAC,cAAAA,gBAGJ,OACIvN,EAAAA,gDAAAA,KAAC8N,4DAAAA,GAAgBpM,EAAAA,4KAAAA,IAAAA,EAAAA,4KAAAA,GAAA,CACbZ,IAAKA,IACLuB,aAAcA,aACdrB,SAAUA,SACVwB,cAAeA,cACfrC,SAAUA,SACVwC,cAAeA,cACfE,mBAAoBA,mBACpBI,YAAaA,YACbE,KAAMD,SACNW,KAAMA,KACNE,YAAaA,YACbO,YAAU5C,EAAAA,4KAAAA,GAAA,CACNsL,qBAAsBe,0EAAAA,mBAClBzJ,YAERI,YAAaA,YACbM,MAAOA,MACPE,MAAOA,MACPI,SAAUA,SACVzF,OAAQA,OACRmO,eAAe,EACfvN,QAASA,QACTkD,SAAUA,SACVzC,SAAUA,SACVkE,YAAaA,YACbgI,kBAAgB1L,EAAAA,4KAAAA,GAAA,CACZuM,aAAcP,kBAAoBF,0BAC9BxN,EAAAA,gDAAAA,KAACkO,mGAAAA,GAAMxM,EAAAA,4KAAAA,IAAAA,EAAAA,4KAAAA,GAAA,GAAKiM,WAAWnJ,iBAAiB2J,aAAW,IAAEC,QAAQ,MAE9DhB,kBAEP5I,iBAAkBA,kBACdrD,WACCuM,kBAAoBC,YAGrC,I,62cClJJ,mBAAwB,cAAxB,kBAA6C,a,uECQhC3I,MAAQ,SAARA,MAAKlF,MAAA,IAAMqD,KAAIrD,KAAJqD,KAAMpC,UAASjB,KAATiB,UAAS,OACnCf,EAAAA,YAAAA,KAACqO,iBAAAA,iBAAgB,CAACtN,UAAWsK,qBAAGH,mBAAcnK,WAASuK,EAAAA,eAAAA,GAAA,GAAKJ,kBAAc/H,QAAW,E,kvCCTzF,oBAAyB,eAAzB,oBAAiD,eAAjD,yBAA8E,oB,uECajE0K,OAAS,SAATA,OAAM/N,MAA8D,IAAxDwO,YAAWxO,KAAXwO,YAAaC,YAAWzO,KAAXyO,YAAajB,UAASxN,KAATwN,UAC/CkB,aAA4CC,EAAAA,MAAAA,YAAWC,OAAAA,kBAA/CC,kBAAiBH,YAAjBG,kBAAmBC,aAAYJ,YAAZI,aAM3B,OAJA3E,EAAAA,MAAAA,YAAU,WACN2E,cAAa,EACjB,GAAG,CAACA,gBAGAxD,EAAAA,YAAAA,MAAA,OAEIM,SAAU,EACV3K,UAAWsK,qBAAGH,qBAAaI,EAAAA,eAAAA,GAAA,GACtBJ,yBAAqByD,oBACvBvO,SAAA,CAEFkN,YACGtN,EAAAA,YAAAA,KAAC6O,OAAAA,aAAY,CACThL,KAAK,IACLiL,KAAK,YACL/N,UAAWmK,oBACXvJ,QAAS4M,YAAYnO,SACxB,cAKLJ,EAAAA,YAAAA,KAAC6O,OAAAA,aAAY,CAAChL,KAAK,IAAIiL,KAAK,UAAU/N,UAAWmK,oBAAevJ,QAAS2M,YAAYlO,SAAC,gBAKlG,E,ouEC5CA,uBAA4B,kBAA5B,mBAAsD,cAAtD,0BAAmF,qBAAnF,4BAAyH,uBAAzH,mBAAwJ,cAAxJ,oBAA+K,eAA/K,yBAA4M,oB,uEC6E/L0N,kBAAmBlN,EAAAA,MAAAA,aAC5B,SAAAd,KAkDIgB,KACE,IAjDEiB,WAAUjC,KAAViC,WACAhB,UAASjB,KAATiB,UACAiB,eAAclC,KAAdkC,eACAC,qBAAoBnC,KAApBmC,qBACAC,gBAAepC,KAAfoC,gBACA6M,qBAAoBjP,KAApBiP,qBACAvK,iBAAgB1E,KAAhB0E,iBAAgBwK,aAAAlP,KAChBW,QAAAA,aAAO,IAAAuO,aAAG,GAAEA,aAAA5M,kBAAAtC,KACZuC,aAAAA,kBAAY,IAAAD,mBAAQA,kBAAAE,cAAAxC,KACpBkB,SAAAA,cAAQ,IAAAsB,eAAQA,cAAAC,mBAAAzC,KAChB0C,cAAAA,mBAAa,IAAAD,oBAAQA,mBAAAE,cAAA3C,KACrBK,SAAAA,cAAQ,IAAAsC,eAAQA,cAAAC,mBAAA5C,KAChB6C,cAAAA,mBAAa,IAAAD,oBAAI1B,SAAQ0B,mBAAAE,sBAAA9C,KACzB+C,mBAAAA,wBAAkB,IAAAD,uBAAQA,sBAAAI,iBAAAlD,KAC1BmD,YAAAA,iBAAW,IAAAD,kBAAQA,iBACbE,SAAQpD,KAAdqD,KAAIK,sBAAA1D,KACJ2D,iBAAAA,sBAAgB,IAAAD,sBAAG,UAASA,sBAC5BvC,KAAInB,KAAJmB,KACAyC,GAAE5D,KAAF4D,GAAEuL,cAAAnP,KACF6D,SAAAA,cAAQ,IAAAsL,cAAG,GAAEA,cAAArL,UAAA9D,KACb+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UAAAE,iBAAAhE,KACViE,YAAAA,iBAAW,IAAAD,iBAAG,IAAGA,iBACjBE,MAAKlE,KAALkE,MACAC,KAAInE,KAAJmE,KACAC,MAAKpE,KAALoE,MACA1D,MAAKV,KAALU,MACA2D,UAASrE,KAATqE,UACAC,YAAWtE,KAAXsE,YAAWC,gBAAAvE,KACXwE,WAAAA,gBAAU,IAAAD,gBAAG,CAAC,EAACA,gBAAAI,iBAAA3E,KACf4E,YAAAA,iBAAW,IAAAD,iBAAG,CAAC,EAACA,iBAChBE,cAAa7E,KAAb6E,cACAzD,SAAQpB,KAARoB,SACA0D,OAAM9E,KAAN8E,OACAC,QAAO/E,KAAP+E,QAAO6H,WAAA5M,KACPkF,MAAAA,WAAK,IAAA0H,WAAGC,MAAAA,EAAYD,WAAAzH,WAAAnF,KACpBoF,MAAAA,WAAK,IAAAD,WAAG2H,MAAAA,EAAY3H,WAAAI,cAAAvF,KACpBwF,SAAAA,cAAQ,IAAAD,cAAGyH,SAAAA,EAAezH,cAAAE,YAAAzF,KAC1BD,OAAAA,YAAM,IAAA0F,YAAGwH,kBAAAA,EAAaxH,YAAAJ,iBAAArF,KACtBsF,YAAAA,iBAAW,IAAAD,iBAAG0H,aAAAA,EAAkB1H,iBAChC+J,UAASpP,KAAToP,UACAC,OAAMrP,KAANqP,OACAnB,cAAalO,KAAbkO,cACAZ,iBAAgBtN,KAAhBsN,iBACAgC,WAAUtP,KAAVsP,WACAC,iBAAgBvP,KAAhBuP,iBACAC,iBAAgBxP,KAAhBwP,iBAAgB5J,sBAAA5F,KAChB6F,qBAAAA,0BAAoB,IAAAD,uBAAQA,sBAI1BG,SAAUC,EAAAA,MAAAA,QAAyB,MACnCC,UAAWD,EAAAA,MAAAA,QAAyB,MACpCE,SAAUF,EAAAA,MAAAA,QAAuB,MACjCG,cAAeH,EAAAA,MAAAA,QAA2B,MAC1CyJ,mBAAoBzJ,EAAAA,MAAAA,SAAgB,GAEpCI,aAAe,SAAfA,aAAgBnG,QAAmB,OAAMA,OAASA,OAAOG,IAAM,EAAE,EAEvEiG,UAAyCC,EAAAA,MAAAA,UACrC,kBAAMC,EAAAA,MAAAA,IAAe5F,QAASkD,SAAS,GACvC,CAAClD,QAASkD,WAFN2C,YAAWH,SAAXG,YAAaC,gBAAeJ,SAAfI,gBAKfiJ,wBAAyB1J,EAAAA,MAAAA,QAAuB,MAEhDU,0BAAoE,CACtEN,aAAAA,aACAO,sBAAuB,SAAAA,sBAACC,SACpB,GAAIxF,SAAU,CACV,IAAAyF,sBAA+BD,QAAvBE,cAAAA,oBAAa,IAAAD,sBAAG,GAAEA,sBAE1BzF,SAAS,CACL2F,iBAAkBD,eAClBjD,SAAUiD,eAAcE,OAASF,eAAc,GAAK,KACpDG,UAAWd,aAAae,QACxB/F,KAAAA,OAGJgF,aAAae,QAAU,IAC3B,CACJ,EACAC,aAAc,SAAAA,aAACC,MAAOC,kBAClB,IAAQC,KAAkBD,iBAAlBC,KAAMV,QAAYS,iBAAZT,QAEd,OACKlE,eACD4E,OAASC,cAAAA,GAAAA,iBAAAA,yBAKNX,QAHIQ,KAIf,QAGaI,IAAb3D,WACA6C,0BAA0BI,cAAgBL,iBAG9C,IAAAgB,uBAMIF,EAAAA,cAAAA,IAAqBb,2BALrBI,cAAaW,sBAAbX,cACAY,gBAAeD,sBAAfC,gBACAC,iBAAgBF,sBAAhBE,iBACAC,mBAAkBH,sBAAlBG,mBACAC,iBAAgBJ,sBAAhBI,iBAGJC,cAUIC,EAAAA,cAAAA,IAAyB,CACzBnE,GAAAA,GACAoE,OAAQ5E,SACRL,mBAAAA,mBACAkF,MAAOzB,YACPJ,aAAAA,aACA8B,yBAA0B,EAC1BC,eAAgB,SAAAA,eAAA1H,OAAiB,IAAduH,OAAMvH,MAANuH,OACXlD,QAOAsD,YAAW,WACPtD,OAAO,CACHzB,KAAM2E,OACN7G,KAAAA,MAER,GAAG,EAEX,EACAgG,aAAc,SAAAA,aAACC,MAAOC,kBAClB,IAAQC,KAAkBD,iBAAlBC,KAAMV,QAAYS,iBAAZT,QACNyB,aAAiBzB,QAAjByB,aAER,OAAQf,MACJ,KAAKS,cAAAA,GAAAA,iBAAAA,UACD,OAAOX,MACX,KAAKW,cAAAA,GAAAA,iBAAAA,kBACL,KAAKA,cAAAA,GAAAA,iBAAAA,UAGD,GAFA5B,aAAae,QAAUmB,aAEnBA,eAAiBA,aAAahI,WAAaoP,kBAAkBvI,QAAS,CACtEuI,kBAAkBvI,SAAU,EAE5BkB,YAAW,WACPqH,kBAAkBvI,SAAU,CAChC,IACA,IAAMoB,gBAAkBxB,cAAcyB,SAASF,cACzCG,YACF9F,eAAkBxB,UAAY4F,cAAcE,OAAS,EAErDsB,iBAAmBE,cACftH,SACA0G,mBAAmBS,cAEnBV,iBAAiB,KAIpBW,kBACGpH,SACAwG,gBAAgBW,cAEhBV,iBAAiB,CAACU,eAG9B,CAEA,OAAAzG,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACOgF,SAAO,IACVoB,QAASnF,eAAiB3B,SAE1BuH,iBACIrB,MAAMY,SAAWnF,cACXuE,MAAMqB,iBACN7B,QAAQ6B,mBAE1B,QACI,OAAO7B,QAEnB,IAlFQvD,KAAIyE,aAAZE,OACAU,aAAYZ,aAAZY,aACAC,cAAab,aAAba,cACAC,aAAYd,aAAZc,aACAC,iBAAgBf,aAAhBe,iBACAC,cAAahB,aAAbgB,cACAL,iBAAgBX,aAAhBW,iBACAM,WAAUjB,aAAViB,WACAC,SAAQlB,aAARkB,SA6EEC,UAAaP,aACf,CAAE1H,IAAKkF,SACP,CAAEgD,kBAAkB,IAElBC,WAAaR,cAAcd,iBAAiB,CAAE7G,KAAKoI,EAAAA,qBAAAA,GAAU,CAACpI,IAAKiF,cAqCnE2D,eAAiB,SAAjBA,eAAkB3J,OAAqByJ,OACzC,IAAMrB,aAAevB,cAAcyB,SAAStI,QAE5C,OAAA2B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACQgD,aAAW,IACf0J,QAAQ,EACRrN,UAAWsK,qBAAGH,oBAAehJ,iBAC7ByH,WAAYjB,aAAa,CACrBc,MAAAA,MACAI,KAAM7J,OACNI,SAAUJ,OAAOI,SACjB0J,YAAa,SAAAA,YAACrI,OAAiB,OAAKA,MAAMsI,gBAAgB,IAE9D9I,SAAAA,SACAwI,MAAAA,MACAzJ,OAAAA,OACA8D,KAAME,YACN5D,SAAUJ,OAAOI,SACjB4J,YAAaP,QAAUjB,iBACvB5E,SAAUwE,aACVpG,YAAYiI,EAAAA,cAAAA,GAAcjI,WAAY,WAE9C,GAEAkI,EAAAA,MAAAA,YAAU,WACFhH,aAAa6F,UACrB,GAAG,CAAC7F,YAAa6F,YAEjBmB,EAAAA,MAAAA,YAAU,WACF/G,UACA4F,UAGR,GAAG,IAEH,IAAM2G,YAAc,SAAdA,cACF5G,YACJ,EAOM6G,kBAAoB,SAApBA,oBACF,OAA2B,IAAvBpJ,YAAYQ,QAAiBnB,sBAG7B3F,EAAAA,YAAAA,KAAA,OAAA0B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAASqH,WAAS,IAAEhI,UAAWkB,qBAAqB7B,UAChDJ,EAAAA,YAAAA,KAACoF,aAAW1D,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACH8C,kBAAgB,IACrB1D,IAAK0O,uBACL/L,iBAAkBA,iBAClB6C,YAAaA,YACbiC,iBAAkBA,iBAClBpF,KAAMA,KACNU,KAAMA,KACNpD,QAASA,QACT6E,SAAUA,SACVzF,OAAQA,OACR+G,cAAeA,cACfa,iBAAkBA,iBAClBoB,WAAYA,WACZa,eAAgBA,eAChB9D,eAAgB,EAChB7D,YAAYiI,EAAAA,cAAAA,GAAcjI,WAAY,gBACtCgN,qBAAsB1D,qBAAGH,yBAAoB6D,4BArBK,IAyBlE,EAEA,OACI3D,EAAAA,YAAAA,MAAA,OAAA1J,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACQiH,kBAAgBjH,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAC,CACjBZ,IAAK+E,SACD1F,UAAY,CAAE,iBAAiB,IAAQ,CAAF,GACzCY,UAAWsK,qBAAGH,wBAAgBI,EAAAA,eAAAA,GAAA,GAAKJ,mBAAehH,OAASnD,eAC7D,IACFwK,UAAWpL,cAAWmH,EA1GH,SAArBkE,mBAAsBhK,OACxByH,WAAWsC,UAAU/J,QACjBa,cAAiBc,MAA8B,IAArB3B,MAAMtB,IAAI4G,QAA8B,cAAdtF,MAAMtB,KAE1D4I,WAIA,CAAC,IAAK,SAAST,SAAS7G,MAAMtB,OAC7BmC,cACyC,UAAzCb,MAAM6H,OAAuBoC,SACY,WAAzCjK,MAAM6H,OAAuBoC,UAG9BjK,MAAMsI,iBACD3G,OAA8B,IAAtBoF,kBAAyBM,aAE9C,EA0FQ6C,UAAW,EACX,gBAAc1B,EAAAA,cAAAA,GAAcjI,YAAY3B,SAAA,EAExCJ,EAAAA,YAAAA,KAACkF,OAAKxD,EAAAA,cAAAA,GAAA,CACFmF,iBAAkBD,cAClBjD,SAAUiD,cAAc,GACxBa,iBAAkBA,iBAClBoB,WAAYA,WACZ7H,SAAUA,SACVmC,KAAMA,KACNhD,SAAUA,SACV0D,KAAMA,KACNO,YAAaA,YACb5D,MAAOA,QAASR,EAAAA,YAAAA,KAAA,QAAA0B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAAUkH,iBAAe,IAAAxI,SAAGI,SAC5C2D,UAAWA,UACXa,MAAOA,QAAShF,EAAAA,YAAAA,KAACgF,MAAK,CAAC7B,KAAMA,OAC7Ba,MAAOA,MACPC,KAAMA,KACNU,cAAeA,cACf5D,UAAWiB,eACX2H,WAAY,CACR9E,QAAS1E,cAAWmH,EAxIX,SAAnB2E,iBAAoBzK,OAClBqD,SAASA,QAAQrD,OAEjBa,eAAiBc,MACjB2F,UAER,EAmIgBnH,QAASxB,cAAWmH,EA9GX,SAAnB4E,iBAAoB1K,OACjBa,cAA0D,UAAzCb,MAAM6H,OAAuBoC,QAG/C3C,WAFAD,YAIR,EAyGgB6C,SAAUvL,UAAY,EAAI,EAC1BW,KAAKoI,EAAAA,qBAAAA,GAAU,CAACD,WAAWnI,MAC3B4C,GAAIuF,WAAWvF,GACf,kBAAmBuF,WAAW,mBAC9B,gBAAiBA,WAAW,iBAC5B,oBAAqB5G,aACf4G,WAAW,0BACX3B,GAEVvF,YAAYiI,EAAAA,cAAAA,GAAcjI,WAAY,UACjCuC,aAGRrD,MA7EW,SAAd+J,cAAW,OACbpE,cAAclG,KAAI,SAACX,QAAM,OACrBC,EAAAA,YAAAA,KAAA,SAAOoH,KAAK,SAASnG,KAAMA,KAAMhB,MAAOF,OAAOG,KAAUH,OAAOG,IAAO,GACxE,CA0EU8K,GAERgD,eACGhO,EAAAA,YAAAA,KAAC2P,OAAAA,aAAWjO,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACRyB,KAAMA,KACNyM,QAASH,YACT1O,UAAWmK,mBACX2E,iBAAkB3E,0BAClB4E,mBAAoB5E,4BACpB6E,MAAOvP,OAAS4D,YAChB4L,aAAcb,OACdc,cAAc,EACdC,WAAW,EACXhB,UAAWA,UACXM,uBAAwBA,wBACpBpC,kBAAgB,IAAAhN,SAEnBsP,wBAGLtE,EAAAA,YAAAA,MAAC+E,OAAAA,aAAWzO,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACRyB,KAAMA,KACN+M,WAAW,GACPd,YAAU,IACdQ,QAAS,SAAAA,UAAc,IAADQ,oBAClBX,cAAc,QAAAY,KAAAC,UAAAxJ,OADLyJ,KAAI,IAAAC,MAAAH,MAAAI,KAAA,EAAAA,KAAAJ,KAAAI,OAAJF,KAAIE,MAAAH,UAAAG,MAEbrB,kBAAmB,QAATgB,oBAAVhB,WAAYQ,eAAO,IAAAQ,qBAAnBA,oBAAAM,KAAAC,MAAAP,oBAAA,CAAAhB,YAAU3F,OAAe8G,MAC7B,EACAV,iBAAkBxE,qBAAGH,0BAAqBkE,sBAAU,EAAVA,WAAYS,kBACtD/O,KAAKoI,EAAAA,qBAAAA,GAAU,CACXsG,uBACAJ,sBAAU,EAAVA,WAAYtO,MACbV,SAAA,EAEHJ,EAAAA,YAAAA,KAACmQ,OAAAA,YAAAA,QAAkBzO,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CAACwO,WAAW,EAAMU,QAAQ,GAAUvB,kBAAgB,IAAAjP,SAClEI,OAAS4D,eAGbsL,qBAEAJ,4BAAgB,EAAhBA,iBAAkBlP,YAAYJ,EAAAA,YAAAA,KAACmQ,OAAAA,YAAAA,QAAkBzO,EAAAA,cAAAA,GAAA,GAAK4N,0BAK3E,I,svlBC3dJ,uBAA4B,kBAA5B,mBAAsD,cAAtD,sBAA+E,iBAA/E,mBAAwG,cAAxG,yBAAoI,oBAApI,4BAAyK,uBAAzK,mBAAwM,cAAxM,0BAAqO,qB,8UCiBxNpK,MAAQ,SAARA,MAAKpF,MAsBqC,IAAD+Q,IAAAjN,UAAA9D,KArBlD+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UACVT,KAAIrD,KAAJqD,KAEAa,OADQlE,KAARkB,SACKlB,KAALkE,OACAC,KAAInE,KAAJmE,KACA9D,SAAQL,KAARK,SACAK,MAAKV,KAALU,MAAKsQ,eAAAhR,KACLqE,UAAAA,eAAS,IAAA2M,eAAG,QAAOA,eACnB1M,YAAWtE,KAAXsE,YAAW2M,sBAAAjR,KACX+G,iBAAAA,sBAAgB,IAAAkK,sBAAG,GAAEA,sBACrBpN,SAAQ7D,KAAR6D,SACAqN,YAAWlR,KAAXkR,YAAWC,mBAAAnR,KACX6E,cAAAA,mBAAa,IAAAsM,mBAAGC,MAAAA,GAAWD,mBAG3BjM,OAFgBlF,KAAhB2H,iBACU3H,KAAV+I,WACK/I,KAALkF,OACA2E,WAAU7J,KAAV6J,WACA5H,WAAUjC,KAAViC,WACAC,eAAclC,KAAdkC,eACAgL,qBAAoBlN,KAApBkN,qBACG7L,WAASC,EAAAA,wBAAAA,GAAAtB,KAAAuB,WAEZ8P,WAA8BC,EAAAA,MAAAA,WAAS,GAAMC,YAAAC,EAAAA,cAAAA,GAAAH,UAAA,GAAtCI,QAAOF,WAAA,GAAEG,WAAUH,WAAA,GAEpBI,YAAa3L,EAAAA,MAAAA,QAAuB,MAE1C4L,WAAuBC,EAAAA,IAAAA,IAASF,WAAY,YAArCG,cAAgDN,EAAAA,cAAAA,GAAAI,UAAA,GAApC,GAEbG,aAActQ,EAAAA,MAAAA,cAAY,kBAAMiQ,YAAW,EAAK,GAAE,IAClDM,YAAavQ,EAAAA,MAAAA,cAAY,kBAAMiQ,YAAW,EAAM,GAAE,IAElDvR,MAAQ0E,cAAc,CAAEhB,SAAAA,SAAUkD,iBAAAA,mBAElCkL,OAASC,QAAQ/R,OACjBgS,YAAczR,QAAUuR,SAAW3N,aAA6B,UAAdD,WAExD,OACInE,EAAAA,YAAAA,KAAA,OACIe,UAAWmK,uBACXpK,IAAK2Q,WACL5M,QAASgN,YACT/M,OAAQgN,WAAW1R,SAElB4M,sBACGhN,EAAAA,YAAAA,KAACgN,sBAAoBtL,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACjBM,eAAgBqJ,qBAAGH,mBAAclJ,gBAAc6O,IAAA,IAAAvF,EAAAA,eAAAA,GAAAuF,IAC1C3F,sBAAkB/K,WAAQmL,EAAAA,eAAAA,GAAAuF,IAC1B3F,0BAAsB0G,cAAYf,MAEvC3M,OAAO,EACPL,KAAMA,KACN0N,QAASpO,MAAQoO,QACjBpR,SAAUA,SACV4R,OAAQA,OACRvR,MAAOyR,WAAazR,MACpB2D,UAAWA,UACXH,MAAOA,MACPC,KAAMA,KACN+M,aACKhM,OAASgM,eACN5F,EAAAA,YAAAA,MAAC8G,MAAAA,SAAc,CAAA9R,SAAA,CACV4Q,YAEAhM,MACKkN,MAAAA,aAAmBlN,MAAO,CAAEjE,UAAWmK,qBACvC,QAIlB,eAAcnJ,YACVZ,WACAwI,YAAU,IAAAvJ,UAEdgL,EAAAA,YAAAA,MAAA,OAAKrK,UAAWmK,4BAAsB9K,SAAA,CACjCgE,cAAgB2N,SACb/R,EAAAA,YAAAA,KAAA,QAAMe,UAAWmK,yBAAmB9K,SAAEgE,cAEzC2N,SAAU/R,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,mBAAa9K,SAAEH,cAGlD,MAGhB,E,01MCrGA,cAAgB,SAAW,iBAAiB,MAAQ,cAAc,EAAI,UAAU,GAAK,Y,uECMxEqF,SAAW,SAAXA,SAAQxF,MAAA,IAAMM,SAAQN,KAARM,SAAUW,UAASjB,KAATiB,UAAWP,MAAKV,KAALU,MAAKoD,UAAA9D,KAAE+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UAAA,OAC7DwH,EAAAA,YAAAA,MAAC8G,MAAAA,SAAc,CAAA9R,SAAA,EACXJ,EAAAA,YAAAA,KAAA,OAAKe,UAAWsK,qBAAGH,aAAAA,SAAiBnK,UAAWmK,aAAOrH,OAAOzD,UACzDJ,EAAAA,YAAAA,KAAA,QAAMe,UAAWmK,aAAAA,MAAa9K,SAAEI,UAEnCJ,WACY,E,i4DCZrB,cAAgB,UAAY,kBAAkB,MAAQ,cAAc,OAAS,eAAe,SAAW,iBAAiB,OAAS,eAAe,SAAW,iBAAiB,UAAY,mB,uECW3K+R,oBAAY,SAAZA,UAASrS,MAMC,IAAD+Q,IALlBlN,SAAQ7D,KAAR6D,SAAQlB,cAAA3C,KACRK,SAAAA,cAAQ,IAAAsC,eAAQA,cAChB1B,UAASjB,KAATiB,UACAC,SAAQlB,KAARkB,SAAQoR,cAAAtS,KACRwM,SAAAA,cAAQ,IAAA8F,cAAG,SAAQA,cAEbC,QAAUrR,SAEVsR,oBAAsBjH,qBAAGH,aAAAA,UAAkBnK,UAAWmK,aAAOoB,WAASuE,IAAA,IAAAvF,EAAAA,eAAAA,GAAAuF,IACvE3F,aAAAA,UAAmBmH,SAAM/G,EAAAA,eAAAA,GAAAuF,IACzB3F,aAAAA,OAAgBmH,SAAM/G,EAAAA,eAAAA,GAAAuF,IACtB3F,aAAAA,SAAkBvH,UAAQkN,MAGzB0B,qBAAsBhR,EAAAA,MAAAA,cACxB,SAACC,OAAK,OAAKA,MAAMC,iBAAiB,GAClC,IAGJ,OAAO4Q,QACHrS,EAAAA,YAAAA,KAAA,OAAKe,UAAWuR,oBAAoBlS,SAClB,WAAbkM,UACGtM,EAAAA,YAAAA,KAACwS,OAAAA,MAAK,CACFzR,UAAWmK,aAAAA,MACX4D,KAAK,OACLjL,KAAK,IACL4O,UAAU,WACVpS,SAASL,EAAAA,YAAAA,KAAC0S,qBAAAA,qBAAoB,CAAC3R,UAAWmK,aAAAA,eAG9ClL,EAAAA,YAAAA,KAAC2S,eAAAA,QAAc,CAAC5R,UAAWsK,qBAAGH,aAAAA,kBAItClL,EAAAA,YAAAA,KAAC4S,gBAAAA,SAAQ,CACLC,QAASlP,SACTxD,SAAUA,SACVY,UAAWuR,oBACXzO,KAAK,IACLlC,QAAS4Q,qBAGrB,E,stCCtDA,4CAA4B,kBAA5B,uCAAyD,iBAAzD,0CAAwF,oBCQ3EJ,qCAAY,SAAZA,UAASrS,MAAA,IAAM6D,SAAQ7D,KAAR6D,SAAU5C,UAASjB,KAATiB,UAAS,OAC3Cf,EAAAA,YAAAA,KAAA,OACIe,UAAWsK,qBAAGH,wCAAkBnK,WAASuK,EAAAA,eAAAA,GAAA,GACpCJ,uCAAkBvH,WACpBvD,UAEHJ,EAAAA,YAAAA,KAAC2S,eAAAA,eAAc,CAAC5R,UAAWmK,6CACzB,E,gwCCfV,yBAAgB,OAAS,eAAe,SAAW,iBAAiB,EAAI,UAAU,EAAI,UAAU,EAAI,UAAU,GAAK,WAAW,SAAW,iBAAiB,YAAc,oBAAoB,QAAU,gBAAgB,YAAc,qBCQvNrL,OAA0B,SAA1BA,OAAuBC,MAa7B,IAAD+Q,IAAAjN,UAAA9D,KAZF+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UACV7C,UAASjB,KAATiB,UACAhB,OAAMD,KAANC,OACAK,SAAQN,KAARM,SACAuD,SAAQ7D,KAAR6D,SACAoG,YAAWjK,KAAXiK,YACA5J,SAAQL,KAARK,SACAa,SAAQlB,KAARkB,SACAoN,OAAMtO,KAANsO,OAAM0E,eAAAhT,KACNqS,UAAAA,eAAS,IAAAW,eAAG1E,OAAS2E,qCAAyBC,oBAAgBF,eAC9DnJ,WAAU7J,KAAV6J,WACA5H,WAAUjC,KAAViC,WAEM1B,QAAUD,UAAYL,OAAOM,SAAWN,OAAOG,IACrD+S,sBAAiClT,OAAzBmT,cAAAA,mBAAa,IAAAD,uBAAOA,sBAE5B,OACI7H,EAAAA,YAAAA,MAAA,OAAA1J,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACQiI,YAAU,IACd5I,UAAWsK,qBAAGH,oBAAAA,OAAeA,oBAAOrH,MAAO9C,WAAS8P,IAAA,IAAAvF,EAAAA,eAAAA,GAAAuF,IAC/C3F,oBAAAA,aAAsBkD,QAAUrE,cAAWuB,EAAAA,eAAAA,GAAAuF,IAC3C3F,oBAAAA,SAAkBvH,WAAQ2H,EAAAA,eAAAA,GAAAuF,IAC1B3F,oBAAAA,SAAkB/K,UAAQ0Q,MAE/B,eAAc9O,WAAW3B,SAAA,CAExB+R,WAAae,gBACVlT,EAAAA,YAAAA,KAACmS,UAAS,CACNhS,SAAUA,SACVwD,SAAUA,SACV3C,SAAUA,SACVsL,SAAS,YAIjBtM,EAAAA,YAAAA,KAAA,OACIe,UAAWsK,qBAAGH,oBAAAA,SAAcI,EAAAA,eAAAA,GAAA,GACvBJ,oBAAAA,cAAsBiI,EAAAA,MAAAA,gBAAe9S,WACvCD,SAEFC,UAIJ8R,WAAae,gBACVlT,EAAAA,YAAAA,KAACmS,UAAS,CACNhS,SAAUA,SACVwD,SAAUA,SACV3C,SAAUA,SACVsL,SAAS,aAK7B,E,8sHC/DA,cAAgB,YAAc,oBAAoB,kBAAoB,0BAA0B,kBAAoB,0BAA0B,WAAa,mBAAmB,WAAa,mBAAmB,iBAAmB,yBAAyB,EAAI,UAAU,GAAK,Y,uECoBhQlH,aAAcxE,EAAAA,MAAAA,aACvB,SAAAd,KAqBIgB,KACE,IAAD8C,UAAA9D,KApBG+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UACV7C,UAASjB,KAATiB,UACAgO,qBAAoBjP,KAApBiP,qBACAlP,OAAMC,KAAND,OACA6J,eAAc5J,KAAd4J,eAAcsF,aAAAlP,KACdW,QAAAA,aAAO,IAAAuO,aAAG,GAAEA,aAAA3J,cAAAvF,KACZwF,SAAAA,cAAQ,IAAAD,cAAGyH,SAAAA,EAAezH,cAC1BtD,WAAUjC,KAAViC,WACAqR,iBAAgBtT,KAAhBsT,iBAAgBC,oBAAAvT,KAChB8F,eAAAA,oBAAc,IAAAyN,oBAAGC,OAAAA,EAAuBD,oBACxCtO,SAAQjF,KAARiF,SACA5B,KAAIrD,KAAJqD,KACAoQ,OAAMzT,KAANyT,OACApE,OAAMrP,KAANqP,OAAMqE,gBAAA1T,KACN2T,WAAAA,gBAAU,IAAAD,iBAAOA,gBACjB/P,iBAAgB3D,KAAhB2D,iBACiBiQ,oBAAmB5T,KAApC6T,gBAAeC,iBAAA9T,KACfwG,YAAAA,iBAAW,IAAAsN,iBAAG,GAAEA,iBAIpBC,WAAwBC,EAAAA,IAAAA,IAAkB,CAAC,EAAC,EAAM,yBAAyB,GAAtEH,iBAA4ErC,EAAAA,cAAAA,GAAAuC,UAAA,GAA7D,GAEpBF,gBAAkB3B,QAAQ0B,0BAAAA,oBAAuBC,iBAEjD,IAAMI,aAAe,SAAfA,aAAgBhU,OAAqByJ,OAAa,OACpDxJ,EAAAA,YAAAA,KAACH,QAAM6B,EAAAA,cAAAA,GAAA,GAAsBgI,eAAe3J,OAAQyJ,QAAvCzJ,OAAOG,IAA0C,EAG5D8F,SAAUF,EAAAA,MAAAA,QAAuB,MACjCkO,cAAelO,EAAAA,MAAAA,QAAuB,MACtCmO,QAzCQ,SAAhBC,gBACF,IAAIC,MAAQ,EAGZ,OAAO,kBAAMA,OAAQ,CACzB,CAoCwBD,GAoBhB,IARAE,EAAAA,MAAAA,KAAiB1S,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAC,CAAC,GACViS,iBAAmB,CAAEU,eAAgBL,eAAgB,CAAF,GACxDpO,eAAAA,eACAI,QAAAA,QACA7C,KAAAA,KACAmR,WAAY7T,WAGO,IAAnBA,QAAQqG,SAAiBsM,iBACzB,OAAO,KAGX,IAAMmB,gBAAkB,SAAlBA,kBAAe,OACjBnJ,EAAAA,YAAAA,MAAC8G,MAAAA,SAAc,CAAA9R,SAAA,CACVK,QAAQC,KAAI,SAACX,QAAM,OAChB6B,EAAAA,MAAAA,IAAQ7B,QA1BA,SAAdyU,YAAeC,OAAiB,OAClCzU,EAAAA,YAAAA,KAACsF,SAAQ,CACLvE,UAAWgO,qBACXvO,MAAOiU,MAAMjU,MAEbqD,KAAMA,KAAKzD,SAEVqU,MAAMhU,QAAQC,KAAI,SAACX,QAAM,OAAKgU,aAAahU,OAAQkU,UAAU,KAHzDQ,MAAMjU,MAIJ,CAkBegU,CAAYzU,QAAUgU,aAAahU,OAAQkU,UAAU,IAG1Eb,kBAAuC,IAAnB3S,QAAQqG,SACzB9G,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,aAAAA,iBAAwB9K,SAAEgT,qBAEjC,EA6BrB,OACIhI,EAAAA,YAAAA,MAAA,OAAA1J,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACSiS,iBAAmB,CAAE,eAAgB5R,aAAY,IACtDhB,UAAWsK,qBAAGH,aAAAA,YAAoBA,aAAOrH,MAAO9C,WAAWX,SAAA,CAE1DmT,SAAUvT,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,aAAAA,kBAAyB9K,SAAEmT,SAErDI,gBAbyB,SAA5Be,4BAAyB,OAC3B1U,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,aAAAA,WAAmBpK,KAAKoI,EAAAA,qBAAAA,GAAU,CAAClD,QAASlF,MAAOiE,SAAUA,SAAS3E,SACjFmU,mBACC,CAUiBG,GAjCO,SAA5BC,4BACF,IAAMC,oBAAsB,CACxB7P,SAAAA,SACA,eAAgBhD,WAChBjB,IAAKA,KAGT,OACId,EAAAA,YAAAA,KAAC6U,OAAAA,UAAS,CACN9T,UAAWmK,aAAAA,WACXpK,IAAKkT,aACLc,sBAA4C,YAArBrR,iBACvBmR,oBAAqBA,oBACrBG,iBAAkB,CAAEjU,IAAKkF,SAAU5F,SAElCmU,mBAGb,CAeyDI,GAEhDlB,YAActE,SACXnP,EAAAA,YAAAA,KAAA,OACIe,UAAWsK,qBAAGH,aAAAA,mBAAwBI,EAAAA,eAAAA,GAAA,GACjCJ,aAAAA,WACGtF,gBAAkBU,YAAYQ,OAASlB,iBAC5CxF,SAEF+O,YAKrB,I,8oLCzIJ,cAAgB,mBAAqB,2BAA2B,yBAA2B,iCAAiC,yBAA2B,iCAAiC,WAAa,mBAAmB,WAAa,mBAAmB,MAAQ,cAAc,WAAa,mBAAmB,YAAc,oBAAoB,iBAAmB,yBAAyB,EAAI,UAAU,GAAK,Y,uECclY6F,oBAAqBpU,EAAAA,MAAAA,aAC9B,SAAAd,KAqBIgB,KACE,IAAD8C,UAAA9D,KApBG+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UAAAgQ,iBAAA9T,KACVwG,YAAAA,iBAAW,IAAAsN,iBAAG,GAAEA,iBAAAqB,sBAAAnV,KAChByI,iBAAAA,sBAAgB,IAAA0M,uBAAI,EAACA,sBACrBlU,UAASjB,KAATiB,UACA2I,eAAc5J,KAAd4J,eACA7J,OAAMC,KAAND,OACAsD,KAAIrD,KAAJqD,KAAI6L,aAAAlP,KACJW,QAAAA,aAAO,IAAAuO,aAAG,GAAEA,aAAA3J,cAAAvF,KACZwF,SAAAA,cAAQ,IAAAD,cAAGyH,SAAAA,EAAezH,cAC1BtD,WAAUjC,KAAViC,WACAqR,iBAAgBtT,KAAhBsT,iBAAgBC,oBAAAvT,KAChB8F,eAAAA,oBAAc,IAAAyN,oBAAGC,OAAAA,EAAuBD,oBACxCE,OAAMzT,KAANyT,OACApE,OAAMrP,KAANqP,OAAMqE,gBAAA1T,KACN2T,WAAAA,gBAAU,IAAAD,iBAAOA,gBACjB/P,iBAAgB3D,KAAhB2D,iBACAsB,SAAQjF,KAARiF,SACiB2O,oBAAmB5T,KAApC6T,gBAIE3N,SAAUF,EAAAA,MAAAA,QAAuB,MACjCoP,WAAYpP,EAAAA,MAAAA,QAAuB,MACnCkO,cAAelO,EAAAA,MAAAA,QAAuB,MAC5CqL,WAAsEC,EAAAA,MAAAA,UAAS,GAAEC,YAAAC,EAAAA,cAAAA,GAAAH,UAAA,GAA1EgE,4BAA2B9D,WAAA,GAAE+D,+BAA8B/D,WAAA,GAC5DgE,sBAAuBC,EAAAA,MAAAA,IAAY/M,oBAAsB,EAE/DsL,WAAwBC,EAAAA,IAAAA,IAAkB,CAAC,EAAC,EAAM,yBAAyB,GAAtEH,iBAA4ErC,EAAAA,cAAAA,GAAAuC,UAAA,GAA7D,GAEd0B,gBAAiBC,EAAAA,cAAAA,GAAW,CAC9B3R,KAAMyC,YAAYQ,OAClBoO,UAAYpU,KAAOoU,UACnBO,SAAU,KAId9B,gBAAkB3B,QAAQ0B,0BAAAA,oBAAuBC,kBAGjD1J,EAAAA,MAAAA,YAAU,WACF9G,MACAoS,eAAeG,cAAcnN,iBAAkB,CAAEoN,MAAO,OAGhE,GAAG,CAACxS,QAGJ8G,EAAAA,MAAAA,YAAU,YACoB,IAAtB1B,mBAECgN,eAAeK,aAAaC,MAAK,SAAC9V,QAAM,OAAKA,OAAOyJ,QAAUjB,gBAAgB,KAC/EgN,eAAeG,cAAcnN,iBAAkB,CAAEoN,MAAO,QAGhE,GAAG,CAACpN,oBAGJ0B,EAAAA,MAAAA,YAAU,WACN,IAAM6L,YAAc,SAAdA,YAAe/V,QAAmB,OAAMA,OAAOI,QAAS,EACxD4V,iBAAmBzP,YAAY0P,UAAUF,aACzCG,iBAAkBC,EAAAA,MAAAA,IAAY5P,YAAawP,aAG7CT,sBAAwBU,kBACxBxN,mBAAqBjC,YAAYQ,OAAS,GAE1CyO,eAAeG,cAAcO,iBAG7BZ,sBAAwBY,iBAAwC,IAArB1N,kBAC3CgN,eAAeG,cAAc,EAGrC,GAAG,CAACL,qBAAsB9M,oBAE1B0B,EAAAA,MAAAA,YAAU,WACNmL,+BAMIG,eAAeK,aAAa9O,OAAS,EAAIR,YAAYQ,OAAS,EAEtE,GAAG,CAACyO,eAAeK,aAAa9O,OAAQR,YAAYQ,UAEpDsN,EAAAA,MAAAA,IAAkB,CACdxO,eAAAA,eACA0O,WAAYa,4BACZnP,QAAAA,QACAqO,eAAgBV,gBAAkBuB,UAAYlB,aAC9C7Q,KAAAA,OAIJ,IAAMgT,mBAAoB/P,EAAAA,MAAAA,UAAQ,WAC9B,IAAIgQ,aAAe,EAEnB,OAAO3V,QAAQ6I,QAAO,SAACC,IAAgCxJ,OAAQyJ,OAQ3D,OAPI5H,EAAAA,MAAAA,IAAQ7B,SACRwJ,IAAI6M,cAAgB5M,MACpB4M,cAAgBrW,OAAOU,QAAQqG,QAE/BsP,cAAgB,EAGb7M,GACX,GAAG,CAAC,EACR,GAAG,CAAC9I,UAEE4V,WAAa,SAAbA,aAAU,OACZd,eAAeK,aAAalV,KAAI,SAAC4V,YAC7B,IAAMvW,OAASuG,YAAYgQ,WAAW9M,OAChCiL,MAAQhU,QAAQ0V,kBAAkBG,WAAW9M,QAEnD,OACI4B,EAAAA,YAAAA,MAAA,OAEItK,IAAKwV,WAAWC,WAChBxV,UAAWsK,qBAAGH,aAAAA,YAAiBI,EAAAA,eAAAA,GAAA,GAC1BJ,aAAAA,YAAqB3C,mBAAqB+N,WAAW9M,QAE1DgB,MAAO,CACHgM,UAAU,cAAD/M,OAAgB6M,WAAWG,MAAK,QAC3CrW,SAAA,CAEDqU,QAASzU,EAAAA,YAAAA,KAACsF,SAAQ,CAAC9E,MAAOiU,MAAMjU,UAC/BoB,EAAAA,MAAAA,IAAQ7B,UACNC,EAAAA,YAAAA,KAACH,QAAM6B,EAAAA,cAAAA,GAAA,GAAKgI,eAAe3J,OAAQuW,WAAW9M,WAX7C8M,WAAW9M,MAe5B,GAAG,EAEDuL,iBAAmB,CACrBhU,UAAWmK,aAAAA,MACXV,MAAO,CAAEkM,OAAO,GAADjN,OAAK8L,eAAeoB,UAAS,OAC5C7V,IAAKkF,SA+BT,OAAuB,IAAnBvF,QAAQqG,QAAiBsM,kBAKzBhI,EAAAA,YAAAA,MAAA,OACIrK,UAAWsK,qBAAGH,aAAAA,mBAA2BA,aAAOrH,MAAO9C,WACvD,eAAcgB,WAAW3B,SAAA,CAExBmT,SAAUvT,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,aAAAA,yBAAgC9K,SAAEmT,SAE5DI,gBA3ByB,SAA5Be,4BACF,OAAI9O,gBAEI5F,EAAAA,YAAAA,KAAA,OACIe,UAAWmK,aAAAA,WACXpK,KAAKoI,EAAAA,qBAAAA,GAAU,CAACgM,UAAWpU,MAC3BiE,SAAUA,SAAS3E,UAEnBJ,EAAAA,YAAAA,KAAA,OAAA0B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAASqT,kBAAgB,IAAA3U,SAAGiW,mBAKjCrW,EAAAA,YAAAA,KAAA,OAAA0B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAASqT,kBAAgB,IAAA3U,SAAGiW,eACvC,CAa2B3B,GAvCO,SAA5BC,4BAAyB,OAC3B3U,EAAAA,YAAAA,KAAC6U,OAAAA,UAAS,CACN9T,UAAWmK,aAAAA,WACXpK,IAAKkT,aACLc,sBAA4C,YAArBrR,iBACvBmR,oBAAqB,CAAE7P,SAAAA,SAAUjE,IAAKoU,WACtCH,iBAAkBA,iBAAiB3U,SAElCiW,cACO,CA8ByC1B,GAEhDvB,kBAAuC,IAAnB3S,QAAQqG,SACzB9G,EAAAA,YAAAA,KAAA,OAAKe,UAAWmK,aAAAA,iBAAwB9K,SAAEgT,mBAG7CK,YAActE,SACXnP,EAAAA,YAAAA,KAAA,OACIe,UAAWsK,qBAAGH,aAAAA,0BAA+BI,EAAAA,eAAAA,GAAA,GACxCJ,aAAAA,WACGtF,gBAAkBU,YAAYQ,OAASlB,iBAC5CxF,SAEF+O,YAvBN,IA4Bf,I,omJCvNG,IAAMmE,wBAA0B,C,+4DCiB1BsD,kBAAmBhW,EAAAA,MAAAA,aAC5B,SAAAd,KAWIgB,KACE,IAVEqO,OAAMrP,KAANqP,OACAD,UAASpP,KAAToP,UACA9B,iBAAgBtN,KAAhBsN,iBACAhI,YAAWtF,KAAXsF,YACAL,SAAQjF,KAARiF,SACAT,WAAUxE,KAAVwE,WAAUuS,gBAAA/W,KACVgX,WAAAA,gBAAU,IAAAD,gBAAG,KAAIA,gBACd1V,WAASC,EAAAA,wBAAAA,GAAAtB,KAAAuB,WAIhBwS,WAAeC,EAAAA,IAAAA,IACX,CACI,CAAC,SAAS,eAADrK,OAAiBqN,WAAa,EAAC,QACxC,CAAC,UAAU,eAADrN,OAAiBqN,WAAU,SAEzC,WAGJ,MAAgB,aAFfxF,EAAAA,cAAAA,GAAAuC,UAAA,GANU,IASP7T,EAAAA,YAAAA,KAACyM,kBAAAA,GAAa/K,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACV0D,YAAaA,YACbL,SAAUA,UACN5D,WAAS,IACbL,IAAKA,IACLwD,WAAYA,eAGhBtE,EAAAA,YAAAA,KAACkN,iBAAAA,GAAYxL,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACTyN,OAAQA,OACRD,UAAWA,UACX9B,iBAAkBA,iBAClB9I,WAAYA,YACRnD,WAAS,IACbL,IAAKA,MAGjB,I,8qWCDSiW,mBAAoBnW,EAAAA,MAAAA,aAC7B,SAAAd,KAgCIgB,KACE,IAADsB,kBAAAtC,KA/BGuC,aAAAA,kBAAY,IAAAD,mBAAQA,kBAAAE,cAAAxC,KACpBkB,SAAAA,cAAQ,IAAAsB,eAAQA,cAAAC,mBAAAzC,KAChB0C,cAAAA,mBAAa,IAAAD,oBAAQA,mBAAAE,cAAA3C,KACrBK,SAAAA,cAAQ,IAAAsC,eAAQA,cAAAC,mBAAA5C,KAChB6C,cAAAA,mBAAa,IAAAD,oBAAI1B,SAAQ0B,mBAAAE,sBAAA9C,KACzB+C,mBAAAA,wBAAkB,IAAAD,uBAAQA,sBAAAI,iBAAAlD,KAC1BmD,YAAAA,iBAAW,IAAAD,kBAAQA,iBACbE,SAAQpD,KAAdqD,KAAIS,UAAA9D,KACJ+D,KAAAA,UAAI,IAAAD,UAAG,IAAGA,UAAAE,iBAAAhE,KACViE,YAAAA,iBAAW,IAAAD,iBAAG,IAAGA,iBAAAO,gBAAAvE,KACjBwE,WAAAA,gBAAU,IAAAD,gBAAG,CAAC,EAACA,gBAAAI,iBAAA3E,KACf4E,YAAAA,iBAAW,IAAAD,iBAAG,CAAC,EAACA,iBAAAF,sBAAAzE,KAChB0E,iBAAAA,sBAAgB,IAAAD,sBAAG,CAAC,EAACA,sBAAAmI,WAAA5M,KACrBkF,MAAAA,WAAK,IAAA0H,WAAGC,MAAAA,EAAYD,WAAAzH,WAAAnF,KACpBoF,MAAAA,WAAK,IAAAD,WAAG2H,MAAAA,EAAY3H,WAAAI,cAAAvF,KACpBwF,SAAAA,cAAQ,IAAAD,cAAGyH,SAAAA,EAAezH,cAAAE,YAAAzF,KAC1BD,OAAAA,YAAM,IAAA0F,YAAGwH,kBAAAA,EAAaxH,YACtB5B,SAAQ7D,KAAR6D,SACAlD,QAAOX,KAAPW,QAAO0E,iBAAArF,KACPsF,YAAAA,iBAAW,IAAAD,iBAAG1E,QAAQqG,OAxBK,GAyBrBqG,qBAAAA,EACAN,aAAAA,EAAkB1H,iBACxBjE,SAAQpB,KAARoB,SAAQmM,eAAAvN,KACRwN,UAAAA,eAAS,IAAAD,gBAAOA,eAChBE,cAAazN,KAAbyN,cAAaE,sBAAA3N,KACb4N,iBAAAA,sBAAgB,IAAAD,sBAAGzM,SAAQyM,sBAC3B4B,iBAAgBvP,KAAhBuP,iBACA7B,wBAAuB1N,KAAvB0N,wBACGrM,WAASC,EAAAA,wBAAAA,GAAAtB,KAAAuB,WAIVsM,YAAaC,EAAAA,KAAAA,GAAmB,CAClCpJ,kBAAgB9C,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACR8C,kBAAgB,IACpBqJ,OAAAA,OAAAA,IAEJzI,YAAAA,YACAzB,SAAAA,SACAlD,QAAAA,QACAS,SAAAA,SACAoM,UAAAA,UACAC,cAAAA,gBAGJ,OACIvN,EAAAA,YAAAA,KAAC8N,mBAAAA,GAAgBpM,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,CACbZ,IAAKA,IACLuB,aAAcA,aACdrB,SAAUA,SACVwB,cAAeA,cACfrC,SAAUA,SACVwC,cAAeA,cACfE,mBAAoBA,mBACpBI,YAAaA,YACbE,KAAMD,SACNW,KAAMA,KACNE,YAAaA,YACbO,YAAU5C,EAAAA,cAAAA,GAAA,CACNsL,qBAAsBe,OAAAA,mBAClBzJ,YAERI,YAAaA,YACbM,MAAOA,MACPE,MAAOA,MACPI,SAAUA,SACVzF,OAAQA,OACRmO,eAAe,EACfvN,QAASA,QACTkD,SAAUA,SACVzC,SAAUA,SACVkE,YAAaA,YACbZ,iBAAkBA,iBAClB6K,kBAAgB3N,EAAAA,cAAAA,GAAA,CACZuM,aAAcP,kBAAoBF,0BAC9BxN,EAAAA,YAAAA,KAACkO,UAAAA,GAAMxM,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GAAKiM,WAAWnJ,iBAAiB2J,aAAW,IAAEC,QAAQ,MAE9DiB,mBAEHlO,WACCuM,kBAAoBC,YAGrC,I,25dC7IJ,oBAAyB,e,uECcZE,iBAAS,SAATA,OAAM/N,MAAA,IACfwO,YAAWxO,KAAXwO,YACAC,YAAWzO,KAAXyO,YACAjB,UAASxN,KAATwN,UAAS0J,mBAAAlX,KACTmX,cAAAA,mBAAa,IAAAD,mBAAG,GAAEA,mBAAA,OAElB5L,EAAAA,YAAAA,MAAA,OAEIM,SAAU,EACV3K,UAAWmK,oBAAc9K,SAAA,EAEzBJ,EAAAA,YAAAA,KAACkX,QAAAA,cAAa,CAACrT,KAAK,MAAMiL,KAAK,UAAUnN,QAAS2M,YAAYlO,SAAC,cAI9DkN,WAAa2J,cAAcnQ,OAAS,IACjC9G,EAAAA,YAAAA,KAACkX,QAAAA,cAAa,CAACrT,KAAK,MAAMiL,KAAK,YAAYnN,QAAS4M,YAAYnO,SAAC,eAInE,E,2uCCdG+W,sBAAuBvW,EAAAA,MAAAA,aAChC,SAAAd,KAkBIgB,KACE,IAjBE+H,WAAU/I,KAAV+I,WACgBuO,sBAAqBtX,KAArC4J,eAAc2D,eAAAvN,KACdwN,UAAAA,eAAS,IAAAD,gBAAOA,eAChBG,wBAAuB1N,KAAvB0N,wBAAuBwJ,mBAAAlX,KACvBmX,cAAAA,mBAAa,IAAAD,mBAAG,GAAEA,mBAAApD,iBAAA9T,KAClBwG,YAAAA,iBAAW,IAAAsN,iBAAG,GAAEA,iBAAAzO,iBAAArF,KAChBsF,YAAAA,iBAAW,IAAAD,iBAAG0H,aAAAA,EAAkB1H,iBAAAkS,aAAAvX,KAChCwX,QAAAA,aAAO,IAAAD,aAAG,kBAAM,IAAI,EAAAA,aAAAE,aAAAzX,KACpB0X,QAAAA,aAAO,IAAAD,aAAG,kBAAM,IAAI,EAAAA,aAAAE,aAAA3X,KACpB8P,QAAAA,aAAO,IAAA6H,aAAG,kBAAM,IAAI,EAAAA,aAAApE,oBAAAvT,KACpB8F,eAAAA,oBAAc,IAAAyN,oBAAGC,OAAAA,EAAuBD,oBAAAqE,YAAA5X,KACxC+N,OAAAA,YAAM,IAAA6J,YAAGC,iBAAaD,YAAAE,YAAA9X,KACtBoO,OAAAA,YAAM,IAAA0J,YAAGC,UAAAA,EAAaD,YACtBzJ,YAAWrO,KAAXqO,YACGhN,WAASC,EAAAA,wBAAAA,GAAAtB,KAAAuB,WAIVqI,gBAAiBnI,EAAAA,MAAAA,cACnB,SAACxB,OAAqByJ,OAClB,IAAM9E,YAAc0S,sBAAsBrX,OAAQyJ,OAE5C7F,SACF5D,OAAOG,MAAQ4X,eACTb,cAAcnQ,SAAWR,YAAYQ,OAAS,EAC9CmQ,cAAc5O,SAAStI,QAEjC,OAAA2B,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACOgD,aAAW,IACdf,SAAAA,UAER,GACA,CAACyT,sBAAuB9Q,YAAYQ,OAAQmQ,gBAG1C3I,aAAc/M,EAAAA,MAAAA,cAAY,WAC5B+V,UAEAzO,YACJ,GAAG,CAACyO,QAASzO,aAEP0F,aAAchN,EAAAA,MAAAA,cAAY,WAC5BiW,UAEA3O,YACJ,GAAG,CAAC2O,QAAS3O,aAcb,OAZAoB,EAAAA,MAAAA,YAAU,WACN,IAAM+B,cAAgBD,SAASC,cAE/B,OAAO,WACH4D,UACI5D,eACAA,cAAc+L,OAEtB,CAEJ,GAAG,KAGC/X,EAAAA,YAAAA,KAACoF,aAAW1D,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACJP,WAAS,IACbL,IAAKA,IACL8E,eAAgBA,eAChBiD,WAAYA,WACZvC,YAAaA,YACboD,eAAgBA,eAChB4N,QAAShJ,YACTkJ,QAASjJ,YACTgF,OAAQ/F,yBAA0BxN,EAAAA,YAAAA,KAACkO,QAAMxM,EAAAA,cAAAA,GAAA,GAAKyM,mBAAkB7G,EAChE6H,QACInP,EAAAA,YAAAA,KAAC6N,OAAM,CACHS,YAAaA,YACbC,YAAaA,YACbjB,UAAWA,UACX2J,cAAeA,kBAKnC,I,m+TCvDSa,eAAiB,aAExBE,gBAAkB,CAAE9X,IAAK4X,eAAgBzX,QAAS,eAEjD,SAASuN,mBAAkB9N,MASL,IARzBW,QAAOX,KAAPW,QACAkD,SAAQ7D,KAAR6D,SAAQsU,cAAAnY,KACRoB,SAAAA,cAAQ,IAAA+W,cAAG,kBAAM,IAAI,EAAAA,cACrB7S,YAAWtF,KAAXsF,YAAWb,sBAAAzE,KACX0E,iBAAAA,sBAAgB,IAAAD,sBAAG,CAAC,EAACA,sBAAA8I,eAAAvN,KACrBwN,UAAAA,eAAS,IAAAD,gBAAOA,eAAA6K,mBAAApY,KAChByN,cAAAA,mBAAa,IAAA2K,oBAAQA,mBAAAC,sBAAArY,KACrB0N,wBAAAA,6BAAuB,IAAA2K,uBAAQA,sBAE/BhS,UAAyCC,EAAAA,MAAAA,UACrC,kBAAMC,EAAAA,MAAAA,IAAe5F,QAASkD,SAAS,GACvC,CAAClD,QAASkD,WAFN2C,YAAWH,SAAXG,YAAaC,gBAAeJ,SAAfI,gBAKrB4K,WAA0CC,EAAAA,MAAAA,UAAwB7K,iBAAgB8K,YAAAC,EAAAA,cAAAA,GAAAH,UAAA,GAA3E8F,cAAa5F,WAAA,GAAE+G,iBAAgB/G,WAAA,GAEhCgH,oBAAqBvS,EAAAA,MAAAA,QAAsBS,kBAkDjD0D,EAAAA,MAAAA,YAAU,WACNmO,iBAAiB7R,iBACjB8R,mBAAmBrR,QAAUT,eACjC,GAAG,CAACA,kBAEJ,IAAM+R,iBAAkBlS,EAAAA,MAAAA,UACpB,kBAAOmH,cAAa,CAAIyK,iBAAevO,QAAAL,EAAAA,kBAAAA,GAAK3I,UAAWA,OAAO,GAC9D,CAACA,QAAS8M,gBAGd,MAAO,CACHnI,YAAa+R,qBACb3S,kBAAgB9C,EAAAA,cAAAA,IAAAA,EAAAA,cAAAA,GAAA,GACR8C,kBAAgB,IACpBY,YAAAA,YACAkI,UAAAA,UACAkK,QAxDY,SAAdjJ,cACF6J,iBAAiB,IACjBlX,SAAS,CACLyC,SAAU,KACVkD,iBAAkB,GAClBE,UAAW,MAEnB,EAkDQuQ,QAjEY,SAAdhJ,cACFpN,SAAS,CACLyC,SAAUsT,cAAc,GACxBpQ,iBAAkBoQ,cAClBlQ,UAAW,MAEnB,EA4DQ6I,QApBY,SAAdH,cAAW,OAAS2I,iBAAiBC,mBAAmBrR,QAAS,EAqB/DiQ,cAAAA,cACAzJ,wBAAAA,wBACAW,YAAa,CACToK,gBAAiBtB,cAAcnQ,QAAUmQ,cAAcnQ,OAASR,YAAYQ,OAC5E+L,QAASoE,cAAcnQ,SAAWR,YAAYQ,OAC9C5F,SAvDY,SAAlBsX,kBACFJ,iBAAiB9R,YAAYQ,SAAWmQ,cAAcnQ,OAAS,GAAKR,YACxE,KAwDI9D,eAAe,EACfxB,UAAU,EACVP,QAAS6X,gBACTpX,SAzDwD,SAAtDuX,aAAmDlY,OAAoC,IAA9BwG,UAASxG,MAATwG,UAAc2R,UAAQtX,EAAAA,wBAAAA,GAAAb,MAAAc,eACjF,GAAK0F,UAAL,CASA,IAAM4R,kBACF1B,cAAc5O,SAAStB,YACtBA,UAAU7G,MAAQ4X,gBAAkBb,cAAcnQ,SAAWR,YAAYQ,OAE1EC,UAAU7G,MAAQ4X,eAClBM,iBAAiBO,kBAAoB,GAAKrS,aAE1C8R,iBACIO,kBACM1B,cAAc2B,QAAO,SAACC,GAAC,OAAKA,IAAM9R,SAAS,IAC3CkQ,cAAcxN,OAAO1C,WAZnC,MANI7F,UAAQQ,EAAAA,cAAAA,GAAC,CACLqF,UAAW,MACR2R,UAmBf,EAmCI/U,SAAAA,SAER,C,y1ECxJA,qBAA0B,gBAA1B,oBAAmD,e,uECatCuK,OAAgC,SAAhCA,OAA6BpO,MAAA,IAAA+Q,IAAM3P,SAAQpB,KAARoB,SAAU2R,QAAO/S,KAAP+S,QAAS0F,cAAazY,KAAbyY,cAAenK,OAAMtO,KAANsO,OAAM,OACpFpO,EAAAA,YAAAA,KAAA,OAAKe,UAAWsK,sBAAEwF,IAAA,IAAAvF,EAAAA,eAAAA,GAAAuF,IAAI3F,sBAAkBkD,SAAM9C,EAAAA,eAAAA,GAAAuF,IAAG3F,oBAAgBkD,QAAMyC,MAAIzQ,UACvEJ,EAAAA,YAAAA,KAAC4S,OAAAA,SAAQ,CACL1O,OAAO,EACPqU,cAAeA,cACf1U,KAAK,IACL3C,SAAUA,SACV2R,QAASA,QACTrS,MAAM,iBAER,E,k3CCpBGoB,QAAU,SAAVA,QAAWgI,MAA8B,OAClDkP,OAAOC,UAAUC,eAAetI,KAAK9G,KAAM,UAAW,EAE7CqP,cAAgB,SAAhBA,cAAiBrP,MAAiC,QACzDA,MAAQkP,OAAOC,UAAUC,eAAetI,KAAK9G,KAAM,MAAO,EAEnDsH,YAAc,SAAdA,YAAWpR,MAMjB,IALH6D,SAAQ7D,KAAR6D,SAMMlD,QALUX,KAAhB+G,mBAKqClD,SAAW,CAACA,UAAY,IAE7D,OAAKlD,QAAQqG,OAENrG,QAAQ6I,QAAO,SAACC,IAAgCxJ,OAAqByJ,OASxE,OARI2J,EAAAA,mCAAAA,gBAAepT,OAAOM,SACtBkJ,IAAI2P,MAAKC,EAAAA,mCAAAA,cAAapZ,OAAOM,QAAS,CAAEH,IAAKH,OAAOG,OAEpDqJ,IAAI2P,KAAKnZ,OAAOM,SAGhBmJ,MAAQ/I,QAAQqG,OAAS,GAAGyC,IAAI2P,KAAK,MAElC3P,GACX,GAAG,IAZyB,IAahC,EAGO,SAASlD,eACZ5F,SAED,IADCkD,SAAqC2M,UAAAxJ,OAAA,QAAAQ,IAAAgJ,UAAA,GAAAA,UAAA,GAAG,GAElChK,YAA6B,GAE7B8S,cAAgB5I,MAAM6I,QAAQ1V,UAAYA,SAAW,CAACA,UACtD4C,gBAAkB6S,cAAcR,OAAOK,eACvCK,aAAeF,cAAcR,QAC/B,SAAC7Y,QAAM,MAAyC,iBAAXA,MAAmB,IAKtDwZ,QAAU,SAAVA,QAAWxZ,QACbuG,YAAY4S,KAAKnZ,QAHF,SAAbyZ,WAAczZ,QAAmB,OAAKuZ,aAAajR,SAAStI,OAAOG,IAAK,CAKtEsZ,CAAWzZ,SACXwG,gBAAgB2S,KAAKnZ,OAE7B,EAUA,OARAU,QAAQgZ,SAAQ,SAAC1Z,QACT6B,QAAQ7B,QACRA,OAAOU,QAAQgZ,QAAQF,SAEvBA,QAAQxZ,OAEhB,IAEO,CAAEuG,YAAAA,YAAaC,gBAAAA,gBAC1B,CA8BO,SAAS6N,kBAAiB7T,OAMN,IALvBqF,eAAcrF,MAAdqF,eACAI,QAAOzF,MAAPyF,QAAO0T,qBAAAnZ,MACP8T,eAAAA,oBAAc,IAAAqF,qBAAG1T,QAAO0T,qBACxBvW,KAAI5C,MAAJ4C,KACAmR,WAAU/T,MAAV+T,YAEArK,EAAAA,mCAAAA,YAAU,WACN,IAAM0P,KAAO3T,QAAQgB,QACf4S,YAAcvF,eAAerN,QAEnC,GAAI7D,MAAQwW,MAAQC,aAAehU,eAAiB,EAAG,CACnD,IAAMiU,WAAaF,KAAKvZ,SAAS0G,OAC3BgT,aAAgB,GAAqBC,MAAMrJ,KAC7CiJ,KAAKvZ,SACL,EACAwF,eAAiB,GAGjB8Q,OAASoD,aACRC,MAAM,EAAGnU,gBACT0D,QAAO,SAACC,IAAKyQ,OAAK,OAAKzQ,IAAMyQ,MAAMC,YAAY,GAAE,GAEtD,GAAIrU,eAAiBiU,WAAY,CAC7B,IAAMK,wBAA0BJ,aAAaA,aAAahT,OAAS,GAAGmT,aAGtEvD,QAAUyD,KAAKC,MACXP,WAAajU,gBAAmB,EAC1BsU,wBACAA,wBAA0B,EAExC,CAEAN,YAAYpP,MAAMkM,OAAM,GAAAjN,OAAMiN,OAAM,KACxC,CACJ,GAAG,CAAC1Q,QAAS7C,KAAMkR,eAAgBzO,eAAgB0O,YACvD,CAGO,SAASgB,YAAerV,OAC3B,IAAMa,KAAMgF,EAAAA,mCAAAA,UAMZ,OAJAmE,EAAAA,mCAAAA,YAAU,WACNnJ,IAAIkG,QAAU/G,KAClB,GAAG,CAACA,QAEGa,IAAIkG,OACf,CAGO,IAAMkP,YAAc,SAAdA,YAAkBmE,MAAYC,WACvC,IAAK,IAAIC,EAAIF,MAAMvT,OAAS,EAAGyT,GAAK,EAAGA,IACnC,GAAID,UAAUD,MAAME,IAAK,OAAOA,EAGpC,OAAQ,CACZ,C","sources":["webpack://@alfalab/core-components/./packages/select/src/components/native-select/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/base-select/index.module.css?7b4b","webpack://@alfalab/core-components/./packages/select/src/components/base-select/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/Component.desktop.tsx","webpack://@alfalab/core-components/./packages/select/src/Component.mobile.tsx","webpack://@alfalab/core-components/./packages/select/src/components/arrow/index.module.css?9ca6","webpack://@alfalab/core-components/./packages/select/src/components/arrow/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/base-select-mobile/footer/index.module.css?36b8","webpack://@alfalab/core-components/./packages/select/src/components/base-select-mobile/footer/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/base-select-mobile/index.module.css?d71b","webpack://@alfalab/core-components/./packages/select/src/components/base-select-mobile/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/field/index.module.css?c913","webpack://@alfalab/core-components/./packages/select/src/components/field/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/optgroup/index.module.css?b6c6","webpack://@alfalab/core-components/./packages/select/src/components/optgroup/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/checkmark/index.module.css?72e3","webpack://@alfalab/core-components/./packages/select/src/components/checkmark/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/checkmark-mobile/index.module.css?3860","webpack://@alfalab/core-components/./packages/select/src/components/checkmark-mobile/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/option/index.module.css?74cb","webpack://@alfalab/core-components/./packages/select/src/components/option/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/options-list/index.module.css?7337","webpack://@alfalab/core-components/./packages/select/src/components/options-list/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/components/virtual-options-list/index.module.css?31c5","webpack://@alfalab/core-components/./packages/select/src/components/virtual-options-list/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/consts.ts","webpack://@alfalab/core-components/./packages/select/src/Component.responsive.tsx","webpack://@alfalab/core-components/./packages/select/src/Component.modal.mobile.tsx","webpack://@alfalab/core-components/./packages/select/src/presets/useSelectWithApply/options-list-with-apply/footer/index.module.css?44c0","webpack://@alfalab/core-components/./packages/select/src/presets/useSelectWithApply/options-list-with-apply/footer/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/presets/useSelectWithApply/options-list-with-apply/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/presets/useSelectWithApply/hook.tsx","webpack://@alfalab/core-components/./packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/index.module.css?11f8","webpack://@alfalab/core-components/./packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx","webpack://@alfalab/core-components/./packages/select/src/utils.ts"],"sourcesContent":["import React, { forwardRef, SelectHTMLAttributes, useCallback } from 'react';\n\nimport { GroupShape, OptionShape } from '../../typings';\nimport { isGroup } from '../../utils';\n\nexport type NativeSelectProps = SelectHTMLAttributes<HTMLSelectElement> & {\n    /**\n     * Список вариантов выбора\n     */\n    options: Array<OptionShape | GroupShape>;\n\n    /**\n     * Значение селекта\n     */\n    value: string | string[];\n};\n\nconst Option = ({ option }: { option: OptionShape }) => (\n    <option value={option.key} disabled={option.disabled}>\n        {typeof option.content === 'string' ? option.content : option.key}\n    </option>\n);\n\nconst Group = ({ label, options }: GroupShape) => (\n    <optgroup label={label}>\n        {options.map((option) => (\n            <Option option={option} key={option.key} />\n        ))}\n    </optgroup>\n);\n\nexport const NativeSelect = forwardRef<HTMLSelectElement, NativeSelectProps>(\n    ({ className, disabled, multiple, value, name, options, onChange, ...restProps }, ref) => {\n        const handleClick = useCallback((event: React.MouseEvent<HTMLSelectElement>) => {\n            event.stopPropagation();\n        }, []);\n\n        return (\n            <select\n                className={className}\n                disabled={disabled}\n                multiple={multiple}\n                name={name}\n                value={value}\n                onChange={onChange}\n                onClick={handleClick}\n                ref={ref}\n                {...restProps}\n            >\n                {options.map((option) =>\n                    isGroup(option) ? (\n                        <Group {...option} key={option.label} />\n                    ) : (\n                        <Option option={option} key={option.key} />\n                    ),\n                )}\n            </select>\n        );\n    },\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"component\":\"component_p63D9\",\"popoverInner\":\"popoverInner_gx5Ai\",\"optionsList\":\"optionsList_Ni45G\",\"optionsListBorder\":\"optionsListBorder_QZAA4\",\"nativeSelect\":\"nativeSelect_rLoGL\",\"block\":\"block_wKlh2\"};","/* eslint-disable no-nested-ternary */\nimport React, {\n    FocusEvent,\n    forwardRef,\n    KeyboardEvent,\n    MouseEvent,\n    useCallback,\n    useEffect,\n    useMemo,\n    useRef,\n} from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { ResizeObserver as ResizeObserverPolyfill } from '@juggle/resize-observer';\nimport cn from 'classnames';\nimport {\n    useCombobox,\n    useMultipleSelection,\n    UseMultipleSelectionProps,\n    UseMultipleSelectionState,\n} from 'downshift';\n\nimport { Popover } from '@alfalab/core-components-popover';\nimport { getDataTestId } from '@alfalab/core-components-shared';\nimport { useLayoutEffect_SAFE_FOR_SSR } from '@alfalab/hooks';\n\nimport { AnyObject, BaseSelectProps, OptionShape } from '../../typings';\nimport { processOptions } from '../../utils';\nimport { NativeSelect } from '../native-select';\n\nimport styles from './index.module.css';\n\nexport const BaseSelect = forwardRef(\n    (\n        {\n            dataTestId,\n            className,\n            fieldClassName,\n            optionsListClassName,\n            optionClassName,\n            popperClassName,\n            options,\n            autocomplete = false,\n            multiple = false,\n            allowUnselect = false,\n            disabled = false,\n            closeOnSelect = !multiple,\n            circularNavigation = false,\n            nativeSelect = false,\n            defaultOpen = false,\n            open: openProp,\n            popoverPosition = 'bottom-start',\n            preventFlip = true,\n            optionsListWidth = 'content',\n            name,\n            id,\n            selected,\n            size = 's',\n            optionsSize = size,\n            error,\n            hint,\n            block,\n            label,\n            labelView,\n            placeholder,\n            fieldProps = {},\n            optionsListProps = {},\n            optionProps = {},\n            valueRenderer,\n            onChange,\n            onOpen,\n            onFocus,\n            onBlur,\n            onScroll,\n            Arrow,\n            Field = () => null,\n            OptionsList = () => null,\n            Optgroup = () => null,\n            Option = () => null,\n            updatePopover,\n            zIndexPopover,\n            showEmptyOptionsList = false,\n            visibleOptions,\n        }: BaseSelectProps,\n        ref,\n    ) => {\n        const rootRef = useRef<HTMLLabelElement>(null);\n        const fieldRef = useRef<HTMLInputElement>(null);\n        const listRef = useRef<HTMLDivElement>(null);\n        const initiatorRef = useRef<OptionShape | null>(null);\n\n        const itemToString = (option: OptionShape) => (option ? option.key : '');\n\n        const { flatOptions, selectedOptions } = useMemo(\n            () => processOptions(options, selected),\n            [options, selected],\n        );\n\n        const useMultipleSelectionProps: UseMultipleSelectionProps<OptionShape> = {\n            itemToString,\n            onSelectedItemsChange: (changes) => {\n                if (onChange) {\n                    const { selectedItems = [] } = changes;\n\n                    onChange({\n                        selectedMultiple: selectedItems,\n                        selected: selectedItems.length ? selectedItems[0] : null,\n                        initiator: initiatorRef.current,\n                        name,\n                    });\n\n                    initiatorRef.current = null;\n                }\n            },\n            stateReducer: (state, actionAndChanges) => {\n                const { type, changes } = actionAndChanges;\n\n                if (\n                    !allowUnselect &&\n                    type === useMultipleSelection.stateChangeTypes.DropdownKeyDownBackspace\n                ) {\n                    return state;\n                }\n\n                return changes as UseMultipleSelectionState<OptionShape>;\n            },\n        };\n\n        if (selected !== undefined) {\n            useMultipleSelectionProps.selectedItems = selectedOptions;\n        }\n\n        const {\n            selectedItems,\n            addSelectedItem,\n            setSelectedItems,\n            removeSelectedItem,\n            getDropdownProps,\n        } = useMultipleSelection(useMultipleSelectionProps);\n\n        const {\n            isOpen: open,\n            getMenuProps,\n            getInputProps,\n            getItemProps,\n            getComboboxProps,\n            getLabelProps,\n            highlightedIndex,\n            toggleMenu,\n            openMenu,\n        } = useCombobox<OptionShape>({\n            id,\n            isOpen: openProp,\n            circularNavigation,\n            items: flatOptions,\n            itemToString,\n            defaultHighlightedIndex: selectedItems.length === 0 ? -1 : undefined,\n            onIsOpenChange: (changes) => {\n                if (onOpen) {\n                    /**\n                     *  Вызываем обработчик асинхронно.\n                     *\n                     * Иначе при клике вне открытого селекта сначала сработает onOpen, который закроет селект,\n                     * А затем сработает onClick кнопки открытия\\закрытия с open=false и в итоге селект откроется снова.\n                     */\n                    setTimeout(() => {\n                        onOpen({\n                            open: changes.isOpen,\n                            name,\n                        });\n                    }, 0);\n                }\n            },\n            stateReducer: (state, actionAndChanges) => {\n                const { type, changes } = actionAndChanges;\n                const { selectedItem } = changes;\n\n                switch (type) {\n                    case useCombobox.stateChangeTypes.InputKeyDownEnter:\n                    case useCombobox.stateChangeTypes.ItemClick:\n                        initiatorRef.current = selectedItem;\n\n                        if (selectedItem && !selectedItem.disabled) {\n                            const alreadySelected = selectedItems.includes(selectedItem);\n                            const allowRemove =\n                                allowUnselect || (multiple && selectedItems.length > 1);\n\n                            if (alreadySelected && allowRemove) {\n                                removeSelectedItem(selectedItem);\n                            }\n\n                            if (!alreadySelected) {\n                                if (multiple) {\n                                    addSelectedItem(selectedItem);\n                                } else {\n                                    setSelectedItems([selectedItem]);\n                                }\n                            }\n                        }\n\n                        return {\n                            ...changes,\n                            isOpen: !closeOnSelect,\n                            // при closeOnSelect === false - сохраняем подсвеченный индекс\n                            highlightedIndex:\n                                state.isOpen && !closeOnSelect\n                                    ? state.highlightedIndex\n                                    : changes.highlightedIndex,\n                        };\n                    default:\n                        return changes;\n                }\n            },\n        });\n\n        const menuProps = (getMenuProps as (options: object, additional: object) => AnyObject)(\n            { ref: listRef },\n            { suppressRefError: true },\n        );\n        const inputProps = getInputProps(getDropdownProps({ ref: mergeRefs([ref, fieldRef]) }));\n\n        const handleFieldFocus = (event: FocusEvent<HTMLDivElement | HTMLInputElement>) => {\n            if (onFocus) onFocus(event);\n\n            if (autocomplete && !open) {\n                openMenu();\n            }\n        };\n\n        const handleFieldBlur = (event: FocusEvent<HTMLDivElement | HTMLInputElement>) => {\n            const isNextFocusInsideList = listRef.current?.contains(\n                (event.relatedTarget || document.activeElement) as HTMLElement,\n            );\n\n            if (!isNextFocusInsideList) {\n                if (onBlur) onBlur(event);\n\n                inputProps.onBlur(event);\n            }\n        };\n\n        const handleFieldKeyDown = (event: KeyboardEvent<HTMLDivElement | HTMLInputElement>) => {\n            inputProps.onKeyDown(event);\n            if (autocomplete && !open && (event.key.length === 1 || event.key === 'Backspace')) {\n                // Для автокомплита - открываем меню при начале ввода\n                openMenu();\n            }\n\n            if (\n                [' ', 'Enter'].includes(event.key) &&\n                !autocomplete &&\n                !nativeSelect &&\n                (event.target as HTMLElement).tagName !== 'INPUT' &&\n                (event.target as HTMLElement).tagName !== 'BUTTON'\n            ) {\n                // Открываем\\закрываем меню по нажатию enter или пробела\n                event.preventDefault();\n                if (!open || highlightedIndex === -1) toggleMenu();\n            }\n        };\n\n        const handleFieldClick = (event: MouseEvent) => {\n            if (!autocomplete || (event.target as HTMLElement).tagName !== 'INPUT') {\n                toggleMenu();\n            } else {\n                openMenu();\n            }\n        };\n\n        const handleNativeSelectChange = useCallback(\n            (event: React.ChangeEvent<HTMLSelectElement>) => {\n                setSelectedItems(\n                    // eslint-disable-next-line\n                    [...(event.target.options as any)].reduce(\n                        (acc, option, index) =>\n                            option.selected ? acc.concat(flatOptions[index]) : acc,\n                        [],\n                    ),\n                );\n            },\n            [flatOptions, setSelectedItems],\n        );\n\n        const getOptionProps = useCallback(\n            (option: OptionShape, index: number) => ({\n                ...(optionProps as object),\n                className: optionClassName,\n                innerProps: getItemProps({\n                    index,\n                    item: option,\n                    disabled: option.disabled,\n                    onMouseDown: (event: MouseEvent) => event.preventDefault(),\n                }),\n                multiple,\n                index,\n                option,\n                size: optionsSize,\n                disabled: option.disabled,\n                highlighted: index === highlightedIndex,\n                selected: selectedItems.includes(option),\n                dataTestId: getDataTestId(dataTestId, 'option'),\n            }),\n            [\n                dataTestId,\n                getItemProps,\n                highlightedIndex,\n                multiple,\n                optionClassName,\n                optionProps,\n                optionsSize,\n                selectedItems,\n            ],\n        );\n\n        useEffect(() => {\n            if (defaultOpen) openMenu();\n        }, [defaultOpen, openMenu]);\n\n        useEffect(() => {\n            if (openProp) {\n                openMenu();\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n\n        const calcOptionsListWidth = useCallback(() => {\n            if (listRef.current) {\n                const widthAttr = optionsListWidth === 'field' ? 'width' : 'minWidth';\n\n                const optionsListMinWidth = rootRef.current\n                    ? rootRef.current.getBoundingClientRect().width\n                    : 0;\n\n                listRef.current.setAttribute('style', '');\n                listRef.current.style[widthAttr] = `${optionsListMinWidth}px`;\n            }\n        }, [optionsListWidth]);\n\n        useEffect(() => {\n            const ResizeObserver = window.ResizeObserver || ResizeObserverPolyfill;\n            const observer = new ResizeObserver(calcOptionsListWidth);\n\n            if (rootRef.current) {\n                observer.observe(rootRef.current);\n            }\n\n            return () => {\n                observer.disconnect();\n            };\n        }, [calcOptionsListWidth, open, optionsListWidth]);\n\n        useLayoutEffect_SAFE_FOR_SSR(calcOptionsListWidth, [\n            open,\n            optionsListWidth,\n            options,\n            selectedItems,\n        ]);\n\n        const renderValue = useCallback(\n            () =>\n                selectedItems.map((option) => (\n                    <input type='hidden' name={name} value={option.key} key={option.key} />\n                )),\n            [selectedItems, name],\n        );\n\n        const renderNativeSelect = useCallback(() => {\n            const value = multiple\n                ? selectedItems.map((option) => option.key)\n                : (selectedItems[0] || {}).key;\n\n            return (\n                <NativeSelect\n                    {...menuProps}\n                    className={styles.nativeSelect}\n                    disabled={disabled}\n                    multiple={multiple}\n                    name={name}\n                    value={value}\n                    onChange={handleNativeSelectChange}\n                    options={options}\n                />\n            );\n        }, [multiple, selectedItems, disabled, name, handleNativeSelectChange, options, menuProps]);\n\n        const needRenderOptionsList = flatOptions.length > 0 || showEmptyOptionsList;\n\n        return (\n            <div\n                {...getComboboxProps({\n                    ref: rootRef,\n                    ...(disabled && { 'aria-disabled': true }),\n                    className: cn(styles.component, { [styles.block]: block }, className),\n                })}\n                onKeyDown={disabled ? undefined : handleFieldKeyDown}\n                tabIndex={-1}\n                data-test-id={getDataTestId(dataTestId)}\n            >\n                {nativeSelect && renderNativeSelect()}\n\n                <Field\n                    selectedMultiple={selectedItems}\n                    selected={selectedItems[0]}\n                    setSelectedItems={setSelectedItems}\n                    toggleMenu={toggleMenu}\n                    multiple={multiple}\n                    open={open}\n                    disabled={disabled}\n                    size={size}\n                    placeholder={placeholder}\n                    label={label && <span {...getLabelProps()}>{label}</span>}\n                    labelView={labelView}\n                    Arrow={Arrow && <Arrow open={open} />}\n                    error={error}\n                    hint={hint}\n                    valueRenderer={valueRenderer}\n                    className={fieldClassName}\n                    innerProps={{\n                        onBlur: handleFieldBlur,\n                        onFocus: disabled ? undefined : handleFieldFocus,\n                        onClick: disabled ? undefined : handleFieldClick,\n                        tabIndex: disabled ? undefined : nativeSelect ? -1 : 0,\n                        ref: mergeRefs([inputProps.ref]),\n                        id: inputProps.id,\n                        'aria-labelledby': inputProps['aria-labelledby'],\n                        'aria-controls': inputProps['aria-controls'],\n                        'aria-autocomplete': autocomplete\n                            ? inputProps['aria-autocomplete']\n                            : undefined,\n                    }}\n                    dataTestId={getDataTestId(dataTestId, 'field')}\n                    {...(fieldProps as AnyObject)}\n                />\n\n                {name && !nativeSelect && renderValue()}\n\n                {!nativeSelect && (\n                    <Popover\n                        open={open}\n                        withTransition={false}\n                        anchorElement={fieldRef.current as HTMLElement}\n                        position={popoverPosition}\n                        preventFlip={preventFlip}\n                        popperClassName={cn(styles.popoverInner, popperClassName)}\n                        update={updatePopover}\n                        zIndex={zIndexPopover}\n                    >\n                        {needRenderOptionsList && (\n                            <div\n                                {...menuProps}\n                                className={cn(optionsListClassName, styles.optionsList)}\n                            >\n                                <OptionsList\n                                    {...(optionsListProps as AnyObject)}\n                                    optionsListWidth={optionsListWidth}\n                                    flatOptions={flatOptions}\n                                    highlightedIndex={highlightedIndex}\n                                    open={open}\n                                    size={size}\n                                    options={options}\n                                    Optgroup={Optgroup}\n                                    Option={Option}\n                                    selectedItems={selectedItems}\n                                    setSelectedItems={setSelectedItems}\n                                    toggleMenu={toggleMenu}\n                                    getOptionProps={getOptionProps}\n                                    visibleOptions={visibleOptions}\n                                    onScroll={onScroll}\n                                    dataTestId={getDataTestId(dataTestId, 'options-list')}\n                                />\n                                <div className={styles.optionsListBorder} />\n                            </div>\n                        )}\n                    </Popover>\n                )}\n            </div>\n        );\n    },\n);\n","import React, { forwardRef } from 'react';\n\nimport {\n    FormControlDesktop,\n    FormControlDesktopProps,\n} from '@alfalab/core-components-form-control/desktop';\n\nimport { Arrow as DefaultArrow } from './components/arrow';\nimport { BaseSelect } from './components/base-select';\nimport { Field as DefaultField } from './components/field';\nimport { Optgroup as DefaultOptgroup } from './components/optgroup';\nimport { Option as DefaultOption } from './components/option';\nimport { OptionsList as DefaultOptionsList } from './components/options-list';\nimport { BaseSelectProps } from './typings';\n\nexport type SelectFieldProps = Omit<FormControlDesktopProps, 'size'> & Record<string, unknown>;\n\nexport type SelectDesktopProps = Omit<BaseSelectProps, 'fieldProps'> & {\n    /**\n     * Пропсы, которые будут прокинуты в компонент поля\n     */\n    fieldProps?: SelectFieldProps;\n};\n\nexport const SelectDesktop = forwardRef<HTMLDivElement, SelectDesktopProps>(\n    (\n        {\n            Arrow = DefaultArrow,\n            Field = DefaultField,\n            OptionsList = DefaultOptionsList,\n            Optgroup = DefaultOptgroup,\n            Option = DefaultOption,\n            fieldProps = {},\n            ...restProps\n        },\n        ref,\n    ) => (\n        <BaseSelect\n            ref={ref}\n            Option={Option}\n            Field={Field}\n            fieldProps={{\n                FormControlComponent: FormControlDesktop,\n                ...(fieldProps as object),\n            }}\n            Optgroup={Optgroup}\n            OptionsList={OptionsList}\n            Arrow={Arrow}\n            {...restProps}\n        />\n    ),\n);\n","import React, { forwardRef, ReactNode } from 'react';\n\nimport { BottomSheetProps } from '@alfalab/core-components-bottom-sheet';\nimport { FormControlMobile } from '@alfalab/core-components-form-control/mobile';\n\nimport { Arrow as DefaultArrow } from './components/arrow';\nimport { BaseSelectMobile } from './components/base-select-mobile';\nimport { Footer } from './components/base-select-mobile/footer';\nimport { Field as DefaultField } from './components/field';\nimport { Optgroup as DefaultOptgroup } from './components/optgroup';\nimport { Option as DefaultOption } from './components/option';\nimport { OptionsList as DefaultOptionsList } from './components/options-list';\nimport { VirtualOptionsList as DefaultVirtualOptionsList } from './components/virtual-options-list';\nimport { useSelectWithApply, UseSelectWithApplyProps } from './presets/useSelectWithApply/hook';\nimport { Header } from './presets/useSelectWithApply/options-list-with-apply/header/Component';\nimport { AnyObject, BaseSelectProps } from './typings';\n\nexport type AdditionalMobileProps = {\n    /**\n     * Футер\n     * @deprecated Используйте bottomSheetProps.actionButton\n     */\n    footer?: ReactNode;\n\n    /**\n     * Будет ли свайпаться шторка\n     * @deprecated Используйте bottomSheetProps.swipeable\n     */\n    swipeable?: boolean;\n\n    /**\n     * Дополнительные пропсы шторки\n     */\n    bottomSheetProps?: Partial<BottomSheetProps>;\n\n    /**\n     * Показывать кнопку очистки\n     */\n    showClear?: UseSelectWithApplyProps['showClear'];\n\n    /**\n     * Показывать пункт \"Выбрать все\"\n     */\n    showSelectAll?: UseSelectWithApplyProps['showSelectAll'];\n\n    /**\n     * Показывать пункт \"Выбрать все\" в заголовке списка\n     */\n    showHeaderWithSelectAll?: UseSelectWithApplyProps['showHeaderWithSelectAll'];\n\n    /**\n     * Использовать ли хук useSelectWithApply\n     */\n    useWithApplyHook?: boolean;\n};\n\nexport type SelectMobileProps = Omit<BaseSelectProps, 'Checkmark' | 'onScroll'> &\n    AdditionalMobileProps;\n\nconst VIRTUAL_OPTIONS_LIST_THRESHOLD = 30;\n\nexport const SelectMobile = forwardRef(\n    (\n        {\n            autocomplete = false,\n            multiple = false,\n            allowUnselect = false,\n            disabled = false,\n            closeOnSelect = !multiple,\n            circularNavigation = false,\n            defaultOpen = false,\n            open: openProp,\n            size = 'm',\n            optionsSize = 'm',\n            fieldProps = {},\n            optionProps = {},\n            optionsListProps = {},\n            Arrow = DefaultArrow,\n            Field = DefaultField,\n            Optgroup = DefaultOptgroup,\n            Option = DefaultOption,\n            selected,\n            options,\n            OptionsList = options.length > VIRTUAL_OPTIONS_LIST_THRESHOLD\n                ? DefaultVirtualOptionsList\n                : DefaultOptionsList,\n            onChange,\n            bottomSheetProps,\n            showClear = true,\n            showSelectAll,\n            showHeaderWithSelectAll,\n            useWithApplyHook = multiple,\n            ...restProps\n        }: SelectMobileProps,\n        ref,\n    ) => {\n        const applyProps = useSelectWithApply({\n            optionsListProps: {\n                ...(optionsListProps as AnyObject),\n                Footer,\n            },\n            OptionsList,\n            selected,\n            options,\n            onChange,\n            showClear,\n            showSelectAll,\n        });\n\n        return (\n            <BaseSelectMobile\n                ref={ref}\n                autocomplete={autocomplete}\n                multiple={multiple}\n                allowUnselect={allowUnselect}\n                disabled={disabled}\n                closeOnSelect={closeOnSelect}\n                circularNavigation={circularNavigation}\n                defaultOpen={defaultOpen}\n                open={openProp}\n                size={size}\n                optionsSize={optionsSize}\n                fieldProps={{\n                    FormControlComponent: FormControlMobile,\n                    ...(fieldProps as object),\n                }}\n                optionProps={optionProps}\n                Arrow={Arrow}\n                Field={Field}\n                Optgroup={Optgroup}\n                Option={Option}\n                isBottomSheet={true}\n                options={options}\n                selected={selected}\n                onChange={onChange}\n                OptionsList={OptionsList}\n                bottomSheetProps={{\n                    bottomAddons: useWithApplyHook && showHeaderWithSelectAll && (\n                        <Header {...applyProps.optionsListProps.headerProps} mobile={true} />\n                    ),\n                    ...bottomSheetProps,\n                }}\n                optionsListProps={optionsListProps}\n                {...restProps}\n                {...(useWithApplyHook && applyProps)}\n            />\n        );\n    },\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"arrow\":\"arrow_Fidyu\",\"open\":\"open_JDO2N\"};","import React from 'react';\nimport cn from 'classnames';\n\nimport { ChevronDownMIcon } from '@alfalab/icons-glyph/ChevronDownMIcon';\n\nimport { ArrowProps } from '../../typings';\n\nimport styles from './index.module.css';\n\nexport const Arrow = ({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer_axvIA\",\"button\":\"button_pDzdW\",\"highlighted\":\"highlighted_Elc3O\"};","import React, { useContext, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport { BaseModalContext } from '@alfalab/core-components-base-modal';\nimport { ButtonMobile } from '@alfalab/core-components-button/mobile';\n\nimport styles from './index.module.css';\n\nexport type FooterProps = {\n    handleClear?: () => void;\n    handleApply?: () => void;\n    showClear?: boolean;\n};\n\nexport const Footer = ({ handleApply, handleClear, showClear }: FooterProps) => {\n    const { footerHighlighted, setHasFooter } = useContext(BaseModalContext);\n\n    useEffect(() => {\n        setHasFooter(true);\n    }, [setHasFooter]);\n\n    return (\n        <div\n            // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n            tabIndex={0}\n            className={cn(styles.footer, {\n                [styles.highlighted]: footerHighlighted,\n            })}\n        >\n            {showClear && (\n                <ButtonMobile\n                    size='m'\n                    view='secondary'\n                    className={styles.button}\n                    onClick={handleClear}\n                >\n                    Сбросить\n                </ButtonMobile>\n            )}\n\n            <ButtonMobile size='m' view='primary' className={styles.button} onClick={handleApply}>\n                Применить\n            </ButtonMobile>\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"component\":\"component_Ueoys\",\"sheet\":\"sheet_M7FLk\",\"sheetContent\":\"sheetContent_FzFRt\",\"sheetContainer\":\"sheetContainer_xoxRd\",\"block\":\"block_UhmUp\",\"option\":\"option_SOtzg\",\"optionGroup\":\"optionGroup_afe40\"};","import React, {\n    FocusEvent,\n    forwardRef,\n    KeyboardEvent,\n    MouseEvent,\n    ReactNode,\n    useEffect,\n    useMemo,\n    useRef,\n} from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport cn from 'classnames';\nimport {\n    useCombobox,\n    useMultipleSelection,\n    UseMultipleSelectionProps,\n    UseMultipleSelectionState,\n} from 'downshift';\n\nimport { BottomSheet, BottomSheetProps } from '@alfalab/core-components-bottom-sheet';\nimport { ModalMobile } from '@alfalab/core-components-modal/mobile';\nimport { getDataTestId } from '@alfalab/core-components-shared';\n\nimport {\n    AnyObject,\n    BaseSelectProps,\n    OptionProps,\n    OptionShape,\n    OptionsListProps,\n} from '../../typings';\nimport { processOptions } from '../../utils';\nimport { Arrow as DefaultArrow } from '../arrow';\nimport { Field as DefaultField } from '../field';\nimport { Optgroup as DefaultOptgroup } from '../optgroup';\nimport { Option as DefaultOption } from '../option';\nimport { OptionsList as DefaultOptionsList } from '../options-list';\n\nimport styles from './index.module.css';\n\nexport type SelectMobileProps = Omit<BaseSelectProps, 'Checkmark' | 'onScroll'> & {\n    /**\n     * Футер\n     * @deprecated Используйте bottomSheetProps.actionButton\n     */\n    footer?: ReactNode;\n\n    /**\n     * Будет ли свайпаться шторка\n     * @deprecated Используйте bottomSheetProps.swipeable\n     */\n    swipeable?: boolean;\n\n    /**\n     * Отображать в BottomSheet\n     */\n    isBottomSheet?: boolean;\n\n    /**\n     * Дополнительные пропсы шторки\n     */\n    bottomSheetProps?: Partial<BottomSheetProps>;\n\n    /**\n     *  Дополнительные пропсы модалки\n     */\n    modalProps?: Partial<React.ComponentProps<typeof ModalMobile>>;\n\n    /**\n     *  Дополнительные пропсы шапки модалки\n     */\n    modalHeaderProps?: Partial<React.ComponentProps<typeof ModalMobile.Header>>;\n\n    /**\n     *  Дополнительные пропсы футера модалки\n     */\n    modalFooterProps?: Partial<React.ComponentProps<typeof ModalMobile.Footer>>;\n};\n\nexport const BaseSelectMobile = forwardRef(\n    (\n        {\n            dataTestId,\n            className,\n            fieldClassName,\n            optionsListClassName,\n            optionClassName,\n            optionGroupClassName,\n            optionsListProps,\n            options = [],\n            autocomplete = false,\n            multiple = false,\n            allowUnselect = false,\n            disabled = false,\n            closeOnSelect = !multiple,\n            circularNavigation = false,\n            defaultOpen = false,\n            open: openProp,\n            optionsListWidth = 'content',\n            name,\n            id,\n            selected = [],\n            size = 'm',\n            optionsSize = 'm',\n            error,\n            hint,\n            block,\n            label,\n            labelView,\n            placeholder,\n            fieldProps = {},\n            optionProps = {},\n            valueRenderer,\n            onChange,\n            onOpen,\n            onFocus,\n            Arrow = DefaultArrow,\n            Field = DefaultField,\n            Optgroup = DefaultOptgroup,\n            Option = DefaultOption,\n            OptionsList = DefaultOptionsList,\n            swipeable,\n            footer,\n            isBottomSheet,\n            bottomSheetProps,\n            modalProps,\n            modalHeaderProps,\n            modalFooterProps,\n            showEmptyOptionsList = false,\n        }: SelectMobileProps,\n        ref,\n    ) => {\n        const rootRef = useRef<HTMLLabelElement>(null);\n        const fieldRef = useRef<HTMLInputElement>(null);\n        const listRef = useRef<HTMLDivElement>(null);\n        const initiatorRef = useRef<OptionShape | null>(null);\n        const alreadyClickedRef = useRef<boolean>(false);\n\n        const itemToString = (option: OptionShape) => (option ? option.key : '');\n\n        const { flatOptions, selectedOptions } = useMemo(\n            () => processOptions(options, selected),\n            [options, selected],\n        );\n\n        const scrollableContainerRef = useRef<HTMLDivElement>(null);\n\n        const useMultipleSelectionProps: UseMultipleSelectionProps<OptionShape> = {\n            itemToString,\n            onSelectedItemsChange: (changes) => {\n                if (onChange) {\n                    const { selectedItems = [] } = changes;\n\n                    onChange({\n                        selectedMultiple: selectedItems,\n                        selected: selectedItems.length ? selectedItems[0] : null,\n                        initiator: initiatorRef.current,\n                        name,\n                    });\n\n                    initiatorRef.current = null;\n                }\n            },\n            stateReducer: (state, actionAndChanges) => {\n                const { type, changes } = actionAndChanges;\n\n                if (\n                    !allowUnselect &&\n                    type === useMultipleSelection.stateChangeTypes.DropdownKeyDownBackspace\n                ) {\n                    return state;\n                }\n\n                return changes as UseMultipleSelectionState<OptionShape>;\n            },\n        };\n\n        if (selected !== undefined) {\n            useMultipleSelectionProps.selectedItems = selectedOptions;\n        }\n\n        const {\n            selectedItems,\n            addSelectedItem,\n            setSelectedItems,\n            removeSelectedItem,\n            getDropdownProps,\n        } = useMultipleSelection(useMultipleSelectionProps);\n\n        const {\n            isOpen: open,\n            getMenuProps,\n            getInputProps,\n            getItemProps,\n            getComboboxProps,\n            getLabelProps,\n            highlightedIndex,\n            toggleMenu,\n            openMenu,\n        } = useCombobox<OptionShape>({\n            id,\n            isOpen: openProp,\n            circularNavigation,\n            items: flatOptions,\n            itemToString,\n            defaultHighlightedIndex: -1,\n            onIsOpenChange: ({ isOpen }) => {\n                if (onOpen) {\n                    /**\n                     *  Вызываем обработчик асинхронно.\n                     *\n                     * Иначе при клике вне открытого селекта сначала сработает onOpen, который закроет селект,\n                     * А затем сработает onClick кнопки открытия\\закрытия с open=false и в итоге селект откроется снова.\n                     */\n                    setTimeout(() => {\n                        onOpen({\n                            open: isOpen,\n                            name,\n                        });\n                    }, 0);\n                }\n            },\n            stateReducer: (state, actionAndChanges) => {\n                const { type, changes } = actionAndChanges;\n                const { selectedItem } = changes;\n\n                switch (type) {\n                    case useCombobox.stateChangeTypes.InputBlur:\n                        return state;\n                    case useCombobox.stateChangeTypes.InputKeyDownEnter:\n                    case useCombobox.stateChangeTypes.ItemClick:\n                        initiatorRef.current = selectedItem;\n\n                        if (selectedItem && !selectedItem.disabled && !alreadyClickedRef.current) {\n                            alreadyClickedRef.current = true;\n                            // TODO!!! Проблема downshift + React 18. ItemClick срабатывает дважды. См https://github.com/downshift-js/downshift/issues/1384\n                            setTimeout(() => {\n                                alreadyClickedRef.current = false;\n                            });\n                            const alreadySelected = selectedItems.includes(selectedItem);\n                            const allowRemove =\n                                allowUnselect || (multiple && selectedItems.length > 1);\n\n                            if (alreadySelected && allowRemove) {\n                                if (multiple) {\n                                    removeSelectedItem(selectedItem);\n                                } else {\n                                    setSelectedItems([]);\n                                }\n                            }\n\n                            if (!alreadySelected) {\n                                if (multiple) {\n                                    addSelectedItem(selectedItem);\n                                } else {\n                                    setSelectedItems([selectedItem]);\n                                }\n                            }\n                        }\n\n                        return {\n                            ...changes,\n                            isOpen: !closeOnSelect || multiple,\n                            // при closeOnSelect === false - сохраняем подсвеченный индекс\n                            highlightedIndex:\n                                state.isOpen && !closeOnSelect\n                                    ? state.highlightedIndex\n                                    : changes.highlightedIndex,\n                        };\n                    default:\n                        return changes;\n                }\n            },\n        });\n\n        const menuProps = (getMenuProps as (options: object, additional: object) => AnyObject)(\n            { ref: listRef },\n            { suppressRefError: true },\n        );\n        const inputProps = getInputProps(getDropdownProps({ ref: mergeRefs([ref, fieldRef]) }));\n\n        const handleFieldFocus = (event: FocusEvent<HTMLDivElement | HTMLInputElement>) => {\n            if (onFocus) onFocus(event);\n\n            if (autocomplete && !open) {\n                openMenu();\n            }\n        };\n\n        const handleFieldKeyDown = (event: KeyboardEvent<HTMLDivElement | HTMLInputElement>) => {\n            inputProps.onKeyDown(event);\n            if (autocomplete && !open && (event.key.length === 1 || event.key === 'Backspace')) {\n                // Для автокомплита - открываем меню при начале ввода\n                openMenu();\n            }\n\n            if (\n                [' ', 'Enter'].includes(event.key) &&\n                !autocomplete &&\n                (event.target as HTMLElement).tagName !== 'INPUT' &&\n                (event.target as HTMLElement).tagName !== 'BUTTON'\n            ) {\n                // Открываем\\закрываем меню по нажатию enter или пробела\n                event.preventDefault();\n                if (!open || highlightedIndex === -1) toggleMenu();\n            }\n        };\n\n        const handleFieldClick = (event: MouseEvent) => {\n            if (!autocomplete || (event.target as HTMLElement).tagName !== 'INPUT') {\n                toggleMenu();\n            } else {\n                openMenu();\n            }\n        };\n\n        const getOptionProps = (option: OptionShape, index: number): OptionProps => {\n            const selectedItem = selectedItems.includes(option);\n\n            return {\n                ...(optionProps as object),\n                mobile: true,\n                className: cn(styles.option, optionClassName),\n                innerProps: getItemProps({\n                    index,\n                    item: option,\n                    disabled: option.disabled,\n                    onMouseDown: (event: MouseEvent) => event.preventDefault(),\n                }),\n                multiple,\n                index,\n                option,\n                size: optionsSize,\n                disabled: option.disabled,\n                highlighted: index === highlightedIndex,\n                selected: selectedItem,\n                dataTestId: getDataTestId(dataTestId, 'option'),\n            };\n        };\n\n        useEffect(() => {\n            if (defaultOpen) openMenu();\n        }, [defaultOpen, openMenu]);\n\n        useEffect(() => {\n            if (openProp) {\n                openMenu();\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n\n        const handleClose = () => {\n            toggleMenu();\n        };\n\n        const renderValue = () =>\n            selectedItems.map((option) => (\n                <input type='hidden' name={name} value={option.key} key={option.key} />\n            ));\n\n        const renderOptionsList = () => {\n            if (flatOptions.length === 0 && !showEmptyOptionsList) return null;\n\n            return (\n                <div {...menuProps} className={optionsListClassName}>\n                    <OptionsList\n                        {...(optionsListProps as OptionsListProps)}\n                        ref={scrollableContainerRef}\n                        optionsListWidth={optionsListWidth}\n                        flatOptions={flatOptions}\n                        highlightedIndex={highlightedIndex}\n                        open={open}\n                        size={size}\n                        options={options}\n                        Optgroup={Optgroup}\n                        Option={Option}\n                        selectedItems={selectedItems}\n                        setSelectedItems={setSelectedItems}\n                        toggleMenu={toggleMenu}\n                        getOptionProps={getOptionProps}\n                        visibleOptions={0}\n                        dataTestId={getDataTestId(dataTestId, 'options-list')}\n                        optionGroupClassName={cn(styles.optionGroup, optionGroupClassName)}\n                    />\n                </div>\n            );\n        };\n\n        return (\n            <div\n                {...getComboboxProps({\n                    ref: rootRef,\n                    ...(disabled && { 'aria-disabled': true }),\n                    className: cn(styles.component, { [styles.block]: block }, className),\n                })}\n                onKeyDown={disabled ? undefined : handleFieldKeyDown}\n                tabIndex={-1}\n                data-test-id={getDataTestId(dataTestId)}\n            >\n                <Field\n                    selectedMultiple={selectedItems}\n                    selected={selectedItems[0]}\n                    setSelectedItems={setSelectedItems}\n                    toggleMenu={toggleMenu}\n                    multiple={multiple}\n                    open={open}\n                    disabled={disabled}\n                    size={size}\n                    placeholder={placeholder}\n                    label={label && <span {...getLabelProps()}>{label}</span>}\n                    labelView={labelView}\n                    Arrow={Arrow && <Arrow open={open} />}\n                    error={error}\n                    hint={hint}\n                    valueRenderer={valueRenderer}\n                    className={fieldClassName}\n                    innerProps={{\n                        onFocus: disabled ? undefined : handleFieldFocus,\n                        onClick: disabled ? undefined : handleFieldClick,\n                        tabIndex: disabled ? -1 : 0,\n                        ref: mergeRefs([inputProps.ref]),\n                        id: inputProps.id,\n                        'aria-labelledby': inputProps['aria-labelledby'],\n                        'aria-controls': inputProps['aria-controls'],\n                        'aria-autocomplete': autocomplete\n                            ? inputProps['aria-autocomplete']\n                            : undefined,\n                    }}\n                    dataTestId={getDataTestId(dataTestId, 'field')}\n                    {...(fieldProps as AnyObject)}\n                />\n\n                {name && renderValue()}\n\n                {isBottomSheet ? (\n                    <BottomSheet\n                        open={open}\n                        onClose={handleClose}\n                        className={styles.sheet}\n                        contentClassName={styles.sheetContent}\n                        containerClassName={styles.sheetContainer}\n                        title={label || placeholder}\n                        actionButton={footer}\n                        stickyHeader={true}\n                        hasCloser={true}\n                        swipeable={swipeable}\n                        scrollableContainerRef={scrollableContainerRef}\n                        {...bottomSheetProps}\n                    >\n                        {renderOptionsList()}\n                    </BottomSheet>\n                ) : (\n                    <ModalMobile\n                        open={open}\n                        hasCloser={true}\n                        {...modalProps}\n                        onClose={(...args) => {\n                            handleClose();\n                            modalProps?.onClose?.(...args);\n                        }}\n                        contentClassName={cn(styles.sheetContent, modalProps?.contentClassName)}\n                        ref={mergeRefs([\n                            scrollableContainerRef,\n                            modalProps?.ref as React.Ref<HTMLDivElement>,\n                        ])}\n                    >\n                        <ModalMobile.Header hasCloser={true} sticky={true} {...modalHeaderProps}>\n                            {label || placeholder}\n                        </ModalMobile.Header>\n\n                        {renderOptionsList()}\n\n                        {modalFooterProps?.children && <ModalMobile.Footer {...modalFooterProps} />}\n                    </ModalMobile>\n                )}\n            </div>\n        );\n    },\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"component\":\"component_zOUqa\",\"field\":\"field_dLiU8\",\"disabled\":\"disabled_V9ICB\",\"arrow\":\"arrow_J35rX\",\"placeholder\":\"placeholder_ipIF4\",\"contentWrapper\":\"contentWrapper_zxzjS\",\"value\":\"value_WHuoX\",\"focusVisible\":\"focusVisible_otvIz\"};","import React, { ElementType, useCallback, useRef, useState } from 'react';\nimport cn from 'classnames';\n\nimport { FormControlProps } from '@alfalab/core-components-form-control';\nimport { useFocus } from '@alfalab/hooks';\n\nimport { FieldProps as BaseFieldProps } from '../../typings';\nimport { joinOptions } from '../../utils';\n\nimport styles from './index.module.css';\n\ntype FieldProps = {\n    /**\n     * Компонент FormControl\n     */\n    FormControlComponent?: ElementType;\n};\n\nexport const Field = ({\n    size = 'm',\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    FormControlComponent,\n    ...restProps\n}: BaseFieldProps & FormControlProps & FieldProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label && (filled || !placeholder || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            {FormControlComponent ? (\n                <FormControlComponent\n                    fieldClassName={cn(styles.field, fieldClassName, {\n                        [styles.disabled]: disabled,\n                        [styles.focusVisible]: focusVisible,\n                    })}\n                    block={true}\n                    size={size}\n                    focused={open || focused}\n                    disabled={disabled}\n                    filled={filled}\n                    label={showLabel && label}\n                    labelView={labelView}\n                    error={error}\n                    hint={hint}\n                    rightAddons={\n                        (Arrow || rightAddons) && (\n                            <React.Fragment>\n                                {rightAddons}\n                                {/* TODO: стоит переделать, но это будет мажорка */}\n                                {Arrow\n                                    ? React.cloneElement(Arrow, { className: styles.arrow })\n                                    : null}\n                            </React.Fragment>\n                        )\n                    }\n                    data-test-id={dataTestId}\n                    {...restProps}\n                    {...innerProps}\n                >\n                    <div className={styles.contentWrapper}>\n                        {placeholder && !filled && (\n                            <span className={styles.placeholder}>{placeholder}</span>\n                        )}\n                        {filled && <div className={styles.value}>{value}</div>}\n                    </div>\n                </FormControlComponent>\n            ) : null}\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"optgroup\":\"optgroup_q8FGV\",\"label\":\"label_YEkB6\",\"l\":\"l_ns03o\",\"xl\":\"xl_Cgp4G\"};","import React from 'react';\nimport cn from 'classnames';\n\nimport { OptgroupProps } from '../../typings';\n\nimport styles from './index.module.css';\n\nexport const Optgroup = ({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"checkmark\":\"checkmark_CSCCc\",\"after\":\"after_aCWWU\",\"single\":\"single_XrElb\",\"selected\":\"selected_gJ5q_\",\"before\":\"before_A2aV6\",\"multiple\":\"multiple_enpsV\",\"colorIcon\":\"colorIcon_pQ3if\"};","import React, { useCallback } from 'react';\nimport cn from 'classnames';\n\nimport { Badge } from '@alfalab/core-components-badge';\nimport { Checkbox, CheckboxProps } from '@alfalab/core-components-checkbox';\nimport { CheckmarkCircleMIcon } from '@alfalab/icons-glyph/CheckmarkCircleMIcon';\nimport CheckmarkMIcon from '@alfalab/icons-glyph/CheckmarkMIcon';\n\nimport { CheckmarkProps } from '../../typings';\n\nimport styles from './index.module.css';\n\nexport const Checkmark = ({\n    selected,\n    disabled = false,\n    className,\n    multiple,\n    position = 'before',\n}: CheckmarkProps) => {\n    const single = !multiple;\n\n    const checkmarkClassNames = cn(styles.checkmark, className, styles[position], {\n        [styles.multiple]: !single,\n        [styles.single]: single,\n        [styles.selected]: selected,\n    });\n\n    const handleCheckboxClick = useCallback<Required<CheckboxProps>['onClick']>(\n        (event) => event.stopPropagation(),\n        [],\n    );\n\n    return single ? (\n        <div className={checkmarkClassNames}>\n            {position === 'before' ? (\n                <Badge\n                    className={styles.after}\n                    view='icon'\n                    size='m'\n                    iconColor='positive'\n                    content={<CheckmarkCircleMIcon className={styles.colorIcon} />}\n                />\n            ) : (\n                <CheckmarkMIcon className={cn(styles.displayIcon)} />\n            )}\n        </div>\n    ) : (\n        <Checkbox\n            checked={selected}\n            disabled={disabled}\n            className={checkmarkClassNames}\n            size='m'\n            onClick={handleCheckboxClick}\n        />\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"checkmark\":\"checkmark_rWzcg\",\"selected\":\"selected_wACln\",\"displayIcon\":\"displayIcon_GEtCs\",\"displayBadge\":\"displayBadge_ei_LP\"};","import React from 'react';\nimport cn from 'classnames';\n\nimport { CheckmarkMIcon } from '@alfalab/icons-glyph/CheckmarkMIcon';\n\nimport { CheckmarkProps } from '../../typings';\n\nimport styles from './index.module.css';\n\nexport const Checkmark = ({ selected, className }: CheckmarkProps) => (\n    <div\n        className={cn(styles.checkmark, className, {\n            [styles.selected]: selected,\n        })}\n    >\n        <CheckmarkMIcon className={styles.displayIcon} />\n    </div>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"option\":\"option_gwrUy\",\"disabled\":\"disabled__Fu13\",\"s\":\"s_utmIH\",\"m\":\"m_Dt3qv\",\"l\":\"l_rPQbN\",\"xl\":\"xl_m_KYY\",\"selected\":\"selected_hRgWF\",\"highlighted\":\"highlighted_kJT1g\",\"content\":\"content_ExbhC\",\"textContent\":\"textContent_IMZ6e\"};","import React, { FC, isValidElement } from 'react';\nimport cn from 'classnames';\n\nimport { OptionProps } from '../../typings';\nimport { Checkmark as DefaultCheckMark } from '../checkmark';\nimport { Checkmark as DefaultMobileCheckmark } from '../checkmark-mobile';\n\nimport styles from './index.module.css';\n\nexport const Option: FC<OptionProps> = ({\n    size = 's',\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[size], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"optionsList\":\"optionsList_dWWP1\",\"optionsListHeader\":\"optionsListHeader_l6dzu\",\"optionsListFooter\":\"optionsListFooter_RLFvC\",\"withBorder\":\"withBorder_B_X9i\",\"scrollable\":\"scrollable_gc3Nx\",\"emptyPlaceholder\":\"emptyPlaceholder_rowx2\",\"l\":\"l_uu6sb\",\"xl\":\"xl_hSRK3\"};","import React, { forwardRef, useRef } from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport cn from 'classnames';\n\nimport { Scrollbar } from '@alfalab/core-components-scrollbar';\nimport { useMedia } from '@alfalab/hooks';\n\nimport { DEFAULT_VISIBLE_OPTIONS } from '../../consts';\nimport { GroupShape, OptionShape, OptionsListProps } from '../../typings';\nimport { isGroup, useVisibleOptions } from '../../utils';\nimport { Optgroup as DefaultOptgroup } from '../optgroup';\n\nimport styles from './index.module.css';\n\nconst createCounter = () => {\n    let count = 0;\n\n    // eslint-disable-next-line no-plusplus\n    return () => count++;\n};\n\nexport const OptionsList = forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 's',\n            className,\n            optionGroupClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n        },\n        ref,\n    ) => {\n        let [nativeScrollbar] = useMedia<boolean>([[true, '(max-width: 1023px)']], false);\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={styles.scrollable}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div className={styles.scrollable} ref={mergeRefs([listRef, ref])} onScroll={onScroll}>\n                {renderListItems()}\n            </div>\n        );\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[size], className)}\n            >\n                {header && <div className={styles.optionsListHeader}>{header}</div>}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions && flatOptions.length > visibleOptions,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"virtualOptionsList\":\"virtualOptionsList_f8l8Q\",\"virtualOptionsListHeader\":\"virtualOptionsListHeader_Il1v5\",\"virtualOptionsListFooter\":\"virtualOptionsListFooter_dRAb1\",\"withBorder\":\"withBorder_Ufdow\",\"scrollable\":\"scrollable_D_W_P\",\"inner\":\"inner_HnsHb\",\"virtualRow\":\"virtualRow_LhVkm\",\"highlighted\":\"highlighted_pMwde\",\"emptyPlaceholder\":\"emptyPlaceholder_VR5vJ\",\"l\":\"l_eZbum\",\"xl\":\"xl_jd5nz\"};","import React, { forwardRef, useEffect, useMemo, useRef, useState } from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { useVirtual } from 'react-virtual';\nimport cn from 'classnames';\n\nimport { Scrollbar } from '@alfalab/core-components-scrollbar';\nimport { useMedia } from '@alfalab/hooks';\n\nimport { DEFAULT_VISIBLE_OPTIONS } from '../../consts';\nimport { GroupShape, OptionShape, OptionsListProps } from '../../typings';\nimport { isGroup, lastIndexOf, usePrevious, useVisibleOptions } from '../../utils';\nimport { Optgroup as DefaultOptgroup } from '../optgroup';\n\nimport styles from './index.module.css';\n\nexport const VirtualOptionsList = forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 's',\n            flatOptions = [],\n            highlightedIndex = -1,\n            className,\n            getOptionProps,\n            Option,\n            open,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            onScroll,\n            nativeScrollbar: nativeScrollbarProp,\n        },\n        ref,\n    ) => {\n        const listRef = useRef<HTMLDivElement>(null);\n        const parentRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const [visibleOptionsInvalidateKey, setVisibleOptionsInvalidateKey] = useState(0);\n        const prevHighlightedIndex = usePrevious(highlightedIndex) || -1;\n\n        let [nativeScrollbar] = useMedia<boolean>([[true, '(max-width: 1023px)']], false);\n\n        const rowVirtualizer = useVirtual({\n            size: flatOptions.length,\n            parentRef: (ref || parentRef) as React.RefObject<HTMLDivElement>,\n            overscan: 15,\n        });\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        // Сколл к выбранному пункту при открытии меню\n        useEffect(() => {\n            if (open) {\n                rowVirtualizer.scrollToIndex(highlightedIndex, { align: 'end' });\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [open]);\n\n        // Скролл к пункту, которого нет на экране\n        useEffect(() => {\n            if (highlightedIndex === -1) return;\n\n            if (!rowVirtualizer.virtualItems.some((option) => option.index === highlightedIndex)) {\n                rowVirtualizer.scrollToIndex(highlightedIndex, { align: 'end' });\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [highlightedIndex]);\n\n        // Циклическая навигация\n        useEffect(() => {\n            const notDisabled = (option: OptionShape) => !option.disabled;\n            const firstNonDisabled = flatOptions.findIndex(notDisabled);\n            const lastNonDisabled = lastIndexOf(flatOptions, notDisabled);\n\n            if (\n                prevHighlightedIndex <= firstNonDisabled &&\n                highlightedIndex === flatOptions.length - 1\n            ) {\n                rowVirtualizer.scrollToIndex(lastNonDisabled);\n            }\n\n            if (prevHighlightedIndex >= lastNonDisabled && highlightedIndex === 0) {\n                rowVirtualizer.scrollToIndex(0);\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [prevHighlightedIndex, highlightedIndex]);\n\n        useEffect(() => {\n            setVisibleOptionsInvalidateKey(\n                /**\n                 * react-virtual может несколько раз отрендерить список с одним элементом,\n                 * поэтому нужно еще раз пересчитать высоту, когда список ВИДИМЫХ пунктов будет отрендерен полностью\n                 * Также, высоту нужно пересчитывать при изменении ОБЩЕГО кол-ва пунктов меню\n                 */\n                rowVirtualizer.virtualItems.length > 1 ? flatOptions.length : 1,\n            );\n        }, [rowVirtualizer.virtualItems.length, flatOptions.length]);\n\n        useVisibleOptions({\n            visibleOptions,\n            invalidate: visibleOptionsInvalidateKey,\n            listRef,\n            styleTargetRef: nativeScrollbar ? parentRef : scrollbarRef,\n            open,\n        });\n\n        // Т.к. рендерится плоский список, необходимо знать индекс, когда начинается новая группа\n        const groupStartIndexes = useMemo(() => {\n            let currentIndex = 0;\n\n            return options.reduce((acc: { [key: number]: number }, option, index) => {\n                if (isGroup(option)) {\n                    acc[currentIndex] = index;\n                    currentIndex += option.options.length;\n                } else {\n                    currentIndex += 1;\n                }\n\n                return acc;\n            }, {});\n        }, [options]);\n\n        const renderList = () =>\n            rowVirtualizer.virtualItems.map((virtualRow) => {\n                const option = flatOptions[virtualRow.index];\n                const group = options[groupStartIndexes[virtualRow.index]] as GroupShape;\n\n                return (\n                    <div\n                        key={virtualRow.index}\n                        ref={virtualRow.measureRef}\n                        className={cn(styles.virtualRow, {\n                            [styles.highlighted]: highlightedIndex === virtualRow.index,\n                        })}\n                        style={{\n                            transform: `translateY(${virtualRow.start}px)`,\n                        }}\n                    >\n                        {group && <Optgroup label={group.label} />}\n                        {!isGroup(option) && (\n                            <Option {...getOptionProps(option, virtualRow.index)} />\n                        )}\n                    </div>\n                );\n            });\n\n        const contentNodeProps = {\n            className: styles.inner,\n            style: { height: `${rowVirtualizer.totalSize}px` },\n            ref: listRef,\n        };\n\n        const renderWithCustomScrollbar = () => (\n            <Scrollbar\n                className={styles.scrollable}\n                ref={scrollbarRef}\n                horizontalAutoStretch={optionsListWidth === 'content'}\n                scrollableNodeProps={{ onScroll, ref: parentRef }}\n                contentNodeProps={contentNodeProps}\n            >\n                {renderList()}\n            </Scrollbar>\n        );\n\n        const renderWithNativeScrollbar = () => {\n            if (visibleOptions) {\n                return (\n                    <div\n                        className={styles.scrollable}\n                        ref={mergeRefs([parentRef, ref])}\n                        onScroll={onScroll}\n                    >\n                        <div {...contentNodeProps}>{renderList()}</div>\n                    </div>\n                );\n            }\n\n            return <div {...contentNodeProps}>{renderList()}</div>;\n        };\n\n        if (options.length === 0 && !emptyPlaceholder) {\n            return null;\n        }\n\n        return (\n            <div\n                className={cn(styles.virtualOptionsList, styles[size], className)}\n                data-test-id={dataTestId}\n            >\n                {header && <div className={styles.virtualOptionsListHeader}>{header}</div>}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n\n                {showFooter && footer && (\n                    <div\n                        className={cn(styles.virtualOptionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions && flatOptions.length > visibleOptions,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n);\n","export const DEFAULT_VISIBLE_OPTIONS = 5;\n","import React, { forwardRef } from 'react';\n\nimport { useMedia } from '@alfalab/hooks';\n\nimport { SelectDesktop, SelectFieldProps } from './Component.desktop';\nimport { AdditionalMobileProps, SelectMobile } from './Component.mobile';\nimport type { BaseSelectProps } from './typings';\n\nexport type SelectResponsiveProps = BaseSelectProps &\n    AdditionalMobileProps & {\n        /**\n         * Контрольная точка, с нее начинается desktop версия\n         * @default 1024\n         */\n        breakpoint?: number;\n    };\n\nexport const SelectResponsive = forwardRef<HTMLDivElement, SelectResponsiveProps>(\n    (\n        {\n            footer,\n            swipeable,\n            bottomSheetProps,\n            OptionsList,\n            onScroll,\n            fieldProps,\n            breakpoint = 1024,\n            ...restProps\n        },\n        ref,\n    ) => {\n        const [view] = useMedia(\n            [\n                ['mobile', `(max-width: ${breakpoint - 1}px)`],\n                ['desktop', `(min-width: ${breakpoint}px)`],\n            ],\n            'desktop',\n        );\n\n        return view === 'desktop' ? (\n            <SelectDesktop\n                OptionsList={OptionsList}\n                onScroll={onScroll}\n                {...restProps}\n                ref={ref}\n                fieldProps={fieldProps as SelectFieldProps}\n            />\n        ) : (\n            <SelectMobile\n                footer={footer}\n                swipeable={swipeable}\n                bottomSheetProps={bottomSheetProps}\n                fieldProps={fieldProps}\n                {...restProps}\n                ref={ref}\n            />\n        );\n    },\n);\n","import React, { forwardRef } from 'react';\n\nimport { FormControlMobile } from '@alfalab/core-components-form-control/mobile';\nimport { ModalMobile } from '@alfalab/core-components-modal/Component.mobile';\n\nimport { Arrow as DefaultArrow } from './components/arrow';\nimport { BaseSelectMobile } from './components/base-select-mobile';\nimport { Footer } from './components/base-select-mobile/footer';\nimport { Field as DefaultField } from './components/field';\nimport { Optgroup as DefaultOptgroup } from './components/optgroup';\nimport { Option as DefaultOption } from './components/option';\nimport { OptionsList as DefaultOptionsList } from './components/options-list';\nimport { VirtualOptionsList as DefaultVirtualOptionsList } from './components/virtual-options-list';\nimport { useSelectWithApply, UseSelectWithApplyProps } from './presets/useSelectWithApply/hook';\nimport { Header } from './presets/useSelectWithApply/options-list-with-apply/header/Component';\nimport { AnyObject, BaseSelectProps } from './typings';\n\nexport type SelectModalMobileProps = Omit<BaseSelectProps, 'Checkmark' | 'onScroll'> & {\n    /**\n     * Показывать кнопку очистки\n     */\n    showClear?: UseSelectWithApplyProps['showClear'];\n\n    /**\n     * Показывать пункт \"Выбрать все\"\n     */\n    showSelectAll?: UseSelectWithApplyProps['showSelectAll'];\n\n    /**\n     *  Дополнительные пропсы шапки модалки\n     */\n    modalHeaderProps?: Partial<React.ComponentProps<typeof ModalMobile.Header>>;\n\n    /**\n     *  Дополнительные пропсы модалки\n     */\n    modalProps?: Partial<React.ComponentProps<typeof ModalMobile>>;\n\n    /**\n     *  Дополнительные пропсы футера модалки\n     */\n    modalFooterProps?: Partial<React.ComponentProps<typeof ModalMobile.Footer>>;\n\n    /*\n     * Показывать пункт \"Выбрать все\" в заголовке списка\n     */\n    showHeaderWithSelectAll?: UseSelectWithApplyProps['showHeaderWithSelectAll'];\n\n    /**\n     * Использовать ли хук useSelectWithApply\n     */\n    useWithApplyHook?: boolean;\n};\n\nconst VIRTUAL_OPTIONS_LIST_THRESHOLD = 30;\n\nexport const SelectModalMobile = forwardRef(\n    (\n        {\n            autocomplete = false,\n            multiple = false,\n            allowUnselect = false,\n            disabled = false,\n            closeOnSelect = !multiple,\n            circularNavigation = false,\n            defaultOpen = false,\n            open: openProp,\n            size = 'm',\n            optionsSize = 'm',\n            fieldProps = {},\n            optionProps = {},\n            optionsListProps = {},\n            Arrow = DefaultArrow,\n            Field = DefaultField,\n            Optgroup = DefaultOptgroup,\n            Option = DefaultOption,\n            selected,\n            options,\n            OptionsList = options.length > VIRTUAL_OPTIONS_LIST_THRESHOLD\n                ? DefaultVirtualOptionsList\n                : DefaultOptionsList,\n            onChange,\n            showClear = true,\n            showSelectAll,\n            useWithApplyHook = multiple,\n            modalHeaderProps,\n            showHeaderWithSelectAll,\n            ...restProps\n        }: SelectModalMobileProps,\n        ref,\n    ) => {\n        const applyProps = useSelectWithApply({\n            optionsListProps: {\n                ...(optionsListProps as AnyObject),\n                Footer,\n            },\n            OptionsList,\n            selected,\n            options,\n            onChange,\n            showClear,\n            showSelectAll,\n        });\n\n        return (\n            <BaseSelectMobile\n                ref={ref}\n                autocomplete={autocomplete}\n                multiple={multiple}\n                allowUnselect={allowUnselect}\n                disabled={disabled}\n                closeOnSelect={closeOnSelect}\n                circularNavigation={circularNavigation}\n                defaultOpen={defaultOpen}\n                open={openProp}\n                size={size}\n                optionsSize={optionsSize}\n                fieldProps={{\n                    FormControlComponent: FormControlMobile,\n                    ...(fieldProps as object),\n                }}\n                optionProps={optionProps}\n                Arrow={Arrow}\n                Field={Field}\n                Optgroup={Optgroup}\n                Option={Option}\n                isBottomSheet={false}\n                options={options}\n                selected={selected}\n                onChange={onChange}\n                OptionsList={OptionsList}\n                optionsListProps={optionsListProps}\n                modalHeaderProps={{\n                    bottomAddons: useWithApplyHook && showHeaderWithSelectAll && (\n                        <Header {...applyProps.optionsListProps.headerProps} mobile={true} />\n                    ),\n                    ...modalHeaderProps,\n                }}\n                {...restProps}\n                {...(useWithApplyHook && applyProps)}\n            />\n        );\n    },\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer__dans\"};","import React from 'react';\n\nimport { ButtonDesktop } from '@alfalab/core-components-button/desktop';\n\nimport { OptionShape } from '../../../../typings';\n\nimport styles from './index.module.css';\n\nexport type FooterProps = {\n    handleClear?: () => void;\n    handleApply?: () => void;\n    showClear?: boolean;\n    selectedDraft?: OptionShape[];\n};\n\nexport const Footer = ({\n    handleApply,\n    handleClear,\n    showClear,\n    selectedDraft = [],\n}: FooterProps) => (\n    <div\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n        tabIndex={0}\n        className={styles.footer}\n    >\n        <ButtonDesktop size='xxs' view='primary' onClick={handleApply}>\n            Применить\n        </ButtonDesktop>\n\n        {showClear && selectedDraft.length > 0 && (\n            <ButtonDesktop size='xxs' view='secondary' onClick={handleClear}>\n                Сбросить\n            </ButtonDesktop>\n        )}\n    </div>\n);\n","import React, { FC, forwardRef, RefAttributes, useCallback, useEffect } from 'react';\n\nimport { OptionsList as DefaultOptionsList } from '../../../components/options-list';\nimport { DEFAULT_VISIBLE_OPTIONS } from '../../../consts';\nimport { OptionShape, OptionsListProps } from '../../../typings';\nimport { SELECT_ALL_KEY } from '../hook';\n\nimport { Footer as DefaultFooter, FooterProps } from './footer/Component';\nimport { Header as DefaultHeader, HeaderProps } from './header/Component';\n\ntype OptionsListWithApplyProps = OptionsListProps & {\n    showClear?: boolean;\n    onClose?: () => void;\n    selectedDraft?: OptionShape[];\n    OptionsList?: React.FC<OptionsListProps & RefAttributes<HTMLDivElement>>;\n    Footer?: FC<FooterProps>;\n    Header?: FC<HeaderProps>;\n    headerProps?: HeaderProps;\n    showHeaderWithSelectAll?: boolean;\n};\n\nexport const OptionsListWithApply = forwardRef<HTMLDivElement, OptionsListWithApplyProps>(\n    (\n        {\n            toggleMenu,\n            getOptionProps: defaultGetOptionProps,\n            showClear = true,\n            showHeaderWithSelectAll,\n            selectedDraft = [],\n            flatOptions = [],\n            OptionsList = DefaultOptionsList,\n            onApply = () => null,\n            onClear = () => null,\n            onClose = () => null,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            Footer = DefaultFooter,\n            Header = DefaultHeader,\n            headerProps,\n            ...restProps\n        }: OptionsListWithApplyProps,\n        ref,\n    ) => {\n        const getOptionProps = useCallback(\n            (option: OptionShape, index: number) => {\n                const optionProps = defaultGetOptionProps(option, index);\n\n                const selected =\n                    option.key === SELECT_ALL_KEY\n                        ? selectedDraft.length === flatOptions.length - 1\n                        : selectedDraft.includes(option);\n\n                return {\n                    ...optionProps,\n                    selected,\n                };\n            },\n            [defaultGetOptionProps, flatOptions.length, selectedDraft],\n        );\n\n        const handleApply = useCallback(() => {\n            onApply();\n\n            toggleMenu();\n        }, [onApply, toggleMenu]);\n\n        const handleClear = useCallback(() => {\n            onClear();\n\n            toggleMenu();\n        }, [onClear, toggleMenu]);\n\n        useEffect(() => {\n            const activeElement = document.activeElement as HTMLElement;\n\n            return () => {\n                onClose();\n                if (activeElement) {\n                    activeElement.focus();\n                }\n            };\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n\n        return (\n            <OptionsList\n                {...restProps}\n                ref={ref}\n                visibleOptions={visibleOptions}\n                toggleMenu={toggleMenu}\n                flatOptions={flatOptions}\n                getOptionProps={getOptionProps}\n                onApply={handleApply}\n                onClear={handleClear}\n                header={showHeaderWithSelectAll ? <Header {...headerProps} /> : undefined}\n                footer={\n                    <Footer\n                        handleApply={handleApply}\n                        handleClear={handleClear}\n                        showClear={showClear}\n                        selectedDraft={selectedDraft}\n                    />\n                }\n            />\n        );\n    },\n);\n","import { useEffect, useMemo, useRef, useState } from 'react';\n\nimport type { AnyObject, BaseSelectProps, OptionShape } from '../../typings';\nimport { processOptions } from '../../utils';\n\nimport { OptionsListWithApply } from './options-list-with-apply';\n\nexport type UseSelectWithApplyProps = {\n    /**\n     * Список выбранных пунктов\n     */\n    selected: BaseSelectProps['selected'];\n\n    /**\n     * Список вариантов выбора\n     */\n    options: BaseSelectProps['options'];\n\n    /**\n     * Обработчик выбора\n     */\n    onChange: BaseSelectProps['onChange'];\n\n    /**\n     * Компонент выпадающего меню\n     */\n    OptionsList?: BaseSelectProps['OptionsList'];\n\n    /**\n     * Пропсы, которые будут прокинуты в компонент списка\n     */\n    optionsListProps?: BaseSelectProps['optionsListProps'];\n\n    /**\n     * Показывать кнопку очистки\n     */\n    showClear?: boolean;\n\n    /**\n     * Показывать пункт \"Выбрать все\"\n     */\n    showSelectAll?: boolean;\n\n    /**\n     * Показывать пункт \"Выбрать все\" в заголовке списка\n     */\n    showHeaderWithSelectAll?: boolean;\n};\n\nexport const SELECT_ALL_KEY = 'select_all';\n\nconst selectAllOption = { key: SELECT_ALL_KEY, content: 'Выбрать все' };\n\nexport function useSelectWithApply({\n    options,\n    selected,\n    onChange = () => null,\n    OptionsList,\n    optionsListProps = {},\n    showClear = true,\n    showSelectAll = false,\n    showHeaderWithSelectAll = false,\n}: UseSelectWithApplyProps) {\n    const { flatOptions, selectedOptions } = useMemo(\n        () => processOptions(options, selected),\n        [options, selected],\n    );\n\n    const [selectedDraft, setSelectedDraft] = useState<OptionShape[]>(selectedOptions);\n\n    const selectedOptionsRef = useRef<OptionShape[]>(selectedOptions);\n\n    const handleApply = () => {\n        onChange({\n            selected: selectedDraft[0],\n            selectedMultiple: selectedDraft,\n            initiator: null,\n        });\n    };\n\n    const handleClear = () => {\n        setSelectedDraft([]);\n        onChange({\n            selected: null,\n            selectedMultiple: [],\n            initiator: null,\n        });\n    };\n\n    const handleToggleAll = () => {\n        setSelectedDraft(flatOptions.length === selectedDraft.length ? [] : flatOptions);\n    };\n\n    const handleChange: Required<BaseSelectProps>['onChange'] = ({ initiator, ...restArgs }) => {\n        if (!initiator) {\n            onChange({\n                initiator: null,\n                ...restArgs,\n            });\n\n            return;\n        }\n\n        const initiatorSelected =\n            selectedDraft.includes(initiator) ||\n            (initiator.key === SELECT_ALL_KEY && selectedDraft.length === flatOptions.length);\n\n        if (initiator.key === SELECT_ALL_KEY) {\n            setSelectedDraft(initiatorSelected ? [] : flatOptions);\n        } else {\n            setSelectedDraft(\n                initiatorSelected\n                    ? selectedDraft.filter((o) => o !== initiator)\n                    : selectedDraft.concat(initiator),\n            );\n        }\n    };\n\n    const handleClose = () => setSelectedDraft(selectedOptionsRef.current);\n\n    useEffect(() => {\n        setSelectedDraft(selectedOptions);\n        selectedOptionsRef.current = selectedOptions;\n    }, [selectedOptions]);\n\n    const memoizedOptions = useMemo(\n        () => (showSelectAll ? [selectAllOption, ...options] : options),\n        [options, showSelectAll],\n    );\n\n    return {\n        OptionsList: OptionsListWithApply,\n        optionsListProps: {\n            ...(optionsListProps as AnyObject),\n            OptionsList,\n            showClear,\n            onClear: handleClear,\n            onApply: handleApply,\n            onClose: handleClose,\n            selectedDraft,\n            showHeaderWithSelectAll,\n            headerProps: {\n                indeterminate: !!selectedDraft.length && selectedDraft.length < flatOptions.length,\n                checked: selectedDraft.length === flatOptions.length,\n                onChange: handleToggleAll,\n            },\n        },\n        allowUnselect: true,\n        multiple: true,\n        options: memoizedOptions,\n        onChange: handleChange,\n        selected,\n    };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"desktop\":\"desktop_eZJqs\",\"mobile\":\"mobile_yYgHP\"};","import React from 'react';\nimport cn from 'classnames';\n\nimport { Checkbox, CheckboxProps } from '@alfalab/core-components-checkbox';\n\nimport styles from './index.module.css';\n\nexport type HeaderProps = {\n    checked?: boolean;\n    indeterminate?: boolean;\n    onChange?: CheckboxProps['onChange'];\n    mobile?: boolean;\n};\n\nexport const Header: React.FC<HeaderProps> = ({ onChange, checked, indeterminate, mobile }) => (\n    <div className={cn({ [styles.desktop]: !mobile, [styles.mobile]: mobile })}>\n        <Checkbox\n            block={true}\n            indeterminate={indeterminate}\n            size='m'\n            onChange={onChange}\n            checked={checked}\n            label='Выбрать все'\n        />\n    </div>\n);\n","import { cloneElement, isValidElement, ReactNode, RefObject, useEffect, useRef } from 'react';\n\nimport { BaseSelectProps, GroupShape, OptionShape } from './typings';\n\nexport const isGroup = (item: OptionShape | GroupShape): item is GroupShape =>\n    Object.prototype.hasOwnProperty.call(item, 'options');\n\nexport const isOptionShape = (item: OptionShape | string | null): item is OptionShape =>\n    !!item && Object.prototype.hasOwnProperty.call(item, 'key');\n\nexport const joinOptions = ({\n    selected,\n    selectedMultiple,\n}: {\n    selected?: OptionShape;\n    selectedMultiple?: OptionShape[];\n}) => {\n    const options = selectedMultiple || (selected ? [selected] : []);\n\n    if (!options.length) return null;\n\n    return options.reduce((acc: Array<ReactNode | string>, option: OptionShape, index: number) => {\n        if (isValidElement(option.content)) {\n            acc.push(cloneElement(option.content, { key: option.key }));\n        } else {\n            acc.push(option.content);\n        }\n\n        if (index < options.length - 1) acc.push(', ');\n\n        return acc;\n    }, []);\n};\n\n// За один проход делает список пунктов меню плоским и находит выбранные пункты по ключу\nexport function processOptions(\n    options: BaseSelectProps['options'],\n    selected: BaseSelectProps['selected'] = [],\n) {\n    const flatOptions: OptionShape[] = [];\n\n    const selectedArray = Array.isArray(selected) ? selected : [selected];\n    const selectedOptions = selectedArray.filter(isOptionShape);\n    const selectedKeys = selectedArray.filter(\n        (option): option is string => typeof option === 'string',\n    );\n\n    const isSelected = (option: OptionShape) => selectedKeys.includes(option.key);\n\n    const process = (option: OptionShape) => {\n        flatOptions.push(option);\n\n        if (isSelected(option)) {\n            selectedOptions.push(option);\n        }\n    };\n\n    options.forEach((option) => {\n        if (isGroup(option)) {\n            option.options.forEach(process);\n        } else {\n            process(option);\n        }\n    });\n\n    return { flatOptions, selectedOptions };\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\ntype useVisibleOptionsArgs = {\n    /**\n     * Количество видимых пунктов\n     */\n    visibleOptions: number;\n\n    /**\n     * Реф на контейнер с пунтами меню\n     */\n    listRef: RefObject<HTMLElement>;\n\n    /**\n     * Реф на контейнер, которому нужно установить высоту\n     */\n    styleTargetRef?: RefObject<HTMLElement>;\n\n    /**\n     * Флаг открытия меню\n     */\n    open?: boolean;\n\n    /**\n     * Позволяет вызвать пересчет высоты\n     */\n    invalidate?: unknown;\n};\n\nexport function useVisibleOptions({\n    visibleOptions,\n    listRef,\n    styleTargetRef = listRef,\n    open,\n    invalidate,\n}: useVisibleOptionsArgs) {\n    useEffect(() => {\n        const list = listRef.current;\n        const styleTarget = styleTargetRef.current;\n\n        if (open && list && styleTarget && visibleOptions > 0) {\n            const childCount = list.children.length;\n            const optionsNodes = ([] as HTMLElement[]).slice.call(\n                list.children,\n                0,\n                visibleOptions + 1,\n            );\n\n            let height = optionsNodes\n                .slice(0, visibleOptions)\n                .reduce((acc, child) => acc + child.clientHeight, 0);\n\n            if (visibleOptions < childCount) {\n                const lastVisibleOptionHeight = optionsNodes[optionsNodes.length - 1].clientHeight;\n\n                // Если кол-во опций больше visibleOptions на 1, то показываем все опции, иначе добавляем половинку\n                height += Math.round(\n                    childCount - visibleOptions === 1\n                        ? lastVisibleOptionHeight\n                        : lastVisibleOptionHeight / 2,\n                );\n            }\n\n            styleTarget.style.height = `${height}px`;\n        }\n    }, [listRef, open, styleTargetRef, visibleOptions, invalidate]);\n}\n\n// TODO: перенести\nexport function usePrevious<T>(value: T) {\n    const ref = useRef<T>();\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n}\n\n// TODO: перенести\nexport const lastIndexOf = <T>(array: T[], predicate: (item: T) => boolean) => {\n    for (let i = array.length - 1; i >= 0; i--) {\n        if (predicate(array[i])) return i;\n    }\n\n    return -1;\n};\n"],"names":["Option","_ref","option","_jsx","value","key","disabled","children","content","Group","_ref2","label","options","map","NativeSelect","forwardRef","_ref3","ref","className","multiple","name","onChange","restProps","_objectWithoutProperties","_excluded","handleClick","useCallback","event","stopPropagation","_objectSpread","onClick","isGroup","_createElement","BaseSelect","dataTestId","fieldClassName","optionsListClassName","optionClassName","popperClassName","_ref$autocomplete","autocomplete","_ref$multiple","_ref$allowUnselect","allowUnselect","_ref$disabled","_ref$closeOnSelect","closeOnSelect","_ref$circularNavigati","circularNavigation","_ref$nativeSelect","nativeSelect","_ref$defaultOpen","defaultOpen","openProp","open","_ref$popoverPosition","popoverPosition","_ref$preventFlip","preventFlip","_ref$optionsListWidth","optionsListWidth","id","selected","_ref$size","size","_ref$optionsSize","optionsSize","error","hint","block","labelView","placeholder","_ref$fieldProps","fieldProps","_ref$optionsListProps","optionsListProps","_ref$optionProps","optionProps","valueRenderer","onOpen","onFocus","onBlur","onScroll","Arrow","_ref$Field","Field","_ref$OptionsList","OptionsList","_ref$Optgroup","Optgroup","_ref$Option","updatePopover","zIndexPopover","_ref$showEmptyOptions","showEmptyOptionsList","visibleOptions","rootRef","useRef","fieldRef","listRef","initiatorRef","itemToString","_useMemo","useMemo","processOptions","flatOptions","selectedOptions","useMultipleSelectionProps","onSelectedItemsChange","changes","_changes$selectedItem","selectedItems","selectedMultiple","length","initiator","current","stateReducer","state","actionAndChanges","type","useMultipleSelection","undefined","_useMultipleSelection","addSelectedItem","setSelectedItems","removeSelectedItem","getDropdownProps","_useCombobox","useCombobox","isOpen","items","defaultHighlightedIndex","onIsOpenChange","setTimeout","selectedItem","alreadySelected","includes","allowRemove","highlightedIndex","getMenuProps","getInputProps","getItemProps","getComboboxProps","getLabelProps","toggleMenu","openMenu","menuProps","suppressRefError","inputProps","mergeRefs","handleNativeSelectChange","_toConsumableArray","target","reduce","acc","index","concat","getOptionProps","innerProps","item","onMouseDown","preventDefault","highlighted","getDataTestId","useEffect","calcOptionsListWidth","widthAttr","optionsListMinWidth","getBoundingClientRect","width","setAttribute","style","observer","window","ResizeObserver","ResizeObserverPolyfill","observe","disconnect","useLayoutEffect_SAFE_FOR_SSR","renderValue","renderNativeSelect","styles","needRenderOptionsList","_jsxs","cn","_defineProperty","onKeyDown","handleFieldKeyDown","tagName","tabIndex","handleFieldBlur","_listRef$current","contains","relatedTarget","document","activeElement","handleFieldFocus","handleFieldClick","Popover","withTransition","anchorElement","position","update","zIndex","SelectDesktop","_ref$Arrow","DefaultArrow","DefaultField","DefaultOptionsList","DefaultOptgroup","DefaultOption","FormControlComponent","FormControlDesktop","SelectMobile","DefaultVirtualOptionsList","bottomSheetProps","_ref$showClear","showClear","showSelectAll","showHeaderWithSelectAll","_ref$useWithApplyHook","useWithApplyHook","applyProps","useSelectWithApply","Footer","BaseSelectMobile","FormControlMobile","isBottomSheet","bottomAddons","Header","headerProps","mobile","ChevronDownMIcon","handleApply","handleClear","_useContext","useContext","BaseModalContext","footerHighlighted","setHasFooter","ButtonMobile","view","optionGroupClassName","_ref$options","_ref$selected","swipeable","footer","modalProps","modalHeaderProps","modalFooterProps","alreadyClickedRef","scrollableContainerRef","handleClose","renderOptionsList","BottomSheet","onClose","contentClassName","containerClassName","title","actionButton","stickyHeader","hasCloser","ModalMobile","_modalProps$onClose","_len","arguments","args","Array","_key","call","apply","sticky","_cn","_ref$labelView","_ref$selectedMultiple","rightAddons","_ref$valueRenderer","joinOptions","_useState","useState","_useState2","_slicedToArray","focused","setFocused","wrapperRef","_useFocus","useFocus","focusVisible","handleFocus","handleBlur","filled","Boolean","showLabel","React","Checkmark","_ref$position","single","checkmarkClassNames","handleCheckboxClick","Badge","iconColor","CheckmarkCircleMIcon","CheckmarkMIcon","Checkbox","checked","_ref$Checkmark","DefaultMobileCheckmark","DefaultCheckMark","_option$showCheckMark","showCheckMark","isValidElement","emptyPlaceholder","_ref$visibleOptions","DEFAULT_VISIBLE_OPTIONS","header","_ref$showFooter","showFooter","nativeScrollbarProp","nativeScrollbar","_ref$flatOptions","_useMedia","useMedia","renderOption","scrollbarRef","counter","createCounter","count","useVisibleOptions","styleTargetRef","invalidate","renderListItems","renderGroup","group","renderWithNativeScrollbar","renderWithCustomScrollbar","scrollableNodeProps","Scrollbar","horizontalAutoStretch","contentNodeProps","VirtualOptionsList","_ref$highlightedIndex","parentRef","visibleOptionsInvalidateKey","setVisibleOptionsInvalidateKey","prevHighlightedIndex","usePrevious","rowVirtualizer","useVirtual","overscan","scrollToIndex","align","virtualItems","some","notDisabled","firstNonDisabled","findIndex","lastNonDisabled","lastIndexOf","groupStartIndexes","currentIndex","renderList","virtualRow","measureRef","transform","start","height","totalSize","SelectResponsive","_ref$breakpoint","breakpoint","SelectModalMobile","_ref$selectedDraft","selectedDraft","ButtonDesktop","OptionsListWithApply","defaultGetOptionProps","_ref$onApply","onApply","_ref$onClear","onClear","_ref$onClose","_ref$Footer","DefaultFooter","_ref$Header","DefaultHeader","SELECT_ALL_KEY","focus","selectAllOption","_ref$onChange","_ref$showSelectAll","_ref$showHeaderWithSe","setSelectedDraft","selectedOptionsRef","memoizedOptions","indeterminate","handleToggleAll","handleChange","restArgs","initiatorSelected","filter","o","Object","prototype","hasOwnProperty","isOptionShape","push","cloneElement","selectedArray","isArray","selectedKeys","process","isSelected","forEach","_ref2$styleTargetRef","list","styleTarget","childCount","optionsNodes","slice","child","clientHeight","lastVisibleOptionHeight","Math","round","array","predicate","i"],"sourceRoot":""}