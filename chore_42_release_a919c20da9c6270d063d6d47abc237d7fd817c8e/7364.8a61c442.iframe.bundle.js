"use strict";(self.webpackChunk_alfalab_core_components=self.webpackChunk_alfalab_core_components||[]).push([[7364],{"./packages/select/src/Component.desktop.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:function(){return SelectDesktop}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),arrow=__webpack_require__("./packages/select/src/components/arrow/index.ts"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),resize_observer=__webpack_require__("./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),modern=__webpack_require__("./dist/popover/modern/index.js"),getDataTestId=__webpack_require__("./dist/shared/modern/getDataTestId.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["className","disabled","multiple","value","name","options","onChange"],Option=function Option(_ref){var option=_ref.option;return(0,jsx_runtime.jsx)("option",{value:option.key,disabled:option.disabled,children:"string"==typeof option.content?option.content:option.key})},Group=function Group(_ref2){var label=_ref2.label,options=_ref2.options;return(0,jsx_runtime.jsx)("optgroup",{label:label,children:options.map((function(option){return(0,jsx_runtime.jsx)(Option,{option:option},option.key)}))})},NativeSelect=(0,react.forwardRef)((function(_ref3,ref){var className=_ref3.className,disabled=_ref3.disabled,multiple=_ref3.multiple,value=_ref3.value,name=_ref3.name,options=_ref3.options,onChange=_ref3.onChange,restProps=(0,objectWithoutProperties.Z)(_ref3,_excluded),handleClick=(0,react.useCallback)((function(event){event.stopPropagation()}),[]);return(0,jsx_runtime.jsx)("select",(0,objectSpread2.Z)((0,objectSpread2.Z)({className:className,disabled:disabled,multiple:multiple,name:name,value:value,onChange:onChange,onClick:handleClick,ref:ref},restProps),{},{children:options.map((function(option){return(0,utils.ty)(option)?(0,react.createElement)(Group,(0,objectSpread2.Z)((0,objectSpread2.Z)({},option),{},{key:option.label})):(0,jsx_runtime.jsx)(Option,{option:option},option.key)}))}))}));try{NativeSelect.displayName="NativeSelect",NativeSelect.__docgenInfo={description:"",displayName:"NativeSelect",props:{options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/native-select/Component.tsx#NativeSelect"]={docgenInfo:NativeSelect.__docgenInfo,name:"NativeSelect",path:"packages/select/src/components/native-select/Component.tsx#NativeSelect"})}catch(__react_docgen_typescript_loader_error){}var index_module_component="component_p63D9",index_module_popoverInner="popoverInner_gx5Ai",index_module_optionsList="optionsList_Ni45G",index_module_optionsListBorder="optionsListBorder_QZAA4",index_module_nativeSelect="nativeSelect_rLoGL",index_module_block="block_wKlh2",BaseSelect=(0,react.forwardRef)((function(_ref,ref){var dataTestId=_ref.dataTestId,className=_ref.className,fieldClassName=_ref.fieldClassName,optionsListClassName=_ref.optionsListClassName,optionClassName=_ref.optionClassName,popperClassName=_ref.popperClassName,options=_ref.options,_ref$autocomplete=_ref.autocomplete,autocomplete=void 0!==_ref$autocomplete&&_ref$autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,allowUnselect=void 0!==_ref$allowUnselect&&_ref$allowUnselect,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,circularNavigation=void 0!==_ref$circularNavigati&&_ref$circularNavigati,_ref$nativeSelect=_ref.nativeSelect,nativeSelect=void 0!==_ref$nativeSelect&&_ref$nativeSelect,_ref$defaultOpen=_ref.defaultOpen,defaultOpen=void 0!==_ref$defaultOpen&&_ref$defaultOpen,openProp=_ref.open,_ref$popoverPosition=_ref.popoverPosition,popoverPosition=void 0===_ref$popoverPosition?"bottom-start":_ref$popoverPosition,_ref$preventFlip=_ref.preventFlip,preventFlip=void 0===_ref$preventFlip||_ref$preventFlip,_ref$optionsListWidth=_ref.optionsListWidth,optionsListWidth=void 0===_ref$optionsListWidth?"content":_ref$optionsListWidth,name=_ref.name,id=_ref.id,selected=_ref.selected,_ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,_ref$optionsSize=_ref.optionsSize,optionsSize=void 0===_ref$optionsSize?size:_ref$optionsSize,error=_ref.error,hint=_ref.hint,block=_ref.block,label=_ref.label,labelView=_ref.labelView,placeholder=_ref.placeholder,_ref$fieldProps=_ref.fieldProps,fieldProps=void 0===_ref$fieldProps?{}:_ref$fieldProps,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$optionProps=_ref.optionProps,optionProps=void 0===_ref$optionProps?{}:_ref$optionProps,valueRenderer=_ref.valueRenderer,onChange=_ref.onChange,onOpen=_ref.onOpen,onFocus=_ref.onFocus,onBlur=_ref.onBlur,onScroll=_ref.onScroll,Arrow=_ref.Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?function(){return null}:_ref$Field,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?function(){return null}:_ref$OptionsList,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?function(){return null}:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?function(){return null}:_ref$Option,updatePopover=_ref.updatePopover,zIndexPopover=_ref.zIndexPopover,_ref$showEmptyOptions=_ref.showEmptyOptionsList,showEmptyOptionsList=void 0!==_ref$showEmptyOptions&&_ref$showEmptyOptions,visibleOptions=_ref.visibleOptions,rootRef=(0,react.useRef)(null),fieldRef=(0,react.useRef)(null),listRef=(0,react.useRef)(null),initiatorRef=(0,react.useRef)(null),itemToString=function itemToString(option){return option?option.key:""},_useMemo=(0,react.useMemo)((function(){return(0,utils.jW)(options,selected)}),[options,selected]),flatOptions=_useMemo.flatOptions,selectedOptions=_useMemo.selectedOptions,useMultipleSelectionProps={itemToString:itemToString,onSelectedItemsChange:function onSelectedItemsChange(changes){if(onChange){var _changes$selectedItem=changes.selectedItems,_selectedItems=void 0===_changes$selectedItem?[]:_changes$selectedItem;onChange({selectedMultiple:_selectedItems,selected:_selectedItems.length?_selectedItems[0]:null,initiator:initiatorRef.current,name:name}),initiatorRef.current=null}},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes;return allowUnselect||type!==downshift_esm.M$.stateChangeTypes.DropdownKeyDownBackspace?changes:state}};void 0!==selected&&(useMultipleSelectionProps.selectedItems=selectedOptions);var _useMultipleSelection=(0,downshift_esm.M$)(useMultipleSelectionProps),selectedItems=_useMultipleSelection.selectedItems,addSelectedItem=_useMultipleSelection.addSelectedItem,setSelectedItems=_useMultipleSelection.setSelectedItems,removeSelectedItem=_useMultipleSelection.removeSelectedItem,getDropdownProps=_useMultipleSelection.getDropdownProps,_useCombobox=(0,downshift_esm.Kb)({id:id,isOpen:openProp,circularNavigation:circularNavigation,items:flatOptions,itemToString:itemToString,defaultHighlightedIndex:0===selectedItems.length?-1:void 0,onIsOpenChange:function onIsOpenChange(changes){onOpen&&setTimeout((function(){onOpen({open:changes.isOpen,name:name})}),0)},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes,selectedItem=changes.selectedItem;switch(type){case downshift_esm.Kb.stateChangeTypes.InputKeyDownEnter:case downshift_esm.Kb.stateChangeTypes.ItemClick:if(initiatorRef.current=selectedItem,selectedItem&&!selectedItem.disabled){var alreadySelected=selectedItems.includes(selectedItem),allowRemove=allowUnselect||multiple&&selectedItems.length>1;alreadySelected&&allowRemove&&removeSelectedItem(selectedItem),alreadySelected||(multiple?addSelectedItem(selectedItem):setSelectedItems([selectedItem]))}return(0,objectSpread2.Z)((0,objectSpread2.Z)({},changes),{},{isOpen:!closeOnSelect,highlightedIndex:state.isOpen&&!closeOnSelect?state.highlightedIndex:changes.highlightedIndex});default:return changes}}}),open=_useCombobox.isOpen,getMenuProps=_useCombobox.getMenuProps,getInputProps=_useCombobox.getInputProps,getItemProps=_useCombobox.getItemProps,getComboboxProps=_useCombobox.getComboboxProps,getLabelProps=_useCombobox.getLabelProps,highlightedIndex=_useCombobox.highlightedIndex,toggleMenu=_useCombobox.toggleMenu,openMenu=_useCombobox.openMenu,menuProps=getMenuProps({ref:listRef},{suppressRefError:!0}),inputProps=getInputProps(getDropdownProps({ref:(0,react_merge_refs_esm.Z)([ref,fieldRef])})),handleNativeSelectChange=(0,react.useCallback)((function(event){setSelectedItems((0,toConsumableArray.Z)(event.target.options).reduce((function(acc,option,index){return option.selected?acc.concat(flatOptions[index]):acc}),[]))}),[flatOptions,setSelectedItems]),getOptionProps=(0,react.useCallback)((function(option,index){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionProps),{},{className:optionClassName,innerProps:getItemProps({index:index,item:option,disabled:option.disabled,onMouseDown:function onMouseDown(event){return event.preventDefault()}}),multiple:multiple,index:index,option:option,size:optionsSize,disabled:option.disabled,highlighted:index===highlightedIndex,selected:selectedItems.includes(option),dataTestId:(0,getDataTestId.B)(dataTestId,"option")})}),[dataTestId,getItemProps,highlightedIndex,multiple,optionClassName,optionProps,optionsSize,selectedItems]);(0,react.useEffect)((function(){defaultOpen&&openMenu()}),[defaultOpen,openMenu]),(0,react.useEffect)((function(){openProp&&openMenu()}),[]);var calcOptionsListWidth=(0,react.useCallback)((function(){if(listRef.current){var widthAttr="field"===optionsListWidth?"width":"minWidth",optionsListMinWidth=rootRef.current?rootRef.current.getBoundingClientRect().width:0;listRef.current.setAttribute("style",""),listRef.current.style[widthAttr]="".concat(optionsListMinWidth,"px")}}),[optionsListWidth]);(0,react.useEffect)((function(){var observer=new(window.ResizeObserver||resize_observer.do)(calcOptionsListWidth);return rootRef.current&&observer.observe(rootRef.current),function(){observer.disconnect()}}),[calcOptionsListWidth,open,optionsListWidth]),(0,esm.CZ)(calcOptionsListWidth,[open,optionsListWidth,options,selectedItems]);var renderValue=(0,react.useCallback)((function(){return selectedItems.map((function(option){return(0,jsx_runtime.jsx)("input",{type:"hidden",name:name,value:option.key},option.key)}))}),[selectedItems,name]),renderNativeSelect=(0,react.useCallback)((function(){var value=multiple?selectedItems.map((function(option){return option.key})):(selectedItems[0]||{}).key;return(0,jsx_runtime.jsx)(NativeSelect,(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{className:index_module_nativeSelect,disabled:disabled,multiple:multiple,name:name,value:value,onChange:handleNativeSelectChange,options:options}))}),[multiple,selectedItems,disabled,name,handleNativeSelectChange,options,menuProps]),needRenderOptionsList=flatOptions.length>0||showEmptyOptionsList;return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getComboboxProps((0,objectSpread2.Z)((0,objectSpread2.Z)({ref:rootRef},disabled&&{"aria-disabled":!0}),{},{className:classnames_default()(index_module_component,(0,defineProperty.Z)({},index_module_block,block),className)}))),{},{onKeyDown:disabled?void 0:function handleFieldKeyDown(event){inputProps.onKeyDown(event),!autocomplete||open||1!==event.key.length&&"Backspace"!==event.key||openMenu(),![" ","Enter"].includes(event.key)||autocomplete||nativeSelect||"INPUT"===event.target.tagName||"BUTTON"===event.target.tagName||(event.preventDefault(),open&&-1!==highlightedIndex||toggleMenu())},tabIndex:-1,"data-test-id":(0,getDataTestId.B)(dataTestId),children:[nativeSelect&&renderNativeSelect(),(0,jsx_runtime.jsx)(Field,(0,objectSpread2.Z)({selectedMultiple:selectedItems,selected:selectedItems[0],setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,multiple:multiple,open:open,disabled:disabled,size:size,placeholder:placeholder,label:label&&(0,jsx_runtime.jsx)("span",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getLabelProps()),{},{children:label})),labelView:labelView,Arrow:Arrow&&(0,jsx_runtime.jsx)(Arrow,{open:open}),error:error,hint:hint,valueRenderer:valueRenderer,className:fieldClassName,innerProps:{onBlur:function handleFieldBlur(event){var _listRef$current;(null===(_listRef$current=listRef.current)||void 0===_listRef$current?void 0:_listRef$current.contains(event.relatedTarget||document.activeElement))||(onBlur&&onBlur(event),inputProps.onBlur(event))},onFocus:disabled?void 0:function handleFieldFocus(event){onFocus&&onFocus(event),autocomplete&&!open&&openMenu()},onClick:disabled?void 0:function handleFieldClick(event){autocomplete&&"INPUT"===event.target.tagName?openMenu():toggleMenu()},tabIndex:disabled?void 0:nativeSelect?-1:0,ref:(0,react_merge_refs_esm.Z)([inputProps.ref]),id:inputProps.id,"aria-labelledby":inputProps["aria-labelledby"],"aria-controls":inputProps["aria-controls"],"aria-autocomplete":autocomplete?inputProps["aria-autocomplete"]:void 0},dataTestId:(0,getDataTestId.B)(dataTestId,"field")},fieldProps)),name&&!nativeSelect&&renderValue(),!nativeSelect&&(0,jsx_runtime.jsx)(modern.Popover,{open:open,withTransition:!1,anchorElement:fieldRef.current,position:popoverPosition,preventFlip:preventFlip,popperClassName:classnames_default()(index_module_popoverInner,popperClassName),update:updatePopover,zIndex:zIndexPopover,children:needRenderOptionsList&&(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{className:classnames_default()(optionsListClassName,index_module_optionsList),children:[(0,jsx_runtime.jsx)(OptionsList,(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{optionsListWidth:optionsListWidth,flatOptions:flatOptions,highlightedIndex:highlightedIndex,open:open,size:size,options:options,Optgroup:Optgroup,Option:Option,selectedItems:selectedItems,setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,getOptionProps:getOptionProps,visibleOptions:visibleOptions,onScroll:onScroll,dataTestId:(0,getDataTestId.B)(dataTestId,"options-list")})),(0,jsx_runtime.jsx)("div",{className:index_module_optionsListBorder})]}))})]}))}));try{BaseSelect.displayName="BaseSelect",BaseSelect.__docgenInfo={description:"",displayName:"BaseSelect",props:{dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsSize:{defaultValue:{value:"s"},description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:{value:"content"},description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:{value:"true"},description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},nativeSelect:{defaultValue:{value:"false"},description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:{value:"bottom-start"},description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},Field:{defaultValue:{value:"() => null"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"() => null"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"() => null"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"() => null"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:{value:"false"},description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/base-select/Component.tsx#BaseSelect"]={docgenInfo:BaseSelect.__docgenInfo,name:"BaseSelect",path:"packages/select/src/components/base-select/Component.tsx#BaseSelect"})}catch(__react_docgen_typescript_loader_error){}var field=__webpack_require__("./packages/select/src/components/field/index.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),components_option=__webpack_require__("./packages/select/src/components/option/index.ts"),options_list=__webpack_require__("./packages/select/src/components/options-list/index.ts"),Component_desktop_excluded=["Arrow","Field","OptionsList","Optgroup","Option"],SelectDesktop=(0,react.forwardRef)((function(_ref,ref){var _ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?arrow.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?field.g:_ref$Field,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options_list.M:_ref$OptionsList,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?components_option.W:_ref$Option,restProps=(0,objectWithoutProperties.Z)(_ref,Component_desktop_excluded);return(0,jsx_runtime.jsx)(BaseSelect,(0,objectSpread2.Z)({ref:ref,Option:Option,Field:Field,Optgroup:Optgroup,OptionsList:OptionsList,Arrow:Arrow},restProps))}));try{SelectDesktop.displayName="SelectDesktop",SelectDesktop.__docgenInfo={description:"",displayName:"SelectDesktop",props:{size:{defaultValue:null,description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},disabled:{defaultValue:null,description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},Field:{defaultValue:{value:"({\n    size = 'm',\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    ...restProps\n}: BaseFieldProps & FormControlProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label && (filled || !placeholder || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            <FormControl\n                fieldClassName={cn(styles.field, fieldClassName, {\n                    [styles.disabled]: disabled,\n                    [styles.focusVisible]: focusVisible,\n                })}\n                block={true}\n                size={size}\n                focused={open || focused}\n                disabled={disabled}\n                filled={filled}\n                label={showLabel && label}\n                labelView={labelView}\n                error={error}\n                hint={hint}\n                rightAddons={\n                    (Arrow || rightAddons) && (\n                        <React.Fragment>\n                            {rightAddons}\n                            {/* TODO: стоит переделать, но это будет мажорка */}\n                            {Arrow ? React.cloneElement(Arrow, { className: styles.arrow }) : null}\n                        </React.Fragment>\n                    )\n                }\n                data-test-id={dataTestId}\n                {...restProps}\n                {...innerProps}\n            >\n                <div className={styles.contentWrapper}>\n                    {placeholder && !filled && (\n                        <span className={styles.placeholder}>{placeholder}</span>\n                    )}\n                    {filled && <div className={styles.value}>{value}</div>}\n                </div>\n            </FormControl>\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},autocomplete:{defaultValue:null,description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:null,description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:null,description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},allowUnselect:{defaultValue:null,description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:null,description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:null,description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 's',\n            className,\n            optionGroupClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n        },\n        ref,\n    ) => {\n        let [nativeScrollbar] = useMedia<boolean>([[true, '(max-width: 1023px)']], false);\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={styles.scrollable}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div className={styles.scrollable} ref={mergeRefs([listRef, ref])} onScroll={onScroll}>\n                {renderListItems()}\n            </div>\n        );\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[size], className)}\n            >\n                {header && <div className={styles.optionsListHeader}>{header}</div>}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions && flatOptions.length > visibleOptions,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n)"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 's',\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[size], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},fieldProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"SelectFieldProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/Component.desktop.tsx#SelectDesktop"]={docgenInfo:SelectDesktop.__docgenInfo,name:"SelectDesktop",path:"packages/select/src/Component.desktop.tsx#SelectDesktop"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/Component.mobile.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{o:function(){return SelectMobile}});var _home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_arrow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/select/src/components/arrow/index.ts"),_components_base_select_mobile__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/select/src/components/base-select-mobile/index.ts"),_components_base_select_mobile_footer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/select/src/components/base-select-mobile/footer/index.ts"),_components_field__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/select/src/components/field/index.ts"),_components_optgroup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),_components_option__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/select/src/components/option/index.ts"),_components_options_list__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/select/src/components/options-list/index.ts"),_components_virtual_options_list__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/select/src/components/virtual-options-list/index.ts"),_presets_useSelectWithApply_hook__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/select/src/presets/useSelectWithApply/hook.tsx"),_presets_useSelectWithApply_options_list_with_apply_header_Component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["autocomplete","multiple","allowUnselect","disabled","closeOnSelect","circularNavigation","defaultOpen","open","size","optionsSize","fieldProps","optionProps","optionsListProps","Arrow","Field","Optgroup","Option","selected","options","OptionsList","onChange","bottomSheetProps","showClear","showSelectAll","showHeaderWithSelectAll","useWithApplyHook"],SelectMobile=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref,ref){var _ref$autocomplete=_ref.autocomplete,autocomplete=void 0!==_ref$autocomplete&&_ref$autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,allowUnselect=void 0!==_ref$allowUnselect&&_ref$allowUnselect,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,circularNavigation=void 0!==_ref$circularNavigati&&_ref$circularNavigati,_ref$defaultOpen=_ref.defaultOpen,defaultOpen=void 0!==_ref$defaultOpen&&_ref$defaultOpen,openProp=_ref.open,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,_ref$optionsSize=_ref.optionsSize,optionsSize=void 0===_ref$optionsSize?"m":_ref$optionsSize,_ref$fieldProps=_ref.fieldProps,fieldProps=void 0===_ref$fieldProps?{}:_ref$fieldProps,_ref$optionProps=_ref.optionProps,optionProps=void 0===_ref$optionProps?{}:_ref$optionProps,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?_components_arrow__WEBPACK_IMPORTED_MODULE_1__.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?_components_field__WEBPACK_IMPORTED_MODULE_4__.g:_ref$Field,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?_components_optgroup__WEBPACK_IMPORTED_MODULE_5__.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?_components_option__WEBPACK_IMPORTED_MODULE_6__.W:_ref$Option,selected=_ref.selected,options=_ref.options,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options.length>30?_components_virtual_options_list__WEBPACK_IMPORTED_MODULE_8__.X:_components_options_list__WEBPACK_IMPORTED_MODULE_7__.M:_ref$OptionsList,onChange=_ref.onChange,bottomSheetProps=_ref.bottomSheetProps,_ref$showClear=_ref.showClear,showClear=void 0===_ref$showClear||_ref$showClear,showSelectAll=_ref.showSelectAll,showHeaderWithSelectAll=_ref.showHeaderWithSelectAll,_ref$useWithApplyHook=_ref.useWithApplyHook,useWithApplyHook=void 0===_ref$useWithApplyHook?multiple:_ref$useWithApplyHook,restProps=(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_12__.Z)(_ref,_excluded),applyProps=(0,_presets_useSelectWithApply_hook__WEBPACK_IMPORTED_MODULE_9__.b)({optionsListProps:(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)({},optionsListProps),{},{Footer:_components_base_select_mobile_footer__WEBPACK_IMPORTED_MODULE_3__.$}),OptionsList:OptionsList,selected:selected,options:options,onChange:onChange,showClear:showClear,showSelectAll:showSelectAll});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_components_base_select_mobile__WEBPACK_IMPORTED_MODULE_2__.q,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)({ref:ref,autocomplete:autocomplete,multiple:multiple,allowUnselect:allowUnselect,disabled:disabled,closeOnSelect:closeOnSelect,circularNavigation:circularNavigation,defaultOpen:defaultOpen,open:openProp,size:size,optionsSize:optionsSize,fieldProps:fieldProps,optionProps:optionProps,Arrow:Arrow,Field:Field,Optgroup:Optgroup,Option:Option,isBottomSheet:!0,options:options,selected:selected,onChange:onChange,OptionsList:OptionsList,bottomSheetProps:(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)({bottomAddons:useWithApplyHook&&showHeaderWithSelectAll&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_presets_useSelectWithApply_options_list_with_apply_header_Component__WEBPACK_IMPORTED_MODULE_10__.h,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.Z)({},applyProps.optionsListProps.headerProps),{},{mobile:!0}))},bottomSheetProps),optionsListProps:optionsListProps},restProps),useWithApplyHook&&applyProps))}));try{SelectMobile.displayName="SelectMobile",SelectMobile.__docgenInfo={description:"",displayName:"SelectMobile",props:{size:{defaultValue:{value:"m"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},Field:{defaultValue:{value:"({\n    size = 'm',\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    ...restProps\n}: BaseFieldProps & FormControlProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label && (filled || !placeholder || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            <FormControl\n                fieldClassName={cn(styles.field, fieldClassName, {\n                    [styles.disabled]: disabled,\n                    [styles.focusVisible]: focusVisible,\n                })}\n                block={true}\n                size={size}\n                focused={open || focused}\n                disabled={disabled}\n                filled={filled}\n                label={showLabel && label}\n                labelView={labelView}\n                error={error}\n                hint={hint}\n                rightAddons={\n                    (Arrow || rightAddons) && (\n                        <React.Fragment>\n                            {rightAddons}\n                            {/* TODO: стоит переделать, но это будет мажорка */}\n                            {Arrow ? React.cloneElement(Arrow, { className: styles.arrow }) : null}\n                        </React.Fragment>\n                    )\n                }\n                data-test-id={dataTestId}\n                {...restProps}\n                {...innerProps}\n            >\n                <div className={styles.contentWrapper}>\n                    {placeholder && !filled && (\n                        <span className={styles.placeholder}>{placeholder}</span>\n                    )}\n                    {filled && <div className={styles.value}>{value}</div>}\n                </div>\n            </FormControl>\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:{value:"m"},description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"options.length > VIRTUAL_OPTIONS_LIST_THRESHOLD\n                ? DefaultVirtualOptionsList\n                : DefaultOptionsList"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 's',\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[size], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},footer:{defaultValue:null,description:"Футер\n@deprecated Используйте bottomSheetProps.actionButton",name:"footer",required:!1,type:{name:"ReactNode"}},swipeable:{defaultValue:null,description:"Будет ли свайпаться шторка\n@deprecated Используйте bottomSheetProps.swipeable",name:"swipeable",required:!1,type:{name:"boolean"}},bottomSheetProps:{defaultValue:null,description:"Дополнительные пропсы шторки",name:"bottomSheetProps",required:!1,type:{name:"Partial<BottomSheetProps>"}},showClear:{defaultValue:{value:"true"},description:"Показывать кнопку очистки",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все" в заголовке списка',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:{value:"false"},description:"Использовать ли хук useSelectWithApply",name:"useWithApplyHook",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/Component.mobile.tsx#SelectMobile"]={docgenInfo:SelectMobile.__docgenInfo,name:"SelectMobile",path:"packages/select/src/Component.mobile.tsx#SelectMobile"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/arrow/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:function(){return Arrow}});var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),ChevronDownMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronDownMIcon.js"),index_module_arrow="arrow_Fidyu",index_module_open="open_JDO2N",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Arrow=function Arrow(_ref){var open=_ref.open,className=_ref.className;return(0,jsx_runtime.jsx)(ChevronDownMIcon.ChevronDownMIcon,{className:classnames_default()(index_module_arrow,className,(0,defineProperty.Z)({},index_module_open,open))})};try{Arrow.displayName="Arrow",Arrow.__docgenInfo={description:"",displayName:"Arrow",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/arrow/Component.tsx#Arrow"]={docgenInfo:Arrow.__docgenInfo,name:"Arrow",path:"packages/select/src/components/arrow/Component.tsx#Arrow"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/base-select-mobile/footer/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:function(){return Footer}});var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/base-modal/modern/index.js"),button_modern=__webpack_require__("./dist/button/modern/index.js"),index_module_footer="footer_axvIA",index_module_button="button_pDzdW",index_module_highlighted="highlighted_Elc3O",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Footer=function Footer(_ref){var handleApply=_ref.handleApply,handleClear=_ref.handleClear,showClear=_ref.showClear,_useContext=(0,react.useContext)(modern.BaseModalContext),footerHighlighted=_useContext.footerHighlighted,setHasFooter=_useContext.setHasFooter;return(0,react.useEffect)((function(){setHasFooter(!0)}),[setHasFooter]),(0,jsx_runtime.jsxs)("div",{tabIndex:0,className:classnames_default()(index_module_footer,(0,defineProperty.Z)({},index_module_highlighted,footerHighlighted)),children:[showClear&&(0,jsx_runtime.jsx)(button_modern.Button,{size:"s",view:"secondary",className:index_module_button,onClick:handleClear,children:"Сбросить"}),(0,jsx_runtime.jsx)(button_modern.Button,{size:"s",view:"primary",className:index_module_button,onClick:handleApply,children:"Применить"})]})};try{Footer.displayName="Footer",Footer.__docgenInfo={description:"",displayName:"Footer",props:{handleClear:{defaultValue:null,description:"",name:"handleClear",required:!1,type:{name:"(() => void)"}},handleApply:{defaultValue:null,description:"",name:"handleApply",required:!1,type:{name:"(() => void)"}},showClear:{defaultValue:null,description:"",name:"showClear",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/base-select-mobile/footer/Component.tsx#Footer"]={docgenInfo:Footer.__docgenInfo,name:"Footer",path:"packages/select/src/components/base-select-mobile/footer/Component.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/base-select-mobile/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{q:function(){return BaseSelectMobile}});var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),modern=__webpack_require__("./dist/bottom-sheet/modern/index.js"),mobile=__webpack_require__("./dist/modal/modern/mobile.js"),getDataTestId=__webpack_require__("./dist/shared/modern/getDataTestId.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),arrow=__webpack_require__("./packages/select/src/components/arrow/index.ts"),field=__webpack_require__("./packages/select/src/components/field/index.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),components_option=__webpack_require__("./packages/select/src/components/option/index.ts"),options_list=__webpack_require__("./packages/select/src/components/options-list/index.ts"),index_module_component="component_Ueoys",index_module_sheet="sheet_M7FLk",index_module_sheetContent="sheetContent_FzFRt",index_module_sheetContainer="sheetContainer_xoxRd",index_module_block="block_UhmUp",index_module_option="option_SOtzg",index_module_optionGroup="optionGroup_afe40",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),BaseSelectMobile=(0,react.forwardRef)((function(_ref,ref){var dataTestId=_ref.dataTestId,className=_ref.className,fieldClassName=_ref.fieldClassName,optionsListClassName=_ref.optionsListClassName,optionClassName=_ref.optionClassName,optionGroupClassName=_ref.optionGroupClassName,optionsListProps=_ref.optionsListProps,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$autocomplete=_ref.autocomplete,autocomplete=void 0!==_ref$autocomplete&&_ref$autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,allowUnselect=void 0!==_ref$allowUnselect&&_ref$allowUnselect,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,circularNavigation=void 0!==_ref$circularNavigati&&_ref$circularNavigati,_ref$defaultOpen=_ref.defaultOpen,defaultOpen=void 0!==_ref$defaultOpen&&_ref$defaultOpen,openProp=_ref.open,_ref$optionsListWidth=_ref.optionsListWidth,optionsListWidth=void 0===_ref$optionsListWidth?"content":_ref$optionsListWidth,name=_ref.name,id=_ref.id,_ref$selected=_ref.selected,selected=void 0===_ref$selected?[]:_ref$selected,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,_ref$optionsSize=_ref.optionsSize,optionsSize=void 0===_ref$optionsSize?"m":_ref$optionsSize,error=_ref.error,hint=_ref.hint,block=_ref.block,label=_ref.label,labelView=_ref.labelView,placeholder=_ref.placeholder,_ref$fieldProps=_ref.fieldProps,fieldProps=void 0===_ref$fieldProps?{}:_ref$fieldProps,_ref$optionProps=_ref.optionProps,optionProps=void 0===_ref$optionProps?{}:_ref$optionProps,valueRenderer=_ref.valueRenderer,onChange=_ref.onChange,onOpen=_ref.onOpen,onFocus=_ref.onFocus,_ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?arrow.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?field.g:_ref$Field,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?components_option.W:_ref$Option,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options_list.M:_ref$OptionsList,swipeable=_ref.swipeable,footer=_ref.footer,isBottomSheet=_ref.isBottomSheet,bottomSheetProps=_ref.bottomSheetProps,modalProps=_ref.modalProps,modalHeaderProps=_ref.modalHeaderProps,modalFooterProps=_ref.modalFooterProps,_ref$showEmptyOptions=_ref.showEmptyOptionsList,showEmptyOptionsList=void 0!==_ref$showEmptyOptions&&_ref$showEmptyOptions,rootRef=(0,react.useRef)(null),fieldRef=(0,react.useRef)(null),listRef=(0,react.useRef)(null),initiatorRef=(0,react.useRef)(null),alreadyClickedRef=(0,react.useRef)(!1),itemToString=function itemToString(option){return option?option.key:""},_useMemo=(0,react.useMemo)((function(){return(0,utils.jW)(options,selected)}),[options,selected]),flatOptions=_useMemo.flatOptions,selectedOptions=_useMemo.selectedOptions,scrollableContainerRef=(0,react.useRef)(null),useMultipleSelectionProps={itemToString:itemToString,onSelectedItemsChange:function onSelectedItemsChange(changes){if(onChange){var _changes$selectedItem=changes.selectedItems,_selectedItems=void 0===_changes$selectedItem?[]:_changes$selectedItem;onChange({selectedMultiple:_selectedItems,selected:_selectedItems.length?_selectedItems[0]:null,initiator:initiatorRef.current,name:name}),initiatorRef.current=null}},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes;return allowUnselect||type!==downshift_esm.M$.stateChangeTypes.DropdownKeyDownBackspace?changes:state}};void 0!==selected&&(useMultipleSelectionProps.selectedItems=selectedOptions);var _useMultipleSelection=(0,downshift_esm.M$)(useMultipleSelectionProps),selectedItems=_useMultipleSelection.selectedItems,addSelectedItem=_useMultipleSelection.addSelectedItem,setSelectedItems=_useMultipleSelection.setSelectedItems,removeSelectedItem=_useMultipleSelection.removeSelectedItem,getDropdownProps=_useMultipleSelection.getDropdownProps,_useCombobox=(0,downshift_esm.Kb)({id:id,isOpen:openProp,circularNavigation:circularNavigation,items:flatOptions,itemToString:itemToString,defaultHighlightedIndex:-1,onIsOpenChange:function onIsOpenChange(_ref2){var isOpen=_ref2.isOpen;onOpen&&setTimeout((function(){onOpen({open:isOpen,name:name})}),0)},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes,selectedItem=changes.selectedItem;switch(type){case downshift_esm.Kb.stateChangeTypes.InputBlur:return state;case downshift_esm.Kb.stateChangeTypes.InputKeyDownEnter:case downshift_esm.Kb.stateChangeTypes.ItemClick:if(initiatorRef.current=selectedItem,selectedItem&&!selectedItem.disabled&&!alreadyClickedRef.current){alreadyClickedRef.current=!0,setTimeout((function(){alreadyClickedRef.current=!1}));var alreadySelected=selectedItems.includes(selectedItem),allowRemove=allowUnselect||multiple&&selectedItems.length>1;alreadySelected&&allowRemove&&(multiple?removeSelectedItem(selectedItem):setSelectedItems([])),alreadySelected||(multiple?addSelectedItem(selectedItem):setSelectedItems([selectedItem]))}return(0,objectSpread2.Z)((0,objectSpread2.Z)({},changes),{},{isOpen:!closeOnSelect||multiple,highlightedIndex:state.isOpen&&!closeOnSelect?state.highlightedIndex:changes.highlightedIndex});default:return changes}}}),open=_useCombobox.isOpen,getMenuProps=_useCombobox.getMenuProps,getInputProps=_useCombobox.getInputProps,getItemProps=_useCombobox.getItemProps,getComboboxProps=_useCombobox.getComboboxProps,getLabelProps=_useCombobox.getLabelProps,highlightedIndex=_useCombobox.highlightedIndex,toggleMenu=_useCombobox.toggleMenu,openMenu=_useCombobox.openMenu,menuProps=getMenuProps({ref:listRef},{suppressRefError:!0}),inputProps=getInputProps(getDropdownProps({ref:(0,react_merge_refs_esm.Z)([ref,fieldRef])})),getOptionProps=function getOptionProps(option,index){var selectedItem=selectedItems.includes(option);return(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionProps),{},{mobile:!0,className:classnames_default()(index_module_option,optionClassName),innerProps:getItemProps({index:index,item:option,disabled:option.disabled,onMouseDown:function onMouseDown(event){return event.preventDefault()}}),multiple:multiple,index:index,option:option,size:optionsSize,disabled:option.disabled,highlighted:index===highlightedIndex,selected:selectedItem,dataTestId:(0,getDataTestId.B)(dataTestId,"option")})};(0,react.useEffect)((function(){defaultOpen&&openMenu()}),[defaultOpen,openMenu]),(0,react.useEffect)((function(){openProp&&openMenu()}),[]);var handleClose=function handleClose(){toggleMenu()},renderOptionsList=function renderOptionsList(){return 0!==flatOptions.length||showEmptyOptionsList?(0,jsx_runtime.jsx)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{className:optionsListClassName,children:(0,jsx_runtime.jsx)(OptionsList,(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{ref:scrollableContainerRef,optionsListWidth:optionsListWidth,flatOptions:flatOptions,highlightedIndex:highlightedIndex,open:open,size:size,options:options,Optgroup:Optgroup,Option:Option,selectedItems:selectedItems,setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,getOptionProps:getOptionProps,visibleOptions:0,dataTestId:(0,getDataTestId.B)(dataTestId,"options-list"),optionGroupClassName:classnames_default()(index_module_optionGroup,optionGroupClassName)}))})):null};return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getComboboxProps((0,objectSpread2.Z)((0,objectSpread2.Z)({ref:rootRef},disabled&&{"aria-disabled":!0}),{},{className:classnames_default()(index_module_component,(0,defineProperty.Z)({},index_module_block,block),className)}))),{},{onKeyDown:disabled?void 0:function handleFieldKeyDown(event){inputProps.onKeyDown(event),!autocomplete||open||1!==event.key.length&&"Backspace"!==event.key||openMenu(),[" ","Enter"].includes(event.key)&&!autocomplete&&"INPUT"!==event.target.tagName&&"BUTTON"!==event.target.tagName&&(event.preventDefault(),open&&-1!==highlightedIndex||toggleMenu())},tabIndex:-1,"data-test-id":(0,getDataTestId.B)(dataTestId),children:[(0,jsx_runtime.jsx)(Field,(0,objectSpread2.Z)({selectedMultiple:selectedItems,selected:selectedItems[0],setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,multiple:multiple,open:open,disabled:disabled,size:size,placeholder:placeholder,label:label&&(0,jsx_runtime.jsx)("span",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getLabelProps()),{},{children:label})),labelView:labelView,Arrow:Arrow&&(0,jsx_runtime.jsx)(Arrow,{open:open}),error:error,hint:hint,valueRenderer:valueRenderer,className:fieldClassName,innerProps:{onFocus:disabled?void 0:function handleFieldFocus(event){onFocus&&onFocus(event),autocomplete&&!open&&openMenu()},onClick:disabled?void 0:function handleFieldClick(event){autocomplete&&"INPUT"===event.target.tagName?openMenu():toggleMenu()},tabIndex:disabled?-1:0,ref:(0,react_merge_refs_esm.Z)([inputProps.ref]),id:inputProps.id,"aria-labelledby":inputProps["aria-labelledby"],"aria-controls":inputProps["aria-controls"],"aria-autocomplete":autocomplete?inputProps["aria-autocomplete"]:void 0},dataTestId:(0,getDataTestId.B)(dataTestId,"field")},fieldProps)),name&&function renderValue(){return selectedItems.map((function(option){return(0,jsx_runtime.jsx)("input",{type:"hidden",name:name,value:option.key},option.key)}))}(),isBottomSheet?(0,jsx_runtime.jsx)(modern.BottomSheet,(0,objectSpread2.Z)((0,objectSpread2.Z)({open:open,onClose:handleClose,className:index_module_sheet,contentClassName:index_module_sheetContent,containerClassName:index_module_sheetContainer,title:label||placeholder,actionButton:footer,stickyHeader:!0,hasCloser:!0,swipeable:swipeable,scrollableContainerRef:scrollableContainerRef},bottomSheetProps),{},{children:renderOptionsList()})):(0,jsx_runtime.jsxs)(mobile.ModalMobile,(0,objectSpread2.Z)((0,objectSpread2.Z)({open:open,hasCloser:!0},modalProps),{},{onClose:function onClose(){var _modalProps$onClose;handleClose();for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null==modalProps||null===(_modalProps$onClose=modalProps.onClose)||void 0===_modalProps$onClose||_modalProps$onClose.call.apply(_modalProps$onClose,[modalProps].concat(args))},contentClassName:classnames_default()(index_module_sheetContent,null==modalProps?void 0:modalProps.contentClassName),ref:(0,react_merge_refs_esm.Z)([scrollableContainerRef,null==modalProps?void 0:modalProps.ref]),children:[(0,jsx_runtime.jsx)(mobile.ModalMobile.Header,(0,objectSpread2.Z)((0,objectSpread2.Z)({hasCloser:!0,sticky:!0},modalHeaderProps),{},{children:label||placeholder})),renderOptionsList(),(null==modalFooterProps?void 0:modalFooterProps.children)&&(0,jsx_runtime.jsx)(mobile.ModalMobile.Footer,(0,objectSpread2.Z)({},modalFooterProps))]}))]}))}));try{BaseSelectMobile.displayName="BaseSelectMobile",BaseSelectMobile.__docgenInfo={description:"",displayName:"BaseSelectMobile",props:{size:{defaultValue:{value:"m"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},selected:{defaultValue:{value:"[]"},description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},Field:{defaultValue:{value:"({\n    size = 'm',\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    ...restProps\n}: BaseFieldProps & FormControlProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label && (filled || !placeholder || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            <FormControl\n                fieldClassName={cn(styles.field, fieldClassName, {\n                    [styles.disabled]: disabled,\n                    [styles.focusVisible]: focusVisible,\n                })}\n                block={true}\n                size={size}\n                focused={open || focused}\n                disabled={disabled}\n                filled={filled}\n                label={showLabel && label}\n                labelView={labelView}\n                error={error}\n                hint={hint}\n                rightAddons={\n                    (Arrow || rightAddons) && (\n                        <React.Fragment>\n                            {rightAddons}\n                            {/* TODO: стоит переделать, но это будет мажорка */}\n                            {Arrow ? React.cloneElement(Arrow, { className: styles.arrow }) : null}\n                        </React.Fragment>\n                    )\n                }\n                data-test-id={dataTestId}\n                {...restProps}\n                {...innerProps}\n            >\n                <div className={styles.contentWrapper}>\n                    {placeholder && !filled && (\n                        <span className={styles.placeholder}>{placeholder}</span>\n                    )}\n                    {filled && <div className={styles.value}>{value}</div>}\n                </div>\n            </FormControl>\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:{value:"[]"},description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:{value:"m"},description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsListWidth:{defaultValue:{value:"content"},description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 's',\n            className,\n            optionGroupClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n        },\n        ref,\n    ) => {\n        let [nativeScrollbar] = useMedia<boolean>([[true, '(max-width: 1023px)']], false);\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={styles.scrollable}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div className={styles.scrollable} ref={mergeRefs([listRef, ref])} onScroll={onScroll}>\n                {renderListItems()}\n            </div>\n        );\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[size], className)}\n            >\n                {header && <div className={styles.optionsListHeader}>{header}</div>}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions && flatOptions.length > visibleOptions,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n)"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 's',\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[size], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:{value:"false"},description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},footer:{defaultValue:null,description:"Футер\n@deprecated Используйте bottomSheetProps.actionButton",name:"footer",required:!1,type:{name:"ReactNode"}},swipeable:{defaultValue:null,description:"Будет ли свайпаться шторка\n@deprecated Используйте bottomSheetProps.swipeable",name:"swipeable",required:!1,type:{name:"boolean"}},isBottomSheet:{defaultValue:null,description:"Отображать в BottomSheet",name:"isBottomSheet",required:!1,type:{name:"boolean"}},bottomSheetProps:{defaultValue:null,description:"Дополнительные пропсы шторки",name:"bottomSheetProps",required:!1,type:{name:"Partial<BottomSheetProps>"}},modalProps:{defaultValue:null,description:"Дополнительные пропсы модалки",name:"modalProps",required:!1,type:{name:"Partial<ModalMobileProps & RefAttributes<HTMLDivElement>>"}},modalHeaderProps:{defaultValue:null,description:"Дополнительные пропсы шапки модалки",name:"modalHeaderProps",required:!1,type:{name:"Partial<HeaderProps>"}},modalFooterProps:{defaultValue:null,description:"Дополнительные пропсы футера модалки",name:"modalFooterProps",required:!1,type:{name:"Partial<FooterProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/base-select-mobile/Component.tsx#BaseSelectMobile"]={docgenInfo:BaseSelectMobile.__docgenInfo,name:"BaseSelectMobile",path:"packages/select/src/components/base-select-mobile/Component.tsx#BaseSelectMobile"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/field/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return Field}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/form-control/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),index_module_component="component_zOUqa",index_module_field="field_dLiU8",index_module_disabled="disabled_V9ICB",index_module_arrow="arrow_J35rX",index_module_placeholder="placeholder_ipIF4",index_module_contentWrapper="contentWrapper_zxzjS",index_module_value="value_WHuoX",index_module_focusVisible="focusVisible_otvIz",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["size","open","multiple","error","hint","disabled","label","labelView","placeholder","selectedMultiple","selected","rightAddons","valueRenderer","setSelectedItems","toggleMenu","Arrow","innerProps","dataTestId","fieldClassName"],Field=function Field(_ref){var _cn,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,open=_ref.open,error=(_ref.multiple,_ref.error),hint=_ref.hint,disabled=_ref.disabled,label=_ref.label,_ref$labelView=_ref.labelView,labelView=void 0===_ref$labelView?"inner":_ref$labelView,placeholder=_ref.placeholder,_ref$selectedMultiple=_ref.selectedMultiple,selectedMultiple=void 0===_ref$selectedMultiple?[]:_ref$selectedMultiple,selected=_ref.selected,rightAddons=_ref.rightAddons,_ref$valueRenderer=_ref.valueRenderer,valueRenderer=void 0===_ref$valueRenderer?utils.JC:_ref$valueRenderer,Arrow=(_ref.setSelectedItems,_ref.toggleMenu,_ref.Arrow),innerProps=_ref.innerProps,dataTestId=_ref.dataTestId,fieldClassName=_ref.fieldClassName,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),focused=_useState2[0],setFocused=_useState2[1],wrapperRef=(0,react.useRef)(null),_useFocus=(0,esm.KK)(wrapperRef,"keyboard"),focusVisible=(0,slicedToArray.Z)(_useFocus,1)[0],handleFocus=(0,react.useCallback)((function(){return setFocused(!0)}),[]),handleBlur=(0,react.useCallback)((function(){return setFocused(!1)}),[]),value=valueRenderer({selected:selected,selectedMultiple:selectedMultiple}),filled=Boolean(value),showLabel=!!label&&(filled||!placeholder||"outer"===labelView);return(0,jsx_runtime.jsx)("div",{className:index_module_component,ref:wrapperRef,onFocus:handleFocus,onBlur:handleBlur,children:(0,jsx_runtime.jsx)(modern.FormControl,(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({fieldClassName:classnames_default()(index_module_field,fieldClassName,(_cn={},(0,defineProperty.Z)(_cn,index_module_disabled,disabled),(0,defineProperty.Z)(_cn,index_module_focusVisible,focusVisible),_cn)),block:!0,size:size,focused:open||focused,disabled:disabled,filled:filled,label:showLabel&&label,labelView:labelView,error:error,hint:hint,rightAddons:(Arrow||rightAddons)&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[rightAddons,Arrow?react.cloneElement(Arrow,{className:index_module_arrow}):null]}),"data-test-id":dataTestId},restProps),innerProps),{},{children:(0,jsx_runtime.jsxs)("div",{className:index_module_contentWrapper,children:[placeholder&&!filled&&(0,jsx_runtime.jsx)("span",{className:index_module_placeholder,children:placeholder}),filled&&(0,jsx_runtime.jsx)("div",{className:index_module_value,children:value})]})}))})};try{Field.displayName="Field",Field.__docgenInfo={description:"",displayName:"Field",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"Выбранный пункт",name:"selected",required:!1,type:{name:"OptionShape"}},selectedMultiple:{defaultValue:{value:"[]"},description:"Список выбранных пунктов",name:"selectedMultiple",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},multiple:{defaultValue:null,description:"Флаг, можно ли выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, поле заблокировано\nЗаблокированное состояние",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Лейбл поля\nЛейбл компонента",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:{value:"inner"},description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},success:{defaultValue:null,description:"Отображение иконки успеха",name:"success",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Подсказка под полем\nТекст подсказки",name:"hint",required:!1,type:{name:"ReactNode"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ReactElement<any, string | JSXElementConstructor<any>> | null"}},valueRenderer:{defaultValue:{value:"({\n    selected,\n    selectedMultiple,\n}: {\n    selected?: OptionShape;\n    selectedMultiple?: OptionShape[];\n}) => {\n    const options = selectedMultiple || (selected ? [selected] : []);\n\n    if (!options.length) return null;\n\n    return options.reduce((acc: Array<ReactNode | string>, option: OptionShape, index: number) => {\n        if (isValidElement(option.content)) {\n            acc.push(cloneElement(option.content, { key: option.key }));\n        } else {\n            acc.push(option.content);\n        }\n\n        if (index < options.length - 1) acc.push(', ');\n\n        return acc;\n    }, []);\n}"},description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},innerProps:{defaultValue:null,description:"Внутренние свойства, которые должны быть установлены компоненту.",name:"innerProps",required:!0,type:{name:"{ onBlur?: ((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void) | undefined; onFocus?: ((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void) | undefined; onClick?: ((event: MouseEvent<...>) => void) | undefined; tabIndex?: number | undefined; id: string; } & RefAttributes<......"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"m"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},colors:{defaultValue:null,description:"Набор цветов для компонента",name:"colors",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"inverted"'}]}},readOnly:{defaultValue:null,description:"Cостояние только для чтения",name:"readOnly",required:!1,type:{name:"boolean"}},filled:{defaultValue:null,description:"Заполненное состояние",name:"filled",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"Выбранное (фокус) состояние",name:"focused",required:!1,type:{name:"boolean"}},leftAddons:{defaultValue:null,description:"Слот слева",name:"leftAddons",required:!1,type:{name:"ReactNode"}},rightAddons:{defaultValue:null,description:"Слот справа",name:"rightAddons",required:!1,type:{name:"ReactNode"}},bottomAddons:{defaultValue:null,description:"Слот под полем",name:"bottomAddons",required:!1,type:{name:"ReactNode"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},inputWrapperClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"inputWrapperClassName",required:!1,type:{name:"string"}},labelClassName:{defaultValue:null,description:"Дополнительный класс для лейбла",name:"labelClassName",required:!1,type:{name:"string"}},addonsClassName:{defaultValue:null,description:"Дополнительный класс для аддонов",name:"addonsClassName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/field/Component.tsx#Field"]={docgenInfo:Field.__docgenInfo,name:"Field",path:"packages/select/src/components/field/Component.tsx#Field"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/optgroup/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return Optgroup}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),index_module={optgroup:"optgroup_q8FGV",label:"label_YEkB6",l:"l_ns03o",xl:"xl_Cgp4G"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Optgroup=function Optgroup(_ref){var children=_ref.children,className=_ref.className,label=_ref.label,_ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.optgroup,className,index_module[size]),children:(0,jsx_runtime.jsx)("span",{className:index_module.label,children:label})}),children]})};try{Optgroup.displayName="Optgroup",Optgroup.__docgenInfo={description:"",displayName:"Optgroup",props:{className:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},label:{defaultValue:null,description:"Заголовок группы",name:"label",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Дочерние элементы",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/optgroup/Component.tsx#Optgroup"]={docgenInfo:Optgroup.__docgenInfo,name:"Optgroup",path:"packages/select/src/components/optgroup/Component.tsx#Optgroup"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/option/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{W:function(){return Option}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/badge/modern/index.js"),checkbox_modern=__webpack_require__("./dist/checkbox/modern/index.js"),CheckmarkCircleMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/CheckmarkCircleMIcon.js"),CheckmarkMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/CheckmarkMIcon.js"),index_module={checkmark:"checkmark_CSCCc",after:"after_aCWWU",single:"single_XrElb",selected:"selected_gJ5q_",before:"before_A2aV6",multiple:"multiple_enpsV",colorIcon:"colorIcon_pQ3if"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Component_Checkmark=function Checkmark(_ref){var _cn,selected=_ref.selected,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,className=_ref.className,multiple=_ref.multiple,_ref$position=_ref.position,position=void 0===_ref$position?"before":_ref$position,single=!multiple,checkmarkClassNames=classnames_default()(index_module.checkmark,className,index_module[position],(_cn={},(0,defineProperty.Z)(_cn,index_module.multiple,!single),(0,defineProperty.Z)(_cn,index_module.single,single),(0,defineProperty.Z)(_cn,index_module.selected,selected),_cn)),handleCheckboxClick=(0,react.useCallback)((function(event){return event.stopPropagation()}),[]);return single?(0,jsx_runtime.jsx)("div",{className:checkmarkClassNames,children:"before"===position?(0,jsx_runtime.jsx)(modern.Badge,{className:index_module.after,view:"icon",size:"m",iconColor:"positive",content:(0,jsx_runtime.jsx)(CheckmarkCircleMIcon.CheckmarkCircleMIcon,{className:index_module.colorIcon})}):(0,jsx_runtime.jsx)(CheckmarkMIcon.default,{className:classnames_default()(index_module.displayIcon)})}):(0,jsx_runtime.jsx)(checkbox_modern.Checkbox,{checked:selected,disabled:disabled,className:checkmarkClassNames,size:"m",onClick:handleCheckboxClick})};try{Component_Checkmark.displayName="Checkmark",Component_Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{selected:{defaultValue:null,description:"Флаг, данный пункт выбран",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Флаг, данный пункт задизейблен",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"before"},description:"Расположение отметки",name:"position",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},icon:{defaultValue:null,description:"Иконка выбранного пункта",name:"icon",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/checkmark/Component.tsx#Checkmark"]={docgenInfo:Component_Checkmark.__docgenInfo,name:"Checkmark",path:"packages/select/src/components/checkmark/Component.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}var checkmark_mobile_index_module_checkmark="checkmark_rWzcg",checkmark_mobile_index_module_selected="selected_wACln",checkmark_mobile_index_module_displayIcon="displayIcon_GEtCs",checkmark_mobile_Component_Checkmark=function Checkmark(_ref){var selected=_ref.selected,className=_ref.className;return(0,jsx_runtime.jsx)("div",{className:classnames_default()(checkmark_mobile_index_module_checkmark,className,(0,defineProperty.Z)({},checkmark_mobile_index_module_selected,selected)),children:(0,jsx_runtime.jsx)(CheckmarkMIcon.CheckmarkMIcon,{className:checkmark_mobile_index_module_displayIcon})})};try{checkmark_mobile_Component_Checkmark.displayName="Checkmark",checkmark_mobile_Component_Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{selected:{defaultValue:null,description:"Флаг, данный пункт выбран",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, данный пункт задизейблен",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"Расположение отметки",name:"position",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},icon:{defaultValue:null,description:"Иконка выбранного пункта",name:"icon",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/checkmark-mobile/Component.tsx#Checkmark"]={docgenInfo:checkmark_mobile_Component_Checkmark.__docgenInfo,name:"Checkmark",path:"packages/select/src/components/checkmark-mobile/Component.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}var option_index_module={option:"option_gwrUy",disabled:"disabled__Fu13",s:"s_utmIH",m:"m_Dt3qv",l:"l_rPQbN",xl:"xl_m_KYY",selected:"selected_hRgWF",highlighted:"highlighted_kJT1g",content:"content_ExbhC",textContent:"textContent_IMZ6e"},Option=function Option(_ref){var _cn,_ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,className=_ref.className,option=_ref.option,children=_ref.children,selected=_ref.selected,highlighted=_ref.highlighted,disabled=_ref.disabled,multiple=_ref.multiple,mobile=_ref.mobile,_ref$Checkmark=_ref.Checkmark,Checkmark=void 0===_ref$Checkmark?mobile?checkmark_mobile_Component_Checkmark:Component_Checkmark:_ref$Checkmark,innerProps=_ref.innerProps,dataTestId=_ref.dataTestId,content=children||option.content||option.key,_option$showCheckMark=option.showCheckMark,showCheckMark=void 0===_option$showCheckMark||_option$showCheckMark;return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},innerProps),{},{className:classnames_default()(option_index_module.option,option_index_module[size],className,(_cn={},(0,defineProperty.Z)(_cn,option_index_module.highlighted,!mobile&&highlighted),(0,defineProperty.Z)(_cn,option_index_module.selected,selected),(0,defineProperty.Z)(_cn,option_index_module.disabled,disabled),_cn)),"data-test-id":dataTestId,children:[Checkmark&&showCheckMark&&(0,jsx_runtime.jsx)(Checkmark,{disabled:disabled,selected:selected,multiple:multiple,position:"before"}),(0,jsx_runtime.jsx)("div",{className:classnames_default()(option_index_module.content,(0,defineProperty.Z)({},option_index_module.textContent,!(0,react.isValidElement)(content))),children:content}),Checkmark&&showCheckMark&&(0,jsx_runtime.jsx)(Checkmark,{disabled:disabled,selected:selected,multiple:multiple,position:"after"})]}))};try{Option.displayName="Option",Option.__docgenInfo={description:"",displayName:"Option",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},children:{defaultValue:null,description:"Контент пункта меню",name:"children",required:!1,type:{name:"ReactNode"}},option:{defaultValue:null,description:"Данные пункта меню",name:"option",required:!0,type:{name:"OptionShape"}},index:{defaultValue:null,description:"Индекс пункта",name:"index",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"Флаг, выбран ли данный пункт",name:"selected",required:!1,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"Флаг, подсвечен ли данный пункт",name:"highlighted",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, заблокирован ли данный пункт",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},Checkmark:{defaultValue:{value:"mobile ? DefaultMobileCheckmark : DefaultCheckMark"},description:"Компонент пункта меню",name:"Checkmark",required:!1,type:{name:"FC<CheckmarkProps> | null"}},innerProps:{defaultValue:null,description:"Внутренние свойства, которые должны быть установлены компоненту.",name:"innerProps",required:!0,type:{name:"{ id: string; onClick: (event: MouseEvent<HTMLDivElement, MouseEvent>) => void; onMouseDown: (event: MouseEvent<HTMLDivElement, MouseEvent>) => void; onMouseMove: (event: MouseEvent<...>) => void; role: string; } & RefAttributes<...> & AriaAttributes"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},checkmarkPosition:{defaultValue:null,description:'Позиция иконки "галочки"',name:"checkmarkPosition",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},mobile:{defaultValue:null,description:"Мобильная верcия option.",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/option/Component.tsx#Option"]={docgenInfo:Option.__docgenInfo,name:"Option",path:"packages/select/src/components/option/Component.tsx#Option"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/options-list/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{M:function(){return OptionsList}});var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/scrollbar/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),consts=__webpack_require__("./packages/select/src/consts.ts"),utils=__webpack_require__("./packages/select/src/utils.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),index_module={optionsList:"optionsList_dWWP1",optionsListHeader:"optionsListHeader_l6dzu",optionsListFooter:"optionsListFooter_RLFvC",withBorder:"withBorder_B_X9i",scrollable:"scrollable_gc3Nx",emptyPlaceholder:"emptyPlaceholder_rowx2",l:"l_uu6sb",xl:"xl_hSRK3"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),OptionsList=(0,react.forwardRef)((function(_ref,ref){var _ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,className=_ref.className,optionGroupClassName=_ref.optionGroupClassName,Option=_ref.Option,getOptionProps=_ref.getOptionProps,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,dataTestId=_ref.dataTestId,emptyPlaceholder=_ref.emptyPlaceholder,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,onScroll=_ref.onScroll,open=_ref.open,header=_ref.header,footer=_ref.footer,_ref$showFooter=_ref.showFooter,showFooter=void 0===_ref$showFooter||_ref$showFooter,optionsListWidth=_ref.optionsListWidth,nativeScrollbarProp=_ref.nativeScrollbar,_ref$flatOptions=_ref.flatOptions,flatOptions=void 0===_ref$flatOptions?[]:_ref$flatOptions,_useMedia=(0,esm.GS)([[!0,"(max-width: 1023px)"]],!1),nativeScrollbar=(0,slicedToArray.Z)(_useMedia,1)[0];nativeScrollbar=Boolean(null!=nativeScrollbarProp?nativeScrollbarProp:nativeScrollbar);var renderOption=function renderOption(option,index){return(0,jsx_runtime.jsx)(Option,(0,objectSpread2.Z)({},getOptionProps(option,index)),option.key)},listRef=(0,react.useRef)(null),scrollbarRef=(0,react.useRef)(null),counter=function createCounter(){var count=0;return function(){return count++}}();if((0,utils.kZ)((0,objectSpread2.Z)((0,objectSpread2.Z)({},!nativeScrollbar&&{styleTargetRef:scrollbarRef}),{},{visibleOptions:visibleOptions,listRef:listRef,open:open,invalidate:options})),0===options.length&&!emptyPlaceholder)return null;var renderListItems=function renderListItems(){return(0,jsx_runtime.jsxs)(react.Fragment,{children:[options.map((function(option){return(0,utils.ty)(option)?function renderGroup(group){return(0,jsx_runtime.jsx)(Optgroup,{className:optionGroupClassName,label:group.label,size:size,children:group.options.map((function(option){return renderOption(option,counter())}))},group.label)}(option):renderOption(option,counter())})),emptyPlaceholder&&0===options.length&&(0,jsx_runtime.jsx)("div",{className:index_module.emptyPlaceholder,children:emptyPlaceholder})]})};return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},nativeScrollbar&&{"data-test-id":dataTestId}),{},{className:classnames_default()(index_module.optionsList,index_module[size],className),children:[header&&(0,jsx_runtime.jsx)("div",{className:index_module.optionsListHeader,children:header}),nativeScrollbar?function renderWithNativeScrollbar(){return(0,jsx_runtime.jsx)("div",{className:index_module.scrollable,ref:(0,react_merge_refs_esm.Z)([listRef,ref]),onScroll:onScroll,children:renderListItems()})}():function renderWithCustomScrollbar(){var scrollableNodeProps={onScroll:onScroll,"data-test-id":dataTestId,ref:ref};return(0,jsx_runtime.jsx)(modern.Scrollbar,{className:index_module.scrollable,ref:scrollbarRef,horizontalAutoStretch:"content"===optionsListWidth,scrollableNodeProps:scrollableNodeProps,contentNodeProps:{ref:listRef},children:renderListItems()})}(),showFooter&&footer&&(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.optionsListFooter,(0,defineProperty.Z)({},index_module.withBorder,visibleOptions&&flatOptions.length>visibleOptions)),children:footer})]}))}));try{OptionsList.displayName="OptionsList",OptionsList.__docgenInfo={description:"",displayName:"OptionsList",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"FC<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:null,description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:{value:"true"},description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:null,description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:null,description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/options-list/Component.tsx#OptionsList"]={docgenInfo:OptionsList.__docgenInfo,name:"OptionsList",path:"packages/select/src/components/options-list/Component.tsx#OptionsList"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/virtual-options-list/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return VirtualOptionsList}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),react_virtual=__webpack_require__("./node_modules/react-virtual/dist/react-virtual.mjs"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/scrollbar/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),consts=__webpack_require__("./packages/select/src/consts.ts"),utils=__webpack_require__("./packages/select/src/utils.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),index_module={virtualOptionsList:"virtualOptionsList_f8l8Q",virtualOptionsListHeader:"virtualOptionsListHeader_Il1v5",virtualOptionsListFooter:"virtualOptionsListFooter_dRAb1",withBorder:"withBorder_Ufdow",scrollable:"scrollable_D_W_P",inner:"inner_HnsHb",virtualRow:"virtualRow_LhVkm",highlighted:"highlighted_pMwde",emptyPlaceholder:"emptyPlaceholder_VR5vJ",l:"l_eZbum",xl:"xl_jd5nz"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),VirtualOptionsList=(0,react.forwardRef)((function(_ref,ref){var _ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,_ref$flatOptions=_ref.flatOptions,flatOptions=void 0===_ref$flatOptions?[]:_ref$flatOptions,_ref$highlightedIndex=_ref.highlightedIndex,highlightedIndex=void 0===_ref$highlightedIndex?-1:_ref$highlightedIndex,className=_ref.className,getOptionProps=_ref.getOptionProps,Option=_ref.Option,open=_ref.open,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,dataTestId=_ref.dataTestId,emptyPlaceholder=_ref.emptyPlaceholder,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,header=_ref.header,footer=_ref.footer,_ref$showFooter=_ref.showFooter,showFooter=void 0===_ref$showFooter||_ref$showFooter,optionsListWidth=_ref.optionsListWidth,onScroll=_ref.onScroll,nativeScrollbarProp=_ref.nativeScrollbar,listRef=(0,react.useRef)(null),parentRef=(0,react.useRef)(null),scrollbarRef=(0,react.useRef)(null),_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),visibleOptionsInvalidateKey=_useState2[0],setVisibleOptionsInvalidateKey=_useState2[1],prevHighlightedIndex=(0,utils.D9)(highlightedIndex)||-1,_useMedia=(0,esm.GS)([[!0,"(max-width: 1023px)"]],!1),nativeScrollbar=(0,slicedToArray.Z)(_useMedia,1)[0],rowVirtualizer=(0,react_virtual.o)({size:flatOptions.length,parentRef:ref||parentRef,overscan:15});nativeScrollbar=Boolean(null!=nativeScrollbarProp?nativeScrollbarProp:nativeScrollbar),(0,react.useEffect)((function(){open&&rowVirtualizer.scrollToIndex(highlightedIndex,{align:"end"})}),[open]),(0,react.useEffect)((function(){-1!==highlightedIndex&&(rowVirtualizer.virtualItems.some((function(option){return option.index===highlightedIndex}))||rowVirtualizer.scrollToIndex(highlightedIndex,{align:"end"}))}),[highlightedIndex]),(0,react.useEffect)((function(){var notDisabled=function notDisabled(option){return!option.disabled},firstNonDisabled=flatOptions.findIndex(notDisabled),lastNonDisabled=(0,utils.d_)(flatOptions,notDisabled);prevHighlightedIndex<=firstNonDisabled&&highlightedIndex===flatOptions.length-1&&rowVirtualizer.scrollToIndex(lastNonDisabled),prevHighlightedIndex>=lastNonDisabled&&0===highlightedIndex&&rowVirtualizer.scrollToIndex(0)}),[prevHighlightedIndex,highlightedIndex]),(0,react.useEffect)((function(){setVisibleOptionsInvalidateKey(rowVirtualizer.virtualItems.length>1?flatOptions.length:1)}),[rowVirtualizer.virtualItems.length,flatOptions.length]),(0,utils.kZ)({visibleOptions:visibleOptions,invalidate:visibleOptionsInvalidateKey,listRef:listRef,styleTargetRef:nativeScrollbar?parentRef:scrollbarRef,open:open});var groupStartIndexes=(0,react.useMemo)((function(){var currentIndex=0;return options.reduce((function(acc,option,index){return(0,utils.ty)(option)?(acc[currentIndex]=index,currentIndex+=option.options.length):currentIndex+=1,acc}),{})}),[options]),renderList=function renderList(){return rowVirtualizer.virtualItems.map((function(virtualRow){var option=flatOptions[virtualRow.index],group=options[groupStartIndexes[virtualRow.index]];return(0,jsx_runtime.jsxs)("div",{ref:virtualRow.measureRef,className:classnames_default()(index_module.virtualRow,(0,defineProperty.Z)({},index_module.highlighted,highlightedIndex===virtualRow.index)),style:{transform:"translateY(".concat(virtualRow.start,"px)")},children:[group&&(0,jsx_runtime.jsx)(Optgroup,{label:group.label}),!(0,utils.ty)(option)&&(0,jsx_runtime.jsx)(Option,(0,objectSpread2.Z)({},getOptionProps(option,virtualRow.index)))]},virtualRow.index)}))},contentNodeProps={className:index_module.inner,style:{height:"".concat(rowVirtualizer.totalSize,"px")},ref:listRef};return 0!==options.length||emptyPlaceholder?(0,jsx_runtime.jsxs)("div",{className:classnames_default()(index_module.virtualOptionsList,index_module[size],className),"data-test-id":dataTestId,children:[header&&(0,jsx_runtime.jsx)("div",{className:index_module.virtualOptionsListHeader,children:header}),nativeScrollbar?function renderWithNativeScrollbar(){return visibleOptions?(0,jsx_runtime.jsx)("div",{className:index_module.scrollable,ref:(0,react_merge_refs_esm.Z)([parentRef,ref]),onScroll:onScroll,children:(0,jsx_runtime.jsx)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},contentNodeProps),{},{children:renderList()}))}):(0,jsx_runtime.jsx)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},contentNodeProps),{},{children:renderList()}))}():function renderWithCustomScrollbar(){return(0,jsx_runtime.jsx)(modern.Scrollbar,{className:index_module.scrollable,ref:scrollbarRef,horizontalAutoStretch:"content"===optionsListWidth,scrollableNodeProps:{onScroll:onScroll,ref:parentRef},contentNodeProps:contentNodeProps,children:renderList()})}(),emptyPlaceholder&&0===options.length&&(0,jsx_runtime.jsx)("div",{className:index_module.emptyPlaceholder,children:emptyPlaceholder}),showFooter&&footer&&(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.virtualOptionsListFooter,(0,defineProperty.Z)({},index_module.withBorder,visibleOptions&&flatOptions.length>visibleOptions)),children:footer})]}):null}));try{VirtualOptionsList.displayName="VirtualOptionsList",VirtualOptionsList.__docgenInfo={description:"",displayName:"VirtualOptionsList",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"FC<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:{value:"-1"},description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:{value:"true"},description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:null,description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:null,description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/virtual-options-list/Component.tsx#VirtualOptionsList"]={docgenInfo:VirtualOptionsList.__docgenInfo,name:"VirtualOptionsList",path:"packages/select/src/components/virtual-options-list/Component.tsx#VirtualOptionsList"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/consts.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{j:function(){return DEFAULT_VISIBLE_OPTIONS}});var DEFAULT_VISIBLE_OPTIONS=5},"./packages/select/src/desktop.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectDesktop:function(){return _Component_desktop__WEBPACK_IMPORTED_MODULE_0__.$},SelectDesktopProps:function(){return _Component_desktop__WEBPACK_IMPORTED_MODULE_0__.SelectDesktopProps}});var _Component_desktop__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/select/src/Component.desktop.tsx")},"./packages/select/src/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Select:function(){return SelectResponsive},SelectProps:function(){return Component_responsive_namespaceObject.SelectResponsiveProps}});var Component_responsive_namespaceObject={};__webpack_require__.r(Component_responsive_namespaceObject),__webpack_require__.d(Component_responsive_namespaceObject,{b:function(){return SelectResponsive}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),Component_desktop=__webpack_require__("./packages/select/src/Component.desktop.tsx"),Component_mobile=__webpack_require__("./packages/select/src/Component.mobile.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["footer","swipeable","bottomSheetProps","OptionsList","onScroll","fieldProps","breakpoint"],SelectResponsive=(0,react.forwardRef)((function(_ref,ref){var footer=_ref.footer,swipeable=_ref.swipeable,bottomSheetProps=_ref.bottomSheetProps,OptionsList=_ref.OptionsList,onScroll=_ref.onScroll,fieldProps=_ref.fieldProps,_ref$breakpoint=_ref.breakpoint,breakpoint=void 0===_ref$breakpoint?1024:_ref$breakpoint,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useMedia=(0,esm.GS)([["mobile","(max-width: ".concat(breakpoint-1,"px)")],["desktop","(min-width: ".concat(breakpoint,"px)")]],"desktop");return"desktop"===(0,slicedToArray.Z)(_useMedia,1)[0]?(0,jsx_runtime.jsx)(Component_desktop.$,(0,objectSpread2.Z)((0,objectSpread2.Z)({OptionsList:OptionsList,onScroll:onScroll},restProps),{},{ref:ref,fieldProps:fieldProps})):(0,jsx_runtime.jsx)(Component_mobile.o,(0,objectSpread2.Z)((0,objectSpread2.Z)({footer:footer,swipeable:swipeable,bottomSheetProps:bottomSheetProps,fieldProps:fieldProps},restProps),{},{ref:ref}))}));try{SelectResponsive.displayName="SelectResponsive",SelectResponsive.__docgenInfo={description:"",displayName:"SelectResponsive",props:{dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsSize:{defaultValue:null,description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},autocomplete:{defaultValue:null,description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:null,description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:null,description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:null,description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},Field:{defaultValue:null,description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},fieldProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:null,description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:null,description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},footer:{defaultValue:null,description:"Футер\n@deprecated Используйте bottomSheetProps.actionButton",name:"footer",required:!1,type:{name:"ReactNode"}},swipeable:{defaultValue:null,description:"Будет ли свайпаться шторка\n@deprecated Используйте bottomSheetProps.swipeable",name:"swipeable",required:!1,type:{name:"boolean"}},bottomSheetProps:{defaultValue:null,description:"Дополнительные пропсы шторки",name:"bottomSheetProps",required:!1,type:{name:"Partial<BottomSheetProps>"}},showClear:{defaultValue:null,description:"Показывать кнопку очистки",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все" в заголовке списка',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:null,description:"Использовать ли хук useSelectWithApply",name:"useWithApplyHook",required:!1,type:{name:"boolean"}},breakpoint:{defaultValue:{value:"1024"},description:"Контрольная точка, с нее начинается desktop версия",name:"breakpoint",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/Component.responsive.tsx#SelectResponsive"]={docgenInfo:SelectResponsive.__docgenInfo,name:"SelectResponsive",path:"packages/select/src/Component.responsive.tsx#SelectResponsive"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/mobile.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectMobile:function(){return Component_mobile.o},SelectModalMobile:function(){return SelectModalMobile}});var Component_mobile=__webpack_require__("./packages/select/src/Component.mobile.tsx"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),arrow=__webpack_require__("./packages/select/src/components/arrow/index.ts"),base_select_mobile=__webpack_require__("./packages/select/src/components/base-select-mobile/index.ts"),footer=__webpack_require__("./packages/select/src/components/base-select-mobile/footer/index.ts"),field=__webpack_require__("./packages/select/src/components/field/index.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),components_option=__webpack_require__("./packages/select/src/components/option/index.ts"),options_list=__webpack_require__("./packages/select/src/components/options-list/index.ts"),virtual_options_list=__webpack_require__("./packages/select/src/components/virtual-options-list/index.ts"),hook=__webpack_require__("./packages/select/src/presets/useSelectWithApply/hook.tsx"),Component=__webpack_require__("./packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["autocomplete","multiple","allowUnselect","disabled","closeOnSelect","circularNavigation","defaultOpen","open","size","optionsSize","fieldProps","optionProps","optionsListProps","Arrow","Field","Optgroup","Option","selected","options","OptionsList","onChange","showClear","showSelectAll","useWithApplyHook","modalHeaderProps","showHeaderWithSelectAll"],SelectModalMobile=(0,react.forwardRef)((function(_ref,ref){var _ref$autocomplete=_ref.autocomplete,autocomplete=void 0!==_ref$autocomplete&&_ref$autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,allowUnselect=void 0!==_ref$allowUnselect&&_ref$allowUnselect,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,circularNavigation=void 0!==_ref$circularNavigati&&_ref$circularNavigati,_ref$defaultOpen=_ref.defaultOpen,defaultOpen=void 0!==_ref$defaultOpen&&_ref$defaultOpen,openProp=_ref.open,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,_ref$optionsSize=_ref.optionsSize,optionsSize=void 0===_ref$optionsSize?"m":_ref$optionsSize,_ref$fieldProps=_ref.fieldProps,fieldProps=void 0===_ref$fieldProps?{}:_ref$fieldProps,_ref$optionProps=_ref.optionProps,optionProps=void 0===_ref$optionProps?{}:_ref$optionProps,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?arrow.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?field.g:_ref$Field,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?components_option.W:_ref$Option,selected=_ref.selected,options=_ref.options,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options.length>30?virtual_options_list.X:options_list.M:_ref$OptionsList,onChange=_ref.onChange,_ref$showClear=_ref.showClear,showClear=void 0===_ref$showClear||_ref$showClear,showSelectAll=_ref.showSelectAll,_ref$useWithApplyHook=_ref.useWithApplyHook,useWithApplyHook=void 0===_ref$useWithApplyHook?multiple:_ref$useWithApplyHook,modalHeaderProps=_ref.modalHeaderProps,showHeaderWithSelectAll=_ref.showHeaderWithSelectAll,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),applyProps=(0,hook.b)({optionsListProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{Footer:footer.$}),OptionsList:OptionsList,selected:selected,options:options,onChange:onChange,showClear:showClear,showSelectAll:showSelectAll});return(0,jsx_runtime.jsx)(base_select_mobile.q,(0,objectSpread2.Z)((0,objectSpread2.Z)({ref:ref,autocomplete:autocomplete,multiple:multiple,allowUnselect:allowUnselect,disabled:disabled,closeOnSelect:closeOnSelect,circularNavigation:circularNavigation,defaultOpen:defaultOpen,open:openProp,size:size,optionsSize:optionsSize,fieldProps:fieldProps,optionProps:optionProps,Arrow:Arrow,Field:Field,Optgroup:Optgroup,Option:Option,isBottomSheet:!1,options:options,selected:selected,onChange:onChange,OptionsList:OptionsList,optionsListProps:optionsListProps,modalHeaderProps:(0,objectSpread2.Z)({bottomAddons:useWithApplyHook&&showHeaderWithSelectAll&&(0,jsx_runtime.jsx)(Component.h,(0,objectSpread2.Z)((0,objectSpread2.Z)({},applyProps.optionsListProps.headerProps),{},{mobile:!0}))},modalHeaderProps)},restProps),useWithApplyHook&&applyProps))}));try{SelectModalMobile.displayName="SelectModalMobile",SelectModalMobile.__docgenInfo={description:"",displayName:"SelectModalMobile",props:{size:{defaultValue:{value:"m"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},Field:{defaultValue:{value:"({\n    size = 'm',\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    ...restProps\n}: BaseFieldProps & FormControlProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label && (filled || !placeholder || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            <FormControl\n                fieldClassName={cn(styles.field, fieldClassName, {\n                    [styles.disabled]: disabled,\n                    [styles.focusVisible]: focusVisible,\n                })}\n                block={true}\n                size={size}\n                focused={open || focused}\n                disabled={disabled}\n                filled={filled}\n                label={showLabel && label}\n                labelView={labelView}\n                error={error}\n                hint={hint}\n                rightAddons={\n                    (Arrow || rightAddons) && (\n                        <React.Fragment>\n                            {rightAddons}\n                            {/* TODO: стоит переделать, но это будет мажорка */}\n                            {Arrow ? React.cloneElement(Arrow, { className: styles.arrow }) : null}\n                        </React.Fragment>\n                    )\n                }\n                data-test-id={dataTestId}\n                {...restProps}\n                {...innerProps}\n            >\n                <div className={styles.contentWrapper}>\n                    {placeholder && !filled && (\n                        <span className={styles.placeholder}>{placeholder}</span>\n                    )}\n                    {filled && <div className={styles.value}>{value}</div>}\n                </div>\n            </FormControl>\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:{value:"m"},description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"options.length > VIRTUAL_OPTIONS_LIST_THRESHOLD\n                ? DefaultVirtualOptionsList\n                : DefaultOptionsList"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 's',\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[size], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},showClear:{defaultValue:{value:"true"},description:"Показывать кнопку очистки",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},modalHeaderProps:{defaultValue:null,description:"Дополнительные пропсы шапки модалки",name:"modalHeaderProps",required:!1,type:{name:"Partial<HeaderProps>"}},modalProps:{defaultValue:null,description:"Дополнительные пропсы модалки",name:"modalProps",required:!1,type:{name:"Partial<ModalMobileProps & RefAttributes<HTMLDivElement>>"}},modalFooterProps:{defaultValue:null,description:"Дополнительные пропсы футера модалки",name:"modalFooterProps",required:!1,type:{name:"Partial<FooterProps>"}},showHeaderWithSelectAll:{defaultValue:null,description:"",name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:{value:"false"},description:"Использовать ли хук useSelectWithApply",name:"useWithApplyHook",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/Component.modal.mobile.tsx#SelectModalMobile"]={docgenInfo:SelectModalMobile.__docgenInfo,name:"SelectModalMobile",path:"packages/select/src/Component.modal.mobile.tsx#SelectModalMobile"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/presets/useSelectWithApply/hook.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{l:function(){return SELECT_ALL_KEY},b:function(){return useSelectWithApply}});var toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),options_list=__webpack_require__("./packages/select/src/components/options-list/index.ts"),consts=__webpack_require__("./packages/select/src/consts.ts"),modern=__webpack_require__("./dist/button/modern/index.js"),index_module_footer="footer__dans",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Component_Footer=function Footer(_ref){var handleApply=_ref.handleApply,handleClear=_ref.handleClear,showClear=_ref.showClear,_ref$selectedDraft=_ref.selectedDraft,selectedDraft=void 0===_ref$selectedDraft?[]:_ref$selectedDraft;return(0,jsx_runtime.jsxs)("div",{tabIndex:0,className:index_module_footer,children:[(0,jsx_runtime.jsx)(modern.Button,{size:"xxs",view:"primary",onClick:handleApply,children:"Применить"}),showClear&&selectedDraft.length>0&&(0,jsx_runtime.jsx)(modern.Button,{size:"xxs",view:"secondary",onClick:handleClear,children:"Сбросить"})]})};try{Component_Footer.displayName="Footer",Component_Footer.__docgenInfo={description:"",displayName:"Footer",props:{handleClear:{defaultValue:null,description:"",name:"handleClear",required:!1,type:{name:"(() => void)"}},handleApply:{defaultValue:null,description:"",name:"handleApply",required:!1,type:{name:"(() => void)"}},showClear:{defaultValue:null,description:"",name:"showClear",required:!1,type:{name:"boolean"}},selectedDraft:{defaultValue:{value:"[]"},description:"",name:"selectedDraft",required:!1,type:{name:"OptionShape[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/options-list-with-apply/footer/Component.tsx#Footer"]={docgenInfo:Component_Footer.__docgenInfo,name:"Footer",path:"packages/select/src/presets/useSelectWithApply/options-list-with-apply/footer/Component.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}var Component=__webpack_require__("./packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx"),_excluded=["toggleMenu","getOptionProps","showClear","showHeaderWithSelectAll","selectedDraft","flatOptions","OptionsList","onApply","onClear","onClose","visibleOptions","Footer","Header","headerProps"],OptionsListWithApply=(0,react.forwardRef)((function(_ref,ref){var toggleMenu=_ref.toggleMenu,defaultGetOptionProps=_ref.getOptionProps,_ref$showClear=_ref.showClear,showClear=void 0===_ref$showClear||_ref$showClear,showHeaderWithSelectAll=_ref.showHeaderWithSelectAll,_ref$selectedDraft=_ref.selectedDraft,selectedDraft=void 0===_ref$selectedDraft?[]:_ref$selectedDraft,_ref$flatOptions=_ref.flatOptions,flatOptions=void 0===_ref$flatOptions?[]:_ref$flatOptions,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options_list.M:_ref$OptionsList,_ref$onApply=_ref.onApply,onApply=void 0===_ref$onApply?function(){return null}:_ref$onApply,_ref$onClear=_ref.onClear,onClear=void 0===_ref$onClear?function(){return null}:_ref$onClear,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){return null}:_ref$onClose,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,_ref$Footer=_ref.Footer,Footer=void 0===_ref$Footer?Component_Footer:_ref$Footer,_ref$Header=_ref.Header,Header=void 0===_ref$Header?Component.h:_ref$Header,headerProps=_ref.headerProps,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),getOptionProps=(0,react.useCallback)((function(option,index){var optionProps=defaultGetOptionProps(option,index),selected=option.key===SELECT_ALL_KEY?selectedDraft.length===flatOptions.length-1:selectedDraft.includes(option);return(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionProps),{},{selected:selected})}),[defaultGetOptionProps,flatOptions.length,selectedDraft]),handleApply=(0,react.useCallback)((function(){onApply(),toggleMenu()}),[onApply,toggleMenu]),handleClear=(0,react.useCallback)((function(){onClear(),toggleMenu()}),[onClear,toggleMenu]);return(0,react.useEffect)((function(){var activeElement=document.activeElement;return function(){onClose(),activeElement&&activeElement.focus()}}),[]),(0,jsx_runtime.jsx)(OptionsList,(0,objectSpread2.Z)((0,objectSpread2.Z)({},restProps),{},{ref:ref,visibleOptions:visibleOptions,toggleMenu:toggleMenu,flatOptions:flatOptions,getOptionProps:getOptionProps,onApply:handleApply,onClear:handleClear,header:showHeaderWithSelectAll?(0,jsx_runtime.jsx)(Header,(0,objectSpread2.Z)({},headerProps)):void 0,footer:(0,jsx_runtime.jsx)(Footer,{handleApply:handleApply,handleClear:handleClear,showClear:showClear,selectedDraft:selectedDraft})}))}));try{OptionsListWithApply.displayName="OptionsListWithApply",OptionsListWithApply.__docgenInfo={description:"",displayName:"OptionsListWithApply",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"FC<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:null,description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:null,description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:null,description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:{value:"() => null"},description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:{value:"() => null"},description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}},showClear:{defaultValue:{value:"true"},description:"",name:"showClear",required:!1,type:{name:"boolean"}},onClose:{defaultValue:{value:"() => null"},description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},selectedDraft:{defaultValue:{value:"[]"},description:"",name:"selectedDraft",required:!1,type:{name:"OptionShape[]"}},OptionsList:{defaultValue:{value:"forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 's',\n            className,\n            optionGroupClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n        },\n        ref,\n    ) => {\n        let [nativeScrollbar] = useMedia<boolean>([[true, '(max-width: 1023px)']], false);\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={styles.scrollable}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div className={styles.scrollable} ref={mergeRefs([listRef, ref])} onScroll={onScroll}>\n                {renderListItems()}\n            </div>\n        );\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[size], className)}\n            >\n                {header && <div className={styles.optionsListHeader}>{header}</div>}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions && flatOptions.length > visibleOptions,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n)"},description:"",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Footer:{defaultValue:{value:"({\n    handleApply,\n    handleClear,\n    showClear,\n    selectedDraft = [],\n}: FooterProps) => (\n    <div\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n        tabIndex={0}\n        className={styles.footer}\n    >\n        <Button size='xxs' view='primary' onClick={handleApply}>\n            Применить\n        </Button>\n\n        {showClear && selectedDraft.length > 0 && (\n            <Button size='xxs' view='secondary' onClick={handleClear}>\n                Сбросить\n            </Button>\n        )}\n    </div>\n)"},description:"",name:"Footer",required:!1,type:{name:"FC<FooterProps>"}},Header:{defaultValue:{value:"({ onChange, checked, indeterminate, mobile }) => (\n    <div className={cn({ [styles.desktop]: !mobile, [styles.mobile]: mobile })}>\n        <Checkbox\n            block={true}\n            indeterminate={indeterminate}\n            size='m'\n            onChange={onChange}\n            checked={checked}\n            label='Выбрать все'\n        />\n    </div>\n)"},description:"",name:"Header",required:!1,type:{name:"FC<HeaderProps>"}},headerProps:{defaultValue:null,description:"",name:"headerProps",required:!1,type:{name:"HeaderProps"}},showHeaderWithSelectAll:{defaultValue:null,description:"",name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/options-list-with-apply/Component.tsx#OptionsListWithApply"]={docgenInfo:OptionsListWithApply.__docgenInfo,name:"OptionsListWithApply",path:"packages/select/src/presets/useSelectWithApply/options-list-with-apply/Component.tsx#OptionsListWithApply"})}catch(__react_docgen_typescript_loader_error){}var hook_excluded=["initiator"],SELECT_ALL_KEY="select_all",selectAllOption={key:SELECT_ALL_KEY,content:"Выбрать все"};function useSelectWithApply(_ref){var options=_ref.options,selected=_ref.selected,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){return null}:_ref$onChange,OptionsList=_ref.OptionsList,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$showClear=_ref.showClear,showClear=void 0===_ref$showClear||_ref$showClear,_ref$showSelectAll=_ref.showSelectAll,showSelectAll=void 0!==_ref$showSelectAll&&_ref$showSelectAll,_ref$showHeaderWithSe=_ref.showHeaderWithSelectAll,showHeaderWithSelectAll=void 0!==_ref$showHeaderWithSe&&_ref$showHeaderWithSe,_useMemo=(0,react.useMemo)((function(){return(0,utils.jW)(options,selected)}),[options,selected]),flatOptions=_useMemo.flatOptions,selectedOptions=_useMemo.selectedOptions,_useState=(0,react.useState)(selectedOptions),_useState2=(0,slicedToArray.Z)(_useState,2),selectedDraft=_useState2[0],setSelectedDraft=_useState2[1],selectedOptionsRef=(0,react.useRef)(selectedOptions);(0,react.useEffect)((function(){setSelectedDraft(selectedOptions),selectedOptionsRef.current=selectedOptions}),[selectedOptions]);var memoizedOptions=(0,react.useMemo)((function(){return showSelectAll?[selectAllOption].concat((0,toConsumableArray.Z)(options)):options}),[options,showSelectAll]);return{OptionsList:OptionsListWithApply,optionsListProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{OptionsList:OptionsList,showClear:showClear,onClear:function handleClear(){setSelectedDraft([]),onChange({selected:null,selectedMultiple:[],initiator:null})},onApply:function handleApply(){onChange({selected:selectedDraft[0],selectedMultiple:selectedDraft,initiator:null})},onClose:function handleClose(){return setSelectedDraft(selectedOptionsRef.current)},selectedDraft:selectedDraft,showHeaderWithSelectAll:showHeaderWithSelectAll,headerProps:{indeterminate:!!selectedDraft.length&&selectedDraft.length<flatOptions.length,checked:selectedDraft.length===flatOptions.length,onChange:function handleToggleAll(){setSelectedDraft(flatOptions.length===selectedDraft.length?[]:flatOptions)}}}),allowUnselect:!0,multiple:!0,options:memoizedOptions,onChange:function handleChange(_ref2){var initiator=_ref2.initiator,restArgs=(0,objectWithoutProperties.Z)(_ref2,hook_excluded);if(initiator){var initiatorSelected=selectedDraft.includes(initiator)||initiator.key===SELECT_ALL_KEY&&selectedDraft.length===flatOptions.length;initiator.key===SELECT_ALL_KEY?setSelectedDraft(initiatorSelected?[]:flatOptions):setSelectedDraft(initiatorSelected?selectedDraft.filter((function(o){return o!==initiator})):selectedDraft.concat(initiator))}else onChange((0,objectSpread2.Z)({initiator:null},restArgs))},selected:selected}}try{useSelectWithApply.displayName="useSelectWithApply",useSelectWithApply.__docgenInfo={description:"",displayName:"useSelectWithApply",props:{selected:{defaultValue:null,description:"Список выбранных пунктов",name:"selected",required:!0,type:{name:"string | OptionShape | (string | OptionShape)[] | null | undefined"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},onChange:{defaultValue:{value:"() => null"},description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},OptionsList:{defaultValue:null,description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},showClear:{defaultValue:{value:"true"},description:"Показывать кнопку очистки",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:{value:"false"},description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:{value:"false"},description:'Показывать пункт "Выбрать все" в заголовке списка',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/hook.tsx#useSelectWithApply"]={docgenInfo:useSelectWithApply.__docgenInfo,name:"useSelectWithApply",path:"packages/select/src/presets/useSelectWithApply/hook.tsx#useSelectWithApply"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return Header}});var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/checkbox/modern/index.js"),index_module_desktop="desktop_eZJqs",index_module_mobile="mobile_yYgHP",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Header=function Header(_ref){var _cn,onChange=_ref.onChange,checked=_ref.checked,indeterminate=_ref.indeterminate,mobile=_ref.mobile;return(0,jsx_runtime.jsx)("div",{className:classnames_default()((_cn={},(0,defineProperty.Z)(_cn,index_module_desktop,!mobile),(0,defineProperty.Z)(_cn,index_module_mobile,mobile),_cn)),children:(0,jsx_runtime.jsx)(modern.Checkbox,{block:!0,indeterminate:indeterminate,size:"m",onChange:onChange,checked:checked,label:"Выбрать все"})})};try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:null,description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>, payload: { checked: boolean; name?: string; }) => void)"}},mobile:{defaultValue:null,description:"",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D9:function(){return usePrevious},JC:function(){return joinOptions},d_:function(){return lastIndexOf},jW:function(){return processOptions},kZ:function(){return useVisibleOptions},ty:function(){return isGroup}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),isGroup=function isGroup(item){return Object.prototype.hasOwnProperty.call(item,"options")},isOptionShape=function isOptionShape(item){return!!item&&Object.prototype.hasOwnProperty.call(item,"key")},joinOptions=function joinOptions(_ref){var selected=_ref.selected,options=_ref.selectedMultiple||(selected?[selected]:[]);return options.length?options.reduce((function(acc,option,index){return(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(option.content)?acc.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(option.content,{key:option.key})):acc.push(option.content),index<options.length-1&&acc.push(", "),acc}),[]):null};function processOptions(options){var selected=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],flatOptions=[],selectedArray=Array.isArray(selected)?selected:[selected],selectedOptions=selectedArray.filter(isOptionShape),selectedKeys=selectedArray.filter((function(option){return"string"==typeof option})),process=function process(option){flatOptions.push(option),function isSelected(option){return selectedKeys.includes(option.key)}(option)&&selectedOptions.push(option)};return options.forEach((function(option){isGroup(option)?option.options.forEach(process):process(option)})),{flatOptions:flatOptions,selectedOptions:selectedOptions}}function useVisibleOptions(_ref2){var visibleOptions=_ref2.visibleOptions,listRef=_ref2.listRef,_ref2$styleTargetRef=_ref2.styleTargetRef,styleTargetRef=void 0===_ref2$styleTargetRef?listRef:_ref2$styleTargetRef,open=_ref2.open,invalidate=_ref2.invalidate;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var list=listRef.current,styleTarget=styleTargetRef.current;if(open&&list&&styleTarget&&visibleOptions>0){var childCount=list.children.length,optionsNodes=[].slice.call(list.children,0,visibleOptions+1),height=optionsNodes.slice(0,visibleOptions).reduce((function(acc,child){return acc+child.clientHeight}),0);if(visibleOptions<childCount){var lastVisibleOptionHeight=optionsNodes[optionsNodes.length-1].clientHeight;height+=Math.round(childCount-visibleOptions==1?lastVisibleOptionHeight:lastVisibleOptionHeight/2)}styleTarget.style.height="".concat(height,"px")}}),[listRef,open,styleTargetRef,visibleOptions,invalidate])}function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){ref.current=value}),[value]),ref.current}var lastIndexOf=function lastIndexOf(array,predicate){for(var i=array.length-1;i>=0;i--)if(predicate(array[i]))return i;return-1}}}]);
//# sourceMappingURL=7364.8a61c442.iframe.bundle.js.map