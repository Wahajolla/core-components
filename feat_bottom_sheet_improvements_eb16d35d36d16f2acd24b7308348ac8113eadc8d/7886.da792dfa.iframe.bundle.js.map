{"version":3,"file":"7886.da792dfa.iframe.bundle.js","mappings":"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","sources":["webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/footer/index.module.css?a066","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/footer/Component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/header/index.module.css?d35d","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/header/Component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/swipeable-backdrop/Component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/index.module.css?92ba","webpack://@alfalab/core-components/./packages/bottom-sheet/src/component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/utils.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer_EYWwT\",\"sticky\":\"sticky_ljels\",\"highlighted\":\"highlighted_h4PaX\",\"background-accent\":\"background-accent_IRTB2\",\"background-info\":\"background-info_BxFKe\",\"background-attention-muted\":\"background-attention-muted_mFX8v\",\"background-positive-muted\":\"background-positive-muted_MtM8T\",\"background-negative-muted\":\"background-negative-muted_gbmHw\",\"background-primary\":\"background-primary_jTzqP\",\"background-primary-inverted\":\"background-primary-inverted_WIsLZ\",\"background-secondary\":\"background-secondary_Is7Kr\",\"background-secondary-inverted\":\"background-secondary-inverted_wP2P2\",\"background-tertiary\":\"background-tertiary_EoGTT\",\"background-tertiary-inverted\":\"background-tertiary-inverted_rPdkJ\",\"background-quaternary\":\"background-quaternary_velAl\",\"background-quaternary-inverted\":\"background-quaternary-inverted_IzdcX\",\"background-specialbg-component\":\"background-specialbg-component_iGpGo\",\"background-specialbg-component-inverted\":\"background-specialbg-component-inverted_jaow6\",\"background-specialbg-primary-grouped\":\"background-specialbg-primary-grouped_XZlBo\",\"background-specialbg-secondary-grouped\":\"background-specialbg-secondary-grouped_KB8MM\",\"background-specialbg-tertiary-grouped\":\"background-specialbg-tertiary-grouped_XyzjB\",\"background-specialbg-secondary-transparent\":\"background-specialbg-secondary-transparent_jdwAW\",\"background-specialbg-secondary-transparent-inverted\":\"background-specialbg-secondary-transparent-inverted_Vcj1R\",\"background-specialbg-tertiary-transparent\":\"background-specialbg-tertiary-transparent_tMPth\",\"background-specialbg-tertiary-transparent-inverted\":\"background-specialbg-tertiary-transparent-inverted_VdyRs\"};","import React, { FC, ReactNode, useContext, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport { BaseModalContext } from '@alfalab/core-components-base-modal';\n\nimport styles from './index.module.css';\n\nexport type FooterProps = {\n    /**\n     * Контент футера\n     */\n    children?: ReactNode;\n\n    /**\n     * Фиксирует футер\n     */\n    sticky?: boolean;\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n};\n\nexport const Footer: FC<FooterProps> = ({ children, className, sticky }) => {\n    const { footerHighlighted, setHasFooter } = useContext(BaseModalContext);\n\n    useEffect(() => {\n        setHasFooter(true);\n    }, [setHasFooter]);\n\n    return (\n        <div\n            className={cn(styles.footer, className, {\n                [styles.sticky]: sticky,\n                [styles.highlighted]: footerHighlighted && sticky,\n            })}\n        >\n            {children}\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"headerWrapper\":\"headerWrapper_u42o_\",\"hasContent\":\"hasContent_xycGi\",\"header\":\"header_Fsm_R\",\"sticky\":\"sticky_ywtDm\",\"highlighted\":\"highlighted_CeuPq\",\"justifyEnd\":\"justifyEnd_WYCef\",\"addon\":\"addon_kfXFN\",\"addonFixed\":\"addonFixed_BGjwR\",\"title\":\"title_hgXk2\",\"titleCenter\":\"titleCenter_tunza\",\"titleLeft\":\"titleLeft_ilCHI\",\"trimTitle\":\"trimTitle_wNRrC\"};","import React, { FC, RefObject, useContext, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport { BaseModalContext } from '@alfalab/core-components-base-modal';\nimport { NavigationBar, NavigationBarProps } from '@alfalab/core-components-navigation-bar';\n\nimport styles from './index.module.css';\n\nexport type HeaderProps = Omit<NavigationBarProps, 'view' | 'size'> & {\n    headerRef: RefObject<HTMLDivElement>;\n    headerOffset: number;\n};\n\nexport const Header: FC<HeaderProps> = ({\n    className,\n    sticky,\n    headerRef,\n    headerOffset,\n    title,\n    children,\n    ...restProps\n}) => {\n    const { setHeaderOffset, setHasHeader, headerHighlighted, onClose } =\n        useContext(BaseModalContext);\n\n    useEffect(() => {\n        setHeaderOffset(headerOffset);\n    }, [headerOffset, setHeaderOffset]);\n\n    useEffect(() => {\n        setHasHeader(true);\n    }, [setHasHeader]);\n\n    const hasContent = Boolean(title || children);\n\n    return (\n        <NavigationBar\n            {...restProps}\n            ref={headerRef}\n            title={title}\n            onClose={onClose}\n            sticky={sticky}\n            view='mobile'\n            className={cn(styles.headerWrapper, className, {\n                [styles.highlighted]: hasContent && headerHighlighted && sticky,\n                [styles.sticky]: sticky,\n                [styles.hasContent]: hasContent,\n            })}\n            contentClassName={cn(styles.title)}\n        >\n            {children}\n        </NavigationBar>\n    );\n};\n","import React, { FC } from 'react';\nimport { SwipeableHandlers } from 'react-swipeable';\n\nimport { Backdrop, BackdropProps } from '@alfalab/core-components-backdrop';\n\nexport type SwipeableBackdropProps = BackdropProps & {\n    /**\n     * Прозрачность бэкдропа\n     */\n    opacity?: number;\n\n    /**\n     * Обработчики свайпа\n     */\n    handlers?: SwipeableHandlers;\n\n    /**\n     * Время анимации opacity\n     */\n    opacityTimeout?: number;\n};\n\nexport const SwipeableBackdrop: FC<SwipeableBackdropProps> = ({\n    opacity,\n    handlers,\n    opacityTimeout,\n    style,\n    ...backdropProps\n}) => (\n    <div\n        {...handlers}\n        style={{\n            opacity,\n            transition: opacity === 1 ? `opacity ${opacityTimeout}ms ease-in-out` : '',\n            position: 'relative',\n            ...style,\n        }}\n    >\n        <Backdrop {...backdropProps} />\n    </div>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"modal_ZUiBO\",\"wrapper\":\"wrapper_Eqjbb\",\"fullscreen\":\"fullscreen_M51tl\",\"component\":\"component_bYH0O\",\"withTransition\":\"withTransition_c4LfA\",\"scrollableContainer\":\"scrollableContainer_zfKkM\",\"marker\":\"marker_ueJ6U\",\"content\":\"content_A6u27\",\"noHeader\":\"noHeader_Phsn6\",\"noFooter\":\"noFooter_MtU_G\",\"scrollLocked\":\"scrollLocked_xxPNU\",\"hiddenScrollbar\":\"hiddenScrollbar_S9SP1\",\"disabledPointerEvents\":\"disabledPointerEvents_VC_SX\",\"appear\":\"appear_fqYtu\",\"enter\":\"enter_FFXII\",\"appearActive\":\"appearActive_qb0mZ\",\"enterActive\":\"enterActive_qcUe7\",\"enterDone\":\"enterDone_bLL9y\",\"appearDone\":\"appearDone_MBp7e\",\"exit\":\"exit_rIG2D\",\"exitActive\":\"exitActive_HL3dq\",\"background-accent\":\"background-accent_DVspm\",\"background-info\":\"background-info_zZbom\",\"background-attention-muted\":\"background-attention-muted_RHxJo\",\"background-positive-muted\":\"background-positive-muted_uRFPQ\",\"background-negative-muted\":\"background-negative-muted_SEt9F\",\"background-primary\":\"background-primary_h41QW\",\"background-primary-inverted\":\"background-primary-inverted_VEiht\",\"background-secondary\":\"background-secondary_HhgeY\",\"background-secondary-inverted\":\"background-secondary-inverted_YIUaW\",\"background-tertiary\":\"background-tertiary_X2B0w\",\"background-tertiary-inverted\":\"background-tertiary-inverted_XR_wf\",\"background-quaternary\":\"background-quaternary_bik4l\",\"background-quaternary-inverted\":\"background-quaternary-inverted_Y9WXN\",\"background-specialbg-component\":\"background-specialbg-component_fXDuh\",\"background-specialbg-component-inverted\":\"background-specialbg-component-inverted_vP5kG\",\"background-specialbg-primary-grouped\":\"background-specialbg-primary-grouped_indWF\",\"background-specialbg-secondary-grouped\":\"background-specialbg-secondary-grouped_U583x\",\"background-specialbg-tertiary-grouped\":\"background-specialbg-tertiary-grouped_iC_Xi\",\"background-specialbg-secondary-transparent\":\"background-specialbg-secondary-transparent_OGstJ\",\"background-specialbg-secondary-transparent-inverted\":\"background-specialbg-secondary-transparent-inverted_tlwR2\",\"background-specialbg-tertiary-transparent\":\"background-specialbg-tertiary-transparent_iacHv\",\"background-specialbg-tertiary-transparent-inverted\":\"background-specialbg-tertiary-transparent-inverted_aqK_q\"};","import React, {\n    CSSProperties,\n    forwardRef,\n    useEffect,\n    useImperativeHandle,\n    useMemo,\n    useRef,\n    useState,\n} from 'react';\nimport { use100vh } from 'react-div-100vh';\nimport mergeRefs from 'react-merge-refs';\nimport { SwipeCallback, SwipeDirections, TapCallback, useSwipeable } from 'react-swipeable';\nimport { HandledEvents } from 'react-swipeable/es/types';\nimport cn from 'classnames';\n\nimport { BaseModal } from '@alfalab/core-components-base-modal';\n\nimport { getDataTestId } from '../../utils';\n\nimport { Footer } from './components/footer/Component';\nimport { Header, HeaderProps } from './components/header/Component';\nimport { SwipeableBackdrop } from './components/swipeable-backdrop/Component';\nimport type { BottomSheetProps } from './types';\nimport {\n    CLOSE_OFFSET,\n    convertPercentToNumber,\n    MARKER_HEIGHT,\n    SCROLL_OFFSET,\n    SWIPE_VELOCITY,\n    TIMEOUT,\n} from './utils';\n\nimport styles from './index.module.css';\n\nexport const BottomSheet = forwardRef<HTMLDivElement, BottomSheetProps>(\n    (\n        {\n            open,\n            title,\n            container,\n            usePortal,\n            backgroundColor,\n            titleSize = 'default',\n            subtitle,\n            actionButton,\n            contentClassName,\n            containerClassName,\n            containerProps,\n            headerClassName,\n            footerClassName,\n            addonClassName,\n            closerClassName,\n            backerClassName,\n            modalClassName,\n            modalWrapperClassName,\n            className,\n            leftAddons,\n            rightAddons,\n            bottomAddons,\n            hasCloser,\n            hasBacker,\n            titleAlign = 'left',\n            trimTitle,\n            stickyHeader,\n            stickyFooter = true,\n            initialHeight = 'default',\n            hideOverlay,\n            hideScrollbar,\n            hideHeader,\n            disableOverlayClick,\n            disableBlockingScroll,\n            disableFocusLock,\n            children,\n            zIndex,\n            transitionProps = {},\n            magneticAreas: magneticAreasProp,\n            initialActiveAreaIndex,\n            dataTestId,\n            swipeable = true,\n            swipeableContent = true,\n            swipeThreshold = 5,\n            scrollLocked: scrollLockedProp,\n            backdropProps,\n            scrollableContainerRef = () => null,\n            bottomSheetInstanceRef,\n            sheetContainerRef = () => null,\n            headerOffset = 24,\n            onClose,\n            onBack,\n            onMagnetize,\n            onOffsetChange,\n        },\n        ref,\n    ) => {\n        const hasInitialIdx = initialActiveAreaIndex !== undefined;\n        const fullHeight = use100vh() || 0;\n        // Хук use100vh рассчитывает высоту вьюпорта в useEffect, поэтому на первый рендер всегда возвращает null.\n        const isFirstRender = fullHeight === 0;\n\n        const magneticAreas = useMemo(() => {\n            if (magneticAreasProp) {\n                return magneticAreasProp.map((area) =>\n                    convertPercentToNumber(area, fullHeight, headerOffset),\n                );\n            }\n\n            return [0, fullHeight - headerOffset];\n        }, [fullHeight, headerOffset, magneticAreasProp]);\n\n        const lastMagneticArea = magneticAreas[magneticAreas.length - 1];\n\n        const [sheetOffset, setSheetOffset] = useState(0);\n        const [backdropOpacity, setBackdropOpacity] = useState(1);\n        const [activeArea, setActiveArea] = useState(0);\n\n        const [swipingInProgress, setSwipingInProgress] = useState<boolean | null>(null);\n        const scrollOccurred = useRef<boolean>(false);\n        const headerRef = useRef<HTMLDivElement>(null);\n        const contentRef = useRef<HTMLDivElement>(null);\n        const sheetHeight = useRef(0);\n        const sheetRef = useRef<HTMLDivElement>(null);\n        const scrollableContainer = useRef<HTMLDivElement | null>(null);\n\n        const emptyHeader = !hasCloser && !leftAddons && !title && !hasBacker && !rightAddons;\n\n        const titleIsReactElement = React.isValidElement(title);\n\n        const headerProps: HeaderProps = {\n            ...(titleIsReactElement\n                ? { children: title }\n                : { title: title ? title?.toString() : undefined }),\n            scrollableParentRef: scrollableContainer,\n            headerRef,\n            headerOffset,\n            className: headerClassName,\n            addonClassName,\n            closerClassName,\n            backButtonClassName: backerClassName,\n            leftAddons,\n            rightAddons,\n            bottomAddons,\n            hasCloser,\n            hasBackButton: hasBacker,\n            align: titleAlign,\n            trim: trimTitle,\n            sticky: stickyHeader,\n            dataTestId: getDataTestId(dataTestId, 'header'),\n            onBack,\n            titleSize,\n            subtitle,\n            onClose,\n        };\n\n        const getBackdropOpacity = (offset: number): number => {\n            const canClose = magneticAreas[0] === 0;\n            const secondArea = magneticAreas[1];\n            const isSecondArea = secondArea === activeArea;\n\n            if (canClose && isSecondArea && sheetOffset > lastMagneticArea - secondArea) {\n                const opacity = 1 - (offset - (lastMagneticArea - secondArea)) / secondArea;\n\n                return Math.max(0, Number(opacity.toFixed(2)));\n            }\n\n            return 1;\n        };\n\n        const getSheetOffset = (deltaY: number): number => {\n            let offset = lastMagneticArea - activeArea + deltaY;\n            const maxOffset = magneticAreas[0] === 0 ? 0 : lastMagneticArea - magneticAreas[0];\n\n            if (maxOffset) {\n                offset = Math.min(maxOffset, offset);\n            }\n\n            return Math.max(0, Math.round(offset));\n        };\n\n        const getActiveAreaIndex = (area: number) => magneticAreas.findIndex((a) => a === area);\n\n        const setSheetHeight = () => {\n            if (sheetRef.current) {\n                sheetHeight.current = sheetRef.current.getBoundingClientRect().height - sheetOffset;\n            }\n        };\n\n        const scrollToArea = (idx: number) => {\n            setSwipingInProgress(false);\n            const nextArea = magneticAreas[idx];\n\n            if (nextArea === 0) {\n                onClose();\n\n                return;\n            }\n\n            if (nextArea) {\n                setActiveArea(nextArea);\n                setSheetOffset(lastMagneticArea - nextArea);\n                onMagnetize?.(getActiveAreaIndex(nextArea));\n            }\n        };\n\n        const magnetize = (dir: SwipeDirections, velocity: number, deltaY: number) => {\n            const shouldMagnetizeDownByVelocity = dir === 'Down' && velocity >= SWIPE_VELOCITY;\n            const shouldMagnetizeUpByVelocity = dir === 'Up' && velocity >= SWIPE_VELOCITY;\n\n            if (shouldMagnetizeDownByVelocity) {\n                const nextArea = magneticAreas\n                    .slice()\n                    .reverse()\n                    .find((area) => area < activeArea);\n\n                if (nextArea === 0) {\n                    onClose();\n\n                    return;\n                }\n\n                const offset = nextArea\n                    ? lastMagneticArea - nextArea\n                    : lastMagneticArea - activeArea;\n\n                setSheetOffset(offset);\n                setActiveArea((prevState) => nextArea ?? prevState);\n\n                if (nextArea) {\n                    onMagnetize?.(getActiveAreaIndex(nextArea));\n                }\n\n                return;\n            }\n\n            if (shouldMagnetizeUpByVelocity) {\n                const nextArea = magneticAreas.find((area) => area > activeArea);\n\n                const offset = nextArea ? lastMagneticArea - nextArea : 0;\n\n                setSheetOffset(offset);\n                setActiveArea((prevState) => nextArea ?? prevState);\n\n                if (nextArea) {\n                    onMagnetize?.(getActiveAreaIndex(nextArea));\n                }\n\n                return;\n            }\n\n            const offset = getSheetOffset(deltaY);\n            const currentSheetHeight = lastMagneticArea - offset;\n            const secondArea = magneticAreas[1];\n            const isSecondArea = activeArea === secondArea;\n            const canClose = magneticAreas[0] === 0 && dir === 'Down';\n            const shouldCloseByOffset =\n                isSecondArea && canClose && 1 - currentSheetHeight / activeArea > CLOSE_OFFSET;\n\n            if (shouldCloseByOffset) {\n                onClose();\n\n                return;\n            }\n\n            const { nearestArea } = magneticAreas.reduceRight(\n                (res, area) => {\n                    if (Math.abs(area - currentSheetHeight) < res.minOffset) {\n                        res.minOffset = area - currentSheetHeight;\n                        res.nearestArea = area;\n                    }\n\n                    return res;\n                },\n                {\n                    nearestArea: lastMagneticArea,\n                    minOffset: lastMagneticArea,\n                },\n            );\n\n            if (nearestArea === 0) {\n                onClose();\n            } else {\n                setSheetOffset(lastMagneticArea - nearestArea);\n                setActiveArea(nearestArea);\n                setBackdropOpacity(1);\n                onMagnetize?.(getActiveAreaIndex(nearestArea));\n            }\n        };\n\n        /**\n         * Если контент внутри шторки скроллится - то шторка не должна свайпаться\n         * Если шапка внутри шторки зафиксирована - то шторка должна свайпаться только в области шапки\n         */\n        const shouldSkipSwiping = (dir: SwipeDirections, startY: number, event: HandledEvents) => {\n            if (!swipeable) return true;\n\n            if (!swipeableContent && contentRef.current?.contains(event.target as HTMLElement)) {\n                return true;\n            }\n\n            if (scrollLockedProp || swipingInProgress) return false;\n\n            const scrollableNode = scrollableContainer.current;\n            // Точка верхней границы (y координата)\n            const bottomSheetTopY = fullHeight - sheetHeight.current;\n\n            if (\n                !scrollableNode ||\n                (!stickyHeader && Math.abs(bottomSheetTopY - startY) <= MARKER_HEIGHT) ||\n                (stickyHeader &&\n                    headerRef.current &&\n                    Math.abs(bottomSheetTopY - startY) <= headerRef.current.clientHeight)\n            ) {\n                return false;\n            }\n\n            const shouldScroll =\n                dir === 'Down'\n                    ? scrollableNode.scrollTop > 0\n                    : scrollableNode.scrollHeight -\n                          scrollableNode.scrollTop -\n                          scrollableNode.clientHeight >\n                      SCROLL_OFFSET;\n\n            if (!scrollOccurred.current && shouldScroll) {\n                scrollOccurred.current = true;\n            }\n\n            return shouldScroll;\n        };\n\n        const handleSheetSwipe: SwipeCallback = ({ dir, initial, velocity, deltaY, event }) => {\n            if (scrollOccurred.current || shouldSkipSwiping(dir, initial[1], event)) {\n                return;\n            }\n\n            magnetize(dir, velocity, deltaY);\n        };\n\n        const handleSheetSwipeStart: SwipeCallback = ({ dir, initial, event }) => {\n            if (shouldSkipSwiping(dir, initial[1], event)) {\n                return;\n            }\n\n            setSwipingInProgress(true);\n        };\n\n        const handleTouchEnd: TapCallback = () => {\n            setSwipingInProgress(false);\n            scrollOccurred.current = false;\n        };\n\n        const handleSheetSwiping: SwipeCallback = ({ initial, deltaY, dir, event }) => {\n            if (scrollOccurred.current || shouldSkipSwiping(dir, initial[1], event)) {\n                return;\n            }\n\n            const offset = getSheetOffset(deltaY);\n            const opacity = getBackdropOpacity(offset);\n\n            setSheetOffset(offset);\n            setBackdropOpacity(opacity);\n        };\n\n        const sheetSwipeableHandlers = useSwipeable({\n            onSwipeStart: handleSheetSwipeStart,\n            onSwiping: handleSheetSwiping,\n            onSwipedDown: handleSheetSwipe,\n            onSwipedUp: handleSheetSwipe,\n            onTouchEndOrOnMouseUp: handleTouchEnd,\n            trackMouse: swipeable,\n            delta: swipeThreshold,\n        });\n\n        const handleExited = (node: HTMLElement) => {\n            const idx = initialActiveAreaIndex as number;\n            const nextArea = hasInitialIdx ? magneticAreas[idx] : lastMagneticArea;\n\n            setBackdropOpacity(1);\n            setSheetOffset(\n                hasInitialIdx ? lastMagneticArea - magneticAreas[idx] : magneticAreas[0],\n            );\n            setActiveArea(nextArea);\n            if (transitionProps.onExited) {\n                transitionProps.onExited(node);\n            }\n        };\n\n        const handleEnter = (node: HTMLElement, isAppearing: boolean) => {\n            onMagnetize?.(initialActiveAreaIndex || magneticAreas.length - 1);\n\n            if (transitionProps.onEnter) {\n                transitionProps.onEnter(node, isAppearing);\n            }\n        };\n\n        const handleExit = (node: HTMLElement) => {\n            onMagnetize?.(0);\n\n            if (transitionProps.onExit) {\n                transitionProps.onExit(node);\n            }\n        };\n\n        const handleEntered = (node: HTMLElement, isAppearing: boolean) => {\n            setBackdropOpacity(1);\n            setSheetHeight();\n            // Ready for swiping\n            setSwipingInProgress(false);\n\n            if (transitionProps.onEntered) {\n                transitionProps.onEntered(node, isAppearing);\n            }\n        };\n\n        useEffect(() => {\n            // Инициализируем стейт только после того, как была рассчитана высота вьюпорта.\n            if (!isFirstRender) {\n                setSheetOffset(\n                    hasInitialIdx ? lastMagneticArea - magneticAreas[initialActiveAreaIndex] : 0,\n                );\n\n                setActiveArea(\n                    hasInitialIdx ? magneticAreas[initialActiveAreaIndex] : lastMagneticArea,\n                );\n            }\n\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [isFirstRender]);\n\n        useEffect(() => {\n            if (!sheetRef.current) return;\n\n            const maxOffset = fullHeight - headerOffset;\n\n            const offset = open ? sheetOffset : maxOffset;\n\n            const percent = (offset / maxOffset) * 100;\n\n            onOffsetChange?.(offset, percent);\n        }, [fullHeight, headerOffset, onOffsetChange, open, sheetOffset]);\n\n        useImperativeHandle(bottomSheetInstanceRef, () => ({\n            scrollToArea,\n        }));\n\n        const getSwipeStyles = (): CSSProperties =>\n            sheetOffset ? { transform: `translateY(${sheetOffset}px)` } : {};\n\n        const getHeightStyles = (): CSSProperties => ({\n            height: !isFirstRender && initialHeight === 'full' ? `${lastMagneticArea}px` : 'unset',\n            maxHeight: isFirstRender ? 0 : `${lastMagneticArea}px`,\n        });\n\n        const bgClassName = backgroundColor && styles[`background-${backgroundColor}`];\n\n        return (\n            <BaseModal\n                open={open}\n                ref={ref}\n                container={container}\n                dataTestId={dataTestId}\n                zIndex={zIndex}\n                onClose={onClose}\n                usePortal={usePortal}\n                scrollHandler={scrollableContainer}\n                Backdrop={SwipeableBackdrop}\n                backdropProps={{\n                    ...backdropProps,\n                    className: styles.disabledPointerEvents,\n                    opacity: backdropOpacity,\n                    opacityTimeout: TIMEOUT,\n                    invisible: hideOverlay,\n                }}\n                disableBackdropClick={hideOverlay ? true : disableOverlayClick}\n                className={cn(styles.modal, modalClassName)}\n                wrapperClassName={cn(modalWrapperClassName, {\n                    [styles.disabledPointerEvents]: hideOverlay,\n                })}\n                disableBlockingScroll={disableBlockingScroll}\n                disableFocusLock={disableFocusLock}\n                transitionProps={{\n                    appear: true,\n                    timeout: TIMEOUT,\n                    classNames: styles,\n                    ...transitionProps,\n                    onExited: handleExited,\n                    onEntered: handleEntered,\n                    onEnter: handleEnter,\n                    onExit: handleExit,\n                }}\n            >\n                <div\n                    style={{ ...getHeightStyles() }}\n                    className={cn(styles.wrapper, {\n                        [styles.fullscreen]: headerOffset === 0 && sheetOffset === 0,\n                    })}\n                    onTransitionEnd={setSheetHeight}\n                >\n                    <div\n                        className={cn(styles.component, bgClassName, className, {\n                            [styles.withTransition]: swipingInProgress === false,\n                        })}\n                        style={{\n                            ...getSwipeStyles(),\n                            ...getHeightStyles(),\n                        }}\n                        {...sheetSwipeableHandlers}\n                        ref={mergeRefs([sheetRef, sheetContainerRef, sheetSwipeableHandlers.ref])}\n                        onTransitionEnd={setSheetHeight}\n                    >\n                        <div\n                            {...containerProps}\n                            className={cn(\n                                styles.scrollableContainer,\n                                containerProps?.className,\n                                containerClassName,\n                                {\n                                    [styles.scrollLocked]: scrollLockedProp || swipingInProgress,\n                                    [styles.hiddenScrollbar]: hideScrollbar,\n                                },\n                            )}\n                            ref={mergeRefs([scrollableContainer, scrollableContainerRef])}\n                        >\n                            {swipeable && <div className={cn(styles.marker)} />}\n\n                            {!hideHeader && !emptyHeader && <Header {...headerProps} />}\n\n                            <div\n                                ref={contentRef}\n                                className={cn(styles.content, contentClassName, {\n                                    [styles.noHeader]: hideHeader || emptyHeader,\n                                    [styles.noFooter]: !actionButton,\n                                })}\n                            >\n                                {children}\n                            </div>\n\n                            {actionButton && (\n                                <Footer\n                                    sticky={stickyFooter}\n                                    className={cn(bgClassName, footerClassName)}\n                                >\n                                    {actionButton}\n                                </Footer>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </BaseModal>\n        );\n    },\n);\n","export const TIMEOUT = 500;\nexport const SWIPE_VELOCITY = 0.4;\nexport const MARKER_HEIGHT = 24;\nexport const CLOSE_OFFSET = 0.2;\nexport const SCROLL_OFFSET = 1;\nexport const HEADER_OFFSET = 24;\n\nexport const convertPercentToNumber = (\n    value: string | number,\n    fullHeight: number,\n    headerOffset = HEADER_OFFSET,\n) => {\n    const maxHeight = fullHeight - headerOffset;\n\n    if (typeof value === 'string') {\n        const percent = parseFloat(value) / 100;\n\n        if (percent < 0) {\n            return Math.min(maxHeight, fullHeight + fullHeight * percent);\n        }\n\n        return Math.min(maxHeight, fullHeight * percent);\n    }\n\n    if (value < 0) {\n        return Math.max(0, fullHeight + value);\n    }\n\n    return Math.min(maxHeight, value);\n};\n"],"names":["Footer","_ref","_cn","children","className","sticky","_useContext","useContext","BaseModalContext","footerHighlighted","setHasFooter","useEffect","_jsx","cn","styles","_defineProperty","Header","headerRef","headerOffset","title","restProps","_objectWithoutProperties","_excluded","setHeaderOffset","setHasHeader","headerHighlighted","onClose","hasContent","Boolean","NavigationBar","_objectSpread","ref","view","contentClassName","SwipeableBackdrop","opacity","handlers","opacityTimeout","style","backdropProps","transition","concat","position","Backdrop","BottomSheet","forwardRef","_cn4","_cn5","open","container","usePortal","backgroundColor","_ref$titleSize","titleSize","subtitle","actionButton","containerClassName","containerProps","headerClassName","footerClassName","addonClassName","closerClassName","backerClassName","modalClassName","modalWrapperClassName","leftAddons","rightAddons","bottomAddons","hasCloser","hasBacker","_ref$titleAlign","titleAlign","trimTitle","stickyHeader","_ref$stickyFooter","stickyFooter","_ref$initialHeight","initialHeight","hideOverlay","hideScrollbar","hideHeader","disableOverlayClick","disableBlockingScroll","disableFocusLock","zIndex","_ref$transitionProps","transitionProps","magneticAreasProp","magneticAreas","initialActiveAreaIndex","dataTestId","_ref$swipeable","swipeable","_ref$swipeableContent","swipeableContent","_ref$swipeThreshold","swipeThreshold","scrollLockedProp","scrollLocked","_ref$scrollableContai","scrollableContainerRef","bottomSheetInstanceRef","_ref$sheetContainerRe","sheetContainerRef","_ref$headerOffset","onBack","onMagnetize","onOffsetChange","hasInitialIdx","undefined","fullHeight","use100vh","isFirstRender","useMemo","map","area","convertPercentToNumber","lastMagneticArea","length","_useState","useState","_useState2","_slicedToArray","sheetOffset","setSheetOffset","_useState3","_useState4","backdropOpacity","setBackdropOpacity","_useState5","_useState6","activeArea","setActiveArea","_useState7","_useState8","swipingInProgress","setSwipingInProgress","scrollOccurred","useRef","contentRef","sheetHeight","sheetRef","scrollableContainer","emptyHeader","titleIsReactElement","React","headerProps","toString","scrollableParentRef","backButtonClassName","hasBackButton","align","trim","getDataTestId","getSheetOffset","deltaY","offset","maxOffset","Math","min","max","round","getActiveAreaIndex","findIndex","a","setSheetHeight","current","getBoundingClientRect","height","scrollToArea","idx","nextArea","shouldSkipSwiping","dir","startY","event","_contentRef$current","contains","target","scrollableNode","bottomSheetTopY","abs","MARKER_HEIGHT","clientHeight","shouldScroll","scrollTop","scrollHeight","SCROLL_OFFSET","handleSheetSwipe","_ref2","initial","velocity","magnetize","shouldMagnetizeDownByVelocity","SWIPE_VELOCITY","shouldMagnetizeUpByVelocity","slice","reverse","find","prevState","currentSheetHeight","secondArea","isSecondArea","canClose","CLOSE_OFFSET","nearestArea","reduceRight","res","minOffset","sheetSwipeableHandlers","useSwipeable","onSwipeStart","handleSheetSwipeStart","_ref3","onSwiping","handleSheetSwiping","_ref4","getBackdropOpacity","Number","toFixed","onSwipedDown","onSwipedUp","onTouchEndOrOnMouseUp","handleTouchEnd","trackMouse","delta","useImperativeHandle","getHeightStyles","maxHeight","bgClassName","BaseModal","scrollHandler","TIMEOUT","invisible","disableBackdropClick","wrapperClassName","appear","timeout","classNames","onExited","handleExited","node","onEntered","handleEntered","isAppearing","onEnter","handleEnter","onExit","handleExit","onTransitionEnd","getSwipeStyles","transform","mergeRefs","_jsxs","HEADER_OFFSET","value","arguments","percent","parseFloat"],"sourceRoot":""}