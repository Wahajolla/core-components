{"version":3,"file":"7886.403e1b04.iframe.bundle.js","mappings":"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","sources":["webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/footer/index.module.css?a066","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/footer/Component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/header/index.module.css?d35d","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/header/Component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/components/swipeable-backdrop/Component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/index.module.css?92ba","webpack://@alfalab/core-components/./packages/bottom-sheet/src/component.tsx","webpack://@alfalab/core-components/./packages/bottom-sheet/src/utils.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer_EYWwT\",\"sticky\":\"sticky_ljels\",\"highlighted\":\"highlighted_h4PaX\",\"background-accent\":\"background-accent_IRTB2\",\"background-info\":\"background-info_BxFKe\",\"background-attention-muted\":\"background-attention-muted_mFX8v\",\"background-positive-muted\":\"background-positive-muted_MtM8T\",\"background-negative-muted\":\"background-negative-muted_gbmHw\",\"background-primary\":\"background-primary_jTzqP\",\"background-primary-inverted\":\"background-primary-inverted_WIsLZ\",\"background-secondary\":\"background-secondary_Is7Kr\",\"background-secondary-inverted\":\"background-secondary-inverted_wP2P2\",\"background-tertiary\":\"background-tertiary_EoGTT\",\"background-tertiary-inverted\":\"background-tertiary-inverted_rPdkJ\",\"background-quaternary\":\"background-quaternary_velAl\",\"background-quaternary-inverted\":\"background-quaternary-inverted_IzdcX\",\"background-specialbg-component\":\"background-specialbg-component_iGpGo\",\"background-specialbg-component-inverted\":\"background-specialbg-component-inverted_jaow6\",\"background-specialbg-primary-grouped\":\"background-specialbg-primary-grouped_XZlBo\",\"background-specialbg-secondary-grouped\":\"background-specialbg-secondary-grouped_KB8MM\",\"background-specialbg-tertiary-grouped\":\"background-specialbg-tertiary-grouped_XyzjB\",\"background-specialbg-secondary-transparent\":\"background-specialbg-secondary-transparent_jdwAW\",\"background-specialbg-secondary-transparent-inverted\":\"background-specialbg-secondary-transparent-inverted_Vcj1R\",\"background-specialbg-tertiary-transparent\":\"background-specialbg-tertiary-transparent_tMPth\",\"background-specialbg-tertiary-transparent-inverted\":\"background-specialbg-tertiary-transparent-inverted_VdyRs\"};","import React, { FC, ReactNode, useContext, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport { BaseModalContext } from '@alfalab/core-components-base-modal';\n\nimport styles from './index.module.css';\n\nexport type FooterProps = {\n    /**\n     * Контент футера\n     */\n    children?: ReactNode;\n\n    /**\n     * Фиксирует футер\n     */\n    sticky?: boolean;\n\n    /**\n     * Дополнительный класс\n     */\n    className?: string;\n};\n\nexport const Footer: FC<FooterProps> = ({ children, className, sticky }) => {\n    const { footerHighlighted, setHasFooter } = useContext(BaseModalContext);\n\n    useEffect(() => {\n        setHasFooter(true);\n    }, [setHasFooter]);\n\n    return (\n        <div\n            className={cn(styles.footer, className, {\n                [styles.sticky]: sticky,\n                [styles.highlighted]: footerHighlighted && sticky,\n            })}\n        >\n            {children}\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"headerWrapper\":\"headerWrapper_u42o_\",\"hasContent\":\"hasContent_xycGi\",\"header\":\"header_Fsm_R\",\"sticky\":\"sticky_ywtDm\",\"highlighted\":\"highlighted_CeuPq\",\"justifyEnd\":\"justifyEnd_WYCef\",\"addon\":\"addon_kfXFN\",\"addonFixed\":\"addonFixed_BGjwR\",\"title\":\"title_hgXk2\",\"titleCenter\":\"titleCenter_tunza\",\"titleLeft\":\"titleLeft_ilCHI\",\"trimTitle\":\"trimTitle_wNRrC\"};","import React, { FC, RefObject, useContext, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport { BaseModalContext } from '@alfalab/core-components-base-modal';\nimport { NavigationBar, NavigationBarProps } from '@alfalab/core-components-navigation-bar';\n\nimport { HEADER_OFFSET } from '../../utils';\n\nimport styles from './index.module.css';\n\nexport type HeaderProps = Omit<NavigationBarProps, 'view' | 'size'> & {\n    headerRef: RefObject<HTMLDivElement>;\n};\n\nexport const Header: FC<HeaderProps> = ({\n    className,\n    sticky,\n    headerRef,\n    title,\n    children,\n    ...restProps\n}) => {\n    const { setHeaderOffset, setHasHeader, headerHighlighted, onClose } =\n        useContext(BaseModalContext);\n\n    useEffect(() => {\n        setHeaderOffset(HEADER_OFFSET);\n    }, [setHeaderOffset]);\n\n    useEffect(() => {\n        setHasHeader(true);\n    }, [setHasHeader]);\n\n    const hasContent = Boolean(title || children);\n\n    return (\n        <NavigationBar\n            {...restProps}\n            ref={headerRef}\n            title={title}\n            onClose={onClose}\n            sticky={sticky}\n            view='mobile'\n            className={cn(styles.headerWrapper, className, {\n                [styles.highlighted]: hasContent && headerHighlighted && sticky,\n                [styles.sticky]: sticky,\n                [styles.hasContent]: hasContent,\n            })}\n            contentClassName={cn(styles.title)}\n        >\n            {children}\n        </NavigationBar>\n    );\n};\n","import React, { FC } from 'react';\nimport { SwipeableHandlers } from 'react-swipeable';\n\nimport { Backdrop, BackdropProps } from '@alfalab/core-components-backdrop';\n\nexport type SwipeableBackdropProps = BackdropProps & {\n    /**\n     * Прозрачность бэкдропа\n     */\n    opacity?: number;\n\n    /**\n     * Обработчики свайпа\n     */\n    handlers?: SwipeableHandlers;\n\n    /**\n     * Время анимации opacity\n     */\n    opacityTimeout?: number;\n};\n\nexport const SwipeableBackdrop: FC<SwipeableBackdropProps> = ({\n    opacity,\n    handlers,\n    opacityTimeout,\n    style,\n    ...backdropProps\n}) => (\n    <div\n        {...handlers}\n        style={{\n            opacity,\n            transition: opacity === 1 ? `opacity ${opacityTimeout}ms ease-in-out` : '',\n            position: 'relative',\n            ...style,\n        }}\n    >\n        <Backdrop {...backdropProps} />\n    </div>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"modal_ZUiBO\",\"wrapper\":\"wrapper_Eqjbb\",\"component\":\"component_bYH0O\",\"withTransition\":\"withTransition_c4LfA\",\"scrollableContainer\":\"scrollableContainer_zfKkM\",\"marker\":\"marker_ueJ6U\",\"content\":\"content_A6u27\",\"noHeader\":\"noHeader_Phsn6\",\"noFooter\":\"noFooter_MtU_G\",\"scrollLocked\":\"scrollLocked_xxPNU\",\"hiddenScrollbar\":\"hiddenScrollbar_S9SP1\",\"disabledPointerEvents\":\"disabledPointerEvents_VC_SX\",\"appear\":\"appear_fqYtu\",\"enter\":\"enter_FFXII\",\"appearActive\":\"appearActive_qb0mZ\",\"enterActive\":\"enterActive_qcUe7\",\"enterDone\":\"enterDone_bLL9y\",\"appearDone\":\"appearDone_MBp7e\",\"exit\":\"exit_rIG2D\",\"exitActive\":\"exitActive_HL3dq\",\"background-accent\":\"background-accent_DVspm\",\"background-info\":\"background-info_zZbom\",\"background-attention-muted\":\"background-attention-muted_RHxJo\",\"background-positive-muted\":\"background-positive-muted_uRFPQ\",\"background-negative-muted\":\"background-negative-muted_SEt9F\",\"background-primary\":\"background-primary_h41QW\",\"background-primary-inverted\":\"background-primary-inverted_VEiht\",\"background-secondary\":\"background-secondary_HhgeY\",\"background-secondary-inverted\":\"background-secondary-inverted_YIUaW\",\"background-tertiary\":\"background-tertiary_X2B0w\",\"background-tertiary-inverted\":\"background-tertiary-inverted_XR_wf\",\"background-quaternary\":\"background-quaternary_bik4l\",\"background-quaternary-inverted\":\"background-quaternary-inverted_Y9WXN\",\"background-specialbg-component\":\"background-specialbg-component_fXDuh\",\"background-specialbg-component-inverted\":\"background-specialbg-component-inverted_vP5kG\",\"background-specialbg-primary-grouped\":\"background-specialbg-primary-grouped_indWF\",\"background-specialbg-secondary-grouped\":\"background-specialbg-secondary-grouped_U583x\",\"background-specialbg-tertiary-grouped\":\"background-specialbg-tertiary-grouped_iC_Xi\",\"background-specialbg-secondary-transparent\":\"background-specialbg-secondary-transparent_OGstJ\",\"background-specialbg-secondary-transparent-inverted\":\"background-specialbg-secondary-transparent-inverted_tlwR2\",\"background-specialbg-tertiary-transparent\":\"background-specialbg-tertiary-transparent_iacHv\",\"background-specialbg-tertiary-transparent-inverted\":\"background-specialbg-tertiary-transparent-inverted_aqK_q\"};","import React, {\n    CSSProperties,\n    forwardRef,\n    useEffect,\n    useImperativeHandle,\n    useMemo,\n    useRef,\n    useState,\n} from 'react';\nimport { use100vh } from 'react-div-100vh';\nimport mergeRefs from 'react-merge-refs';\nimport { SwipeCallback, SwipeDirections, useSwipeable } from 'react-swipeable';\nimport cn from 'classnames';\n\nimport { BaseModal } from '@alfalab/core-components-base-modal';\n\nimport { getDataTestId } from '../../utils';\n\nimport { Footer } from './components/footer/Component';\nimport { Header, HeaderProps } from './components/header/Component';\nimport { SwipeableBackdrop } from './components/swipeable-backdrop/Component';\nimport type { BottomSheetProps } from './types';\nimport {\n    CLOSE_OFFSET,\n    convertPercentToNumber,\n    HEADER_OFFSET,\n    MARKER_HEIGHT,\n    SCROLL_OFFSET,\n    SWIPE_VELOCITY,\n    TIMEOUT,\n} from './utils';\n\nimport styles from './index.module.css';\n\nexport const BottomSheet = forwardRef<HTMLDivElement, BottomSheetProps>(\n    (\n        {\n            open,\n            title,\n            container,\n            usePortal,\n            backgroundColor,\n            titleSize = 'default',\n            subtitle,\n            actionButton,\n            contentClassName,\n            containerClassName,\n            containerProps,\n            headerClassName,\n            footerClassName,\n            addonClassName,\n            closerClassName,\n            backerClassName,\n            modalClassName,\n            modalWrapperClassName,\n            className,\n            leftAddons,\n            rightAddons,\n            bottomAddons,\n            hasCloser,\n            hasBacker,\n            titleAlign = 'left',\n            trimTitle,\n            stickyHeader,\n            stickyFooter = true,\n            initialHeight = 'default',\n            hideOverlay,\n            hideScrollbar,\n            hideHeader,\n            disableOverlayClick,\n            disableBlockingScroll,\n            disableFocusLock,\n            children,\n            zIndex,\n            transitionProps = {},\n            magneticAreas: magneticAreasProp,\n            initialActiveAreaIndex,\n            dataTestId,\n            swipeable = true,\n            scrollLocked: scrollLockedProp,\n            backdropProps,\n            scrollableContainerRef = () => null,\n            bottomSheetInstanceRef,\n            sheetContainerRef = () => null,\n            onClose,\n            onBack,\n            onMagnetize,\n        },\n        ref,\n    ) => {\n        const hasInitialIdx = initialActiveAreaIndex !== undefined;\n        const fullHeight = use100vh() || 0;\n        // Хук use100vh рассчитывает высоту вьюпорта в useEffect, поэтому на первый рендер всегда возвращает null.\n        const isFirstRender = fullHeight === 0;\n\n        const magneticAreas = useMemo(() => {\n            if (magneticAreasProp) {\n                return magneticAreasProp.map((area) => convertPercentToNumber(area, fullHeight));\n            }\n\n            return [0, fullHeight - HEADER_OFFSET];\n        }, [fullHeight, magneticAreasProp]);\n\n        const lastMagneticArea = magneticAreas[magneticAreas.length - 1];\n\n        const [sheetOffset, setSheetOffset] = useState(0);\n        const [backdropOpacity, setBackdropOpacity] = useState(1);\n        const [activeArea, setActiveArea] = useState(0);\n\n        const swipingInProgress = useRef<boolean | null>(null);\n        const headerRef = useRef<HTMLDivElement>(null);\n        const sheetHeight = useRef(0);\n        const sheetRef = useRef<HTMLDivElement>(null);\n        const scrollableContainer = useRef<HTMLDivElement | null>(null);\n\n        const emptyHeader = !hasCloser && !leftAddons && !title && !hasBacker && !rightAddons;\n\n        const titleIsReactElement = React.isValidElement(title);\n\n        const headerProps: HeaderProps = {\n            ...(titleIsReactElement\n                ? { children: title }\n                : { title: title ? title?.toString() : undefined }),\n            scrollableParentRef: scrollableContainer,\n            headerRef,\n            className: headerClassName,\n            addonClassName,\n            closerClassName,\n            backButtonClassName: backerClassName,\n            leftAddons,\n            rightAddons,\n            bottomAddons,\n            hasCloser,\n            hasBackButton: hasBacker,\n            align: titleAlign,\n            trim: trimTitle,\n            sticky: stickyHeader,\n            dataTestId: getDataTestId(dataTestId, 'header'),\n            onBack,\n            titleSize,\n            subtitle,\n            onClose,\n        };\n\n        const getBackdropOpacity = (offset: number): number => {\n            const canClose = magneticAreas[0] === 0;\n            const secondArea = magneticAreas[1];\n            const isSecondArea = secondArea === activeArea;\n\n            if (canClose && isSecondArea && sheetOffset > lastMagneticArea - secondArea) {\n                const opacity = 1 - (offset - (lastMagneticArea - secondArea)) / secondArea;\n\n                return Math.max(0, Number(opacity.toFixed(2)));\n            }\n\n            return 1;\n        };\n\n        const getSheetOffset = (deltaY: number): number => {\n            let offset = lastMagneticArea - activeArea + deltaY;\n            const maxOffset = magneticAreas[0] === 0 ? 0 : lastMagneticArea - magneticAreas[0];\n\n            if (maxOffset) {\n                offset = Math.min(maxOffset, offset);\n            }\n\n            return Math.max(0, Math.round(offset));\n        };\n\n        const getActiveAreaIndex = (area?: number) => magneticAreas.findIndex((a) => a === area);\n\n        const setSheetHeight = () => {\n            if (sheetRef.current) {\n                sheetHeight.current = sheetRef.current.getBoundingClientRect().height - sheetOffset;\n            }\n        };\n\n        const scrollToArea = (idx: number) => {\n            swipingInProgress.current = false;\n            const nextArea = magneticAreas[idx];\n\n            if (nextArea === 0) {\n                onClose();\n\n                return;\n            }\n\n            if (nextArea) {\n                setActiveArea(nextArea);\n                setSheetOffset(lastMagneticArea - nextArea);\n            }\n        };\n\n        const magnetize = (dir: SwipeDirections, velocity: number, deltaY: number) => {\n            const shouldMagnetizeDownByVelocity = dir === 'Down' && velocity >= SWIPE_VELOCITY;\n            const shouldMagnetizeUpByVelocity = dir === 'Up' && velocity >= SWIPE_VELOCITY;\n\n            if (shouldMagnetizeDownByVelocity) {\n                const nextArea = magneticAreas\n                    .slice()\n                    .reverse()\n                    .find((area) => area < activeArea);\n\n                if (nextArea === 0) {\n                    onClose();\n\n                    return;\n                }\n\n                const offset = nextArea\n                    ? lastMagneticArea - nextArea\n                    : lastMagneticArea - activeArea;\n\n                setSheetOffset(offset);\n                setActiveArea((prevState) => nextArea ?? prevState);\n\n                return;\n            }\n\n            if (shouldMagnetizeUpByVelocity) {\n                const nextArea = magneticAreas.find((area) => area > activeArea);\n                const offset = nextArea ? lastMagneticArea - nextArea : 0;\n\n                setSheetOffset(offset);\n                setActiveArea((prevState) => nextArea ?? prevState);\n\n                return;\n            }\n\n            const offset = getSheetOffset(deltaY);\n            const currentSheetHeight = lastMagneticArea - offset;\n            const secondArea = magneticAreas[1];\n            const isSecondArea = activeArea === secondArea;\n            const canClose = magneticAreas[0] === 0 && dir === 'Down';\n            const shouldCloseByOffset =\n                isSecondArea && canClose && 1 - currentSheetHeight / activeArea > CLOSE_OFFSET;\n\n            if (shouldCloseByOffset) {\n                onClose();\n\n                return;\n            }\n\n            const { nearestArea } = magneticAreas.reduceRight(\n                (res, area) => {\n                    if (Math.abs(area - currentSheetHeight) < res.minOffset) {\n                        res.minOffset = area - currentSheetHeight;\n                        res.nearestArea = area;\n                    }\n\n                    return res;\n                },\n                {\n                    nearestArea: lastMagneticArea,\n                    minOffset: lastMagneticArea,\n                },\n            );\n\n            if (nearestArea === 0) {\n                onClose();\n            } else {\n                setSheetOffset(lastMagneticArea - nearestArea);\n                setActiveArea(nearestArea);\n                setBackdropOpacity(1);\n            }\n        };\n\n        /**\n         * Если контент внутри шторки скроллится - то шторка не должна свайпаться\n         * Если шапка внутри шторки зафиксирована - то шторка должна свайпаться только в области шапки\n         */\n        const shouldSkipSwiping = (dir: SwipeDirections, startY: number) => {\n            if (!swipeable) return true;\n\n            if (scrollLockedProp || swipingInProgress.current) return false;\n\n            const scrollableNode = scrollableContainer.current;\n            // Точка верхней границы (y координата)\n            const bottomSheetTopY = fullHeight - sheetHeight.current;\n\n            if (\n                !scrollableNode ||\n                (!stickyHeader && Math.abs(bottomSheetTopY - startY) <= MARKER_HEIGHT) ||\n                (stickyHeader &&\n                    headerRef.current &&\n                    Math.abs(bottomSheetTopY - startY) <= headerRef.current.clientHeight)\n            ) {\n                return false;\n            }\n\n            return dir === 'Down'\n                ? scrollableNode.scrollTop > 0\n                : scrollableNode.scrollHeight -\n                      scrollableNode.scrollTop -\n                      scrollableNode.clientHeight >\n                      SCROLL_OFFSET;\n        };\n\n        const handleSheetSwipe: SwipeCallback = ({ dir, initial, velocity, deltaY }) => {\n            if (shouldSkipSwiping(dir, initial[1])) {\n                return;\n            }\n\n            magnetize(dir, velocity, deltaY);\n        };\n\n        const handleSheetSwipeStart: SwipeCallback = ({ dir, initial }) => {\n            if (shouldSkipSwiping(dir, initial[1])) {\n                return;\n            }\n\n            swipingInProgress.current = true;\n        };\n\n        const handleSheetSwiped: SwipeCallback = () => {\n            swipingInProgress.current = false;\n        };\n\n        const handleSheetSwiping: SwipeCallback = ({ initial, deltaY, dir }) => {\n            if (shouldSkipSwiping(dir, initial[1])) {\n                return;\n            }\n\n            const offset = getSheetOffset(deltaY);\n            const opacity = getBackdropOpacity(offset);\n\n            setSheetOffset(offset);\n            setBackdropOpacity(opacity);\n        };\n\n        const sheetSwipeableHandlers = useSwipeable({\n            onSwipeStart: handleSheetSwipeStart,\n            onSwiping: handleSheetSwiping,\n            onSwipedDown: handleSheetSwipe,\n            onSwipedUp: handleSheetSwipe,\n            onSwiped: handleSheetSwiped,\n            trackMouse: swipeable,\n            delta: 5,\n        });\n\n        const handleExited = (node: HTMLElement) => {\n            const idx = initialActiveAreaIndex as number;\n\n            setBackdropOpacity(1);\n            setSheetOffset(\n                hasInitialIdx ? lastMagneticArea - magneticAreas[idx] : magneticAreas[0],\n            );\n            setActiveArea(hasInitialIdx ? magneticAreas[idx] : lastMagneticArea);\n\n            if (transitionProps.onExited) {\n                transitionProps.onExited(node);\n            }\n        };\n\n        const handleEntered = (node: HTMLElement, isAppearing: boolean) => {\n            setBackdropOpacity(1);\n            setSheetHeight();\n            // Ready for swiping\n            swipingInProgress.current = false;\n\n            if (transitionProps.onEntered) {\n                transitionProps.onEntered(node, isAppearing);\n            }\n        };\n\n        useEffect(() => {\n            // Инициализируем стейт только после того, как была рассчитана высота вьюпорта.\n            if (!isFirstRender) {\n                setSheetOffset(\n                    hasInitialIdx ? lastMagneticArea - magneticAreas[initialActiveAreaIndex] : 0,\n                );\n\n                setActiveArea(\n                    hasInitialIdx ? magneticAreas[initialActiveAreaIndex] : lastMagneticArea,\n                );\n            }\n\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [isFirstRender]);\n\n        useEffect(() => {\n            onMagnetize?.(open ? getActiveAreaIndex(activeArea) : 0);\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [activeArea, open]);\n\n        useImperativeHandle(bottomSheetInstanceRef, () => ({\n            scrollToArea,\n        }));\n\n        const getSwipeStyles = (): CSSProperties =>\n            sheetOffset ? { transform: `translateY(${sheetOffset}px)` } : {};\n\n        const getHeightStyles = (): CSSProperties => ({\n            height: !isFirstRender && initialHeight === 'full' ? `${lastMagneticArea}px` : 'unset',\n            maxHeight: isFirstRender ? 0 : `${lastMagneticArea}px`,\n        });\n\n        const bgClassName = backgroundColor && styles[`background-${backgroundColor}`];\n\n        return (\n            <BaseModal\n                open={open}\n                ref={ref}\n                container={container}\n                dataTestId={dataTestId}\n                zIndex={zIndex}\n                onClose={onClose}\n                usePortal={usePortal}\n                scrollHandler={scrollableContainer}\n                Backdrop={SwipeableBackdrop}\n                backdropProps={{\n                    ...backdropProps,\n                    className: styles.disabledPointerEvents,\n                    opacity: backdropOpacity,\n                    opacityTimeout: TIMEOUT,\n                    invisible: hideOverlay,\n                }}\n                disableBackdropClick={hideOverlay ? true : disableOverlayClick}\n                className={cn(styles.modal, modalClassName)}\n                wrapperClassName={cn(modalWrapperClassName, {\n                    [styles.disabledPointerEvents]: hideOverlay,\n                })}\n                disableBlockingScroll={disableBlockingScroll}\n                disableFocusLock={disableFocusLock}\n                transitionProps={{\n                    appear: true,\n                    timeout: TIMEOUT,\n                    classNames: styles,\n                    ...transitionProps,\n                    onExited: handleExited,\n                    onEntered: handleEntered,\n                }}\n            >\n                <div\n                    style={{ ...getHeightStyles() }}\n                    className={styles.wrapper}\n                    onTransitionEnd={setSheetHeight}\n                >\n                    <div\n                        className={cn(styles.component, bgClassName, className, {\n                            [styles.withTransition]: swipingInProgress.current === false,\n                        })}\n                        style={{\n                            ...getSwipeStyles(),\n                            ...getHeightStyles(),\n                        }}\n                        {...sheetSwipeableHandlers}\n                        ref={mergeRefs([sheetRef, sheetContainerRef, sheetSwipeableHandlers.ref])}\n                        onTransitionEnd={setSheetHeight}\n                    >\n                        <div\n                            {...containerProps}\n                            className={cn(\n                                styles.scrollableContainer,\n                                containerProps?.className,\n                                containerClassName,\n                                {\n                                    [styles.scrollLocked]:\n                                        scrollLockedProp || swipingInProgress.current,\n                                    [styles.hiddenScrollbar]: hideScrollbar,\n                                },\n                            )}\n                            ref={mergeRefs([scrollableContainer, scrollableContainerRef])}\n                        >\n                            {swipeable && <div className={cn(styles.marker)} />}\n\n                            {!hideHeader && !emptyHeader && <Header {...headerProps} />}\n\n                            <div\n                                className={cn(styles.content, contentClassName, {\n                                    [styles.noHeader]: hideHeader || emptyHeader,\n                                    [styles.noFooter]: !actionButton,\n                                })}\n                            >\n                                {children}\n                            </div>\n\n                            {actionButton && (\n                                <Footer\n                                    sticky={stickyFooter}\n                                    className={cn(bgClassName, footerClassName)}\n                                >\n                                    {actionButton}\n                                </Footer>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </BaseModal>\n        );\n    },\n);\n","export const TIMEOUT = 500;\nexport const SWIPE_VELOCITY = 0.4;\nexport const MARKER_HEIGHT = 24;\n/* Верхний отступ шторки, если она открыта на максимальную высоту */\nexport const HEADER_OFFSET = 24;\nexport const CLOSE_OFFSET = 0.2;\nexport const SCROLL_OFFSET = 1;\n\nexport const convertPercentToNumber = (value: string | number, fullHeight: number) => {\n    const maxHeight = fullHeight - HEADER_OFFSET;\n\n    if (typeof value === 'string') {\n        const percent = parseFloat(value) / 100;\n\n        if (percent < 0) {\n            return Math.min(maxHeight, fullHeight + fullHeight * percent);\n        }\n\n        return Math.min(maxHeight, fullHeight * percent);\n    }\n\n    if (value < 0) {\n        return Math.max(0, fullHeight + value);\n    }\n\n    return Math.min(maxHeight, value);\n};\n"],"names":["Footer","_ref","_cn","children","className","sticky","_useContext","useContext","BaseModalContext","footerHighlighted","setHasFooter","useEffect","_jsx","cn","styles","_defineProperty","Header","headerRef","title","restProps","_objectWithoutProperties","_excluded","setHeaderOffset","setHasHeader","headerHighlighted","onClose","HEADER_OFFSET","hasContent","Boolean","NavigationBar","_objectSpread","ref","view","contentClassName","SwipeableBackdrop","opacity","handlers","opacityTimeout","style","backdropProps","transition","concat","position","Backdrop","BottomSheet","forwardRef","_cn3","_cn4","open","container","usePortal","backgroundColor","_ref$titleSize","titleSize","subtitle","actionButton","containerClassName","containerProps","headerClassName","footerClassName","addonClassName","closerClassName","backerClassName","modalClassName","modalWrapperClassName","leftAddons","rightAddons","bottomAddons","hasCloser","hasBacker","_ref$titleAlign","titleAlign","trimTitle","stickyHeader","_ref$stickyFooter","stickyFooter","_ref$initialHeight","initialHeight","hideOverlay","hideScrollbar","hideHeader","disableOverlayClick","disableBlockingScroll","disableFocusLock","zIndex","_ref$transitionProps","transitionProps","magneticAreasProp","magneticAreas","initialActiveAreaIndex","dataTestId","_ref$swipeable","swipeable","scrollLockedProp","scrollLocked","_ref$scrollableContai","scrollableContainerRef","bottomSheetInstanceRef","_ref$sheetContainerRe","sheetContainerRef","onBack","onMagnetize","hasInitialIdx","undefined","fullHeight","use100vh","isFirstRender","useMemo","map","area","convertPercentToNumber","lastMagneticArea","length","_useState","useState","_useState2","_slicedToArray","sheetOffset","setSheetOffset","_useState3","_useState4","backdropOpacity","setBackdropOpacity","_useState5","_useState6","activeArea","setActiveArea","swipingInProgress","useRef","sheetHeight","sheetRef","scrollableContainer","emptyHeader","titleIsReactElement","React","headerProps","toString","scrollableParentRef","backButtonClassName","hasBackButton","align","trim","getDataTestId","getSheetOffset","deltaY","offset","maxOffset","Math","min","max","round","setSheetHeight","current","getBoundingClientRect","height","scrollToArea","idx","nextArea","shouldSkipSwiping","dir","startY","scrollableNode","bottomSheetTopY","abs","MARKER_HEIGHT","clientHeight","scrollTop","scrollHeight","SCROLL_OFFSET","handleSheetSwipe","_ref2","initial","velocity","magnetize","shouldMagnetizeDownByVelocity","SWIPE_VELOCITY","shouldMagnetizeUpByVelocity","slice","reverse","find","prevState","currentSheetHeight","secondArea","isSecondArea","canClose","CLOSE_OFFSET","nearestArea","reduceRight","res","minOffset","sheetSwipeableHandlers","useSwipeable","onSwipeStart","handleSheetSwipeStart","_ref3","onSwiping","handleSheetSwiping","_ref4","getBackdropOpacity","Number","toFixed","onSwipedDown","onSwipedUp","onSwiped","handleSheetSwiped","trackMouse","delta","getActiveAreaIndex","findIndex","a","useImperativeHandle","getHeightStyles","maxHeight","bgClassName","BaseModal","scrollHandler","TIMEOUT","invisible","disableBackdropClick","wrapperClassName","appear","timeout","classNames","onExited","handleExited","node","onEntered","handleEntered","isAppearing","onTransitionEnd","getSwipeStyles","transform","mergeRefs","_jsxs","value","percent","parseFloat"],"sourceRoot":""}